{
    "url": "https://api.github.com/repos/spack/spack/issues/2499",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2499/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2499/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2499/events",
    "html_url": "https://github.com/spack/spack/issues/2499",
    "id": 193940305,
    "node_id": "MDU6SXNzdWUxOTM5NDAzMDU=",
    "number": 2499,
    "title": "Proposal: Dummy Variants",
    "user": {
        "login": "citibeth",
        "id": 1924215,
        "node_id": "MDQ6VXNlcjE5MjQyMTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1924215?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/citibeth",
        "html_url": "https://github.com/citibeth",
        "followers_url": "https://api.github.com/users/citibeth/followers",
        "following_url": "https://api.github.com/users/citibeth/following{/other_user}",
        "gists_url": "https://api.github.com/users/citibeth/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/citibeth/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/citibeth/subscriptions",
        "organizations_url": "https://api.github.com/users/citibeth/orgs",
        "repos_url": "https://api.github.com/users/citibeth/repos",
        "events_url": "https://api.github.com/users/citibeth/events{/privacy}",
        "received_events_url": "https://api.github.com/users/citibeth/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 466955297,
            "node_id": "MDU6TGFiZWw0NjY5NTUyOTc=",
            "url": "https://api.github.com/repos/spack/spack/labels/proposal",
            "name": "proposal",
            "color": "0e8a16",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 10,
    "created_at": "2016-12-07T02:17:01Z",
    "updated_at": "2019-12-09T11:49:23Z",
    "closed_at": "2019-12-09T11:49:23Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "This is in reponse to #2494 and others.\r\n\r\nSpack packages get hash codes based on the spec used to install them.  The implicit assumption is that if two install directories have the same spec, then they will have the same software inside them.  This assumption breaks down for packages that are really installers for a suite of packages.  For example:\r\n  a) `luarocks`, `pip`, etc --- these install stuff later on, thus changing their contents\r\n  b) Similar thing for X11 fonts?\r\n  c) `texlive` --- this installer makes no guarantees or claims about the versions it is installing.  You just get the \"latest available version\" of stuff.  And like `luarocks`, the user might later change the installation.\r\n\r\nSpack can install these installers, but they do break the assumptions of the meaning of a hash.  One partial fix would be to make sure that each installation of an installer package has a unique hash (even if it's installed with the same variants and versions as another installed version).  We could do that pretty easily by adding a \"dummy\" string-valued variant to the package in question.  By setting this variant, the user could install multiple meta-installers.  Management of them would now be up to the user and no longer under Spack control --- but that's the case anyway.\r\n\r\nSo... this proposal seems to be to simply add an extra dummy variant to packages that are actually installers (`luarocks`, `pip`, `texlive`, etc).\r\n\r\n\r\n",
    "performed_via_github_app": null
}