{
    "url": "https://api.github.com/repos/spack/spack/issues/24169",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24169/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24169/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24169/events",
    "html_url": "https://github.com/spack/spack/pull/24169",
    "id": 912810346,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjYyOTM3OTUz",
    "number": 24169,
    "title": "[cmd.spec] add tests command line  argument similar to `spack install`",
    "user": {
        "login": "vvolkl",
        "id": 5057884,
        "node_id": "MDQ6VXNlcjUwNTc4ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5057884?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vvolkl",
        "html_url": "https://github.com/vvolkl",
        "followers_url": "https://api.github.com/users/vvolkl/followers",
        "following_url": "https://api.github.com/users/vvolkl/following{/other_user}",
        "gists_url": "https://api.github.com/users/vvolkl/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vvolkl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vvolkl/subscriptions",
        "organizations_url": "https://api.github.com/users/vvolkl/orgs",
        "repos_url": "https://api.github.com/users/vvolkl/repos",
        "events_url": "https://api.github.com/users/vvolkl/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vvolkl/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 471995122,
            "node_id": "MDU6TGFiZWw0NzE5OTUxMjI=",
            "url": "https://api.github.com/repos/spack/spack/labels/commands",
            "name": "commands",
            "color": "006b75",
            "default": false,
            "description": null
        },
        {
            "id": 446623646,
            "node_id": "MDU6TGFiZWw0NDY2MjM2NDY=",
            "url": "https://api.github.com/repos/spack/spack/labels/concretization",
            "name": "concretization",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "haampie",
        "id": 194764,
        "node_id": "MDQ6VXNlcjE5NDc2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/194764?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/haampie",
        "html_url": "https://github.com/haampie",
        "followers_url": "https://api.github.com/users/haampie/followers",
        "following_url": "https://api.github.com/users/haampie/following{/other_user}",
        "gists_url": "https://api.github.com/users/haampie/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/haampie/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/haampie/subscriptions",
        "organizations_url": "https://api.github.com/users/haampie/orgs",
        "repos_url": "https://api.github.com/users/haampie/repos",
        "events_url": "https://api.github.com/users/haampie/events{/privacy}",
        "received_events_url": "https://api.github.com/users/haampie/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "haampie",
            "id": 194764,
            "node_id": "MDQ6VXNlcjE5NDc2NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/194764?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haampie",
            "html_url": "https://github.com/haampie",
            "followers_url": "https://api.github.com/users/haampie/followers",
            "following_url": "https://api.github.com/users/haampie/following{/other_user}",
            "gists_url": "https://api.github.com/users/haampie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haampie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haampie/subscriptions",
            "organizations_url": "https://api.github.com/users/haampie/orgs",
            "repos_url": "https://api.github.com/users/haampie/repos",
            "events_url": "https://api.github.com/users/haampie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haampie/received_events",
            "type": "User",
            "site_admin": false
        },
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-06-06T12:21:37Z",
    "updated_at": "2021-06-11T08:59:18Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/24169",
        "html_url": "https://github.com/spack/spack/pull/24169",
        "diff_url": "https://github.com/spack/spack/pull/24169.diff",
        "patch_url": "https://github.com/spack/spack/pull/24169.patch"
    },
    "body": "This allows to 'preview' what test dependencies would  be installed by `spack install --test=all`.\r\n\r\nexample:\r\n\r\n```\r\n~/r/spack/lib/spack/spack (spec-I-test *)$ spack spec -t --test=root  -I flann\r\nInput spec\r\n--------------------------------\r\n -   [    ]  flann\r\n\r\nConcretized\r\n--------------------------------\r\nflann\r\n -   [    ]  flann@1.9.1%gcc@9.3.0+c~cuda~doc~examples+hdf5~ipo~matlab+mpi+openmp~python build_type=RelWithDebInfo patches=c50dedac4a9223c7353eb0b773da39b5b631ce7d3fd9e1f6e5f87eda6faf3fdb arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]      ^boost@1.63.0%gcc@9.3.0+atomic+chrono+date_time~debug+filesystem~graph~icu+iostreams+locale+log+math+mpi+multithreaded+program_options+python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer+wave arch=linux-ubuntu20.04-skylake\r\n[+]  [b   ]      ^cmake@3.12%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [   t]      ^googletest@1.10.0%gcc@9.3.0~gmock~ipo+pthreads+shared build_type=RelWithDebInfo arch=linux-ubuntu20.04-skylake\r\n -   [bl t]      ^hdf5@2.3%gcc@9.3.0+mpi arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]          ^openmpi@4.0.5%gcc@9.3.0~atomics~cuda~cxx~cxx_exceptions+gpfs~internal-hwloc~java~legacylaunchers~lustre~memchecker~pmi~singularity~sqlite3+static~thread_multiple+vt+wrapper-rpath fabrics=none patches=60ce20bc14d98c572ef7883b9fcd254c3f232c2f3a13377480f96466169ac4c8 schedulers=none arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]              ^hwloc@2.4.1%gcc@9.3.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml+pci+shared arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^libpciaccess@0.16%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                      ^libtool@2.4.6%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b r ]                          ^m4@1.4.18%gcc@9.3.0+sigsegv patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                              ^libsigsegv@2.13%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n[+]  [b   ]                      ^pkgconf@1.7.4%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                      ^util-macros@1.19.1%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^libxml2@2.9.10%gcc@9.3.0~python arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                      ^libiconv@1.16%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                      ^xz@5.2.5%gcc@9.3.0~pic libs=shared,static arch=linux-ubuntu20.04-skylake\r\n[+]  [bl  ]                      ^zlib@1.2.11%gcc@9.3.0+optimize+pic+shared arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^ncurses@6.2%gcc@9.3.0~symlinks+termlib abi=none arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]              ^libevent@2.1.12%gcc@9.3.0+openssl arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^openssl@1.1.1f%gcc@9.3.0~docs+systemcerts arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]              ^numactl@2.0.14%gcc@9.3.0 patches=4e1d78cbbb85de625bad28705e748856033eaafab92a66dffd383a3d7e00cc94,62fc8a8bf7665a60e8f4c93ebbd535647cebf74198f7afafec4c085a8825c006 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                  ^autoconf@2.69%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b r ]                      ^perl@5.30.0%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                  ^automake@1.16.3%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [  r ]              ^openssh@8.5p1%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^libedit@3.1-20210216%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n\r\n```\r\n\r\nthe googletest dependency is not present without `--test`\r\n```\r\n~/r/spack/lib/spack/spack (spec-I-test)$ spack spec -t   -I flann\r\nInput spec\r\n--------------------------------\r\n -   [    ]  flann\r\n\r\nConcretized\r\n--------------------------------\r\n -   [    ]  flann@1.9.1%gcc@9.3.0+c~cuda~doc~examples+hdf5~ipo~matlab+mpi+openmp~python build_type=RelWithDebInfo patches=c50dedac4a9223c7353eb0b773da39b5b631ce7d3fd9e1f6e5f87eda6faf3fdb arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]      ^boost@1.63.0%gcc@9.3.0+atomic+chrono+date_time~debug+filesystem~graph~icu+iostreams+locale+log+math+mpi+multithreaded+program_options+python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer+wave arch=linux-ubuntu20.04-skylake\r\n[+]  [b   ]      ^cmake@3.12%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl t]      ^hdf5@2.3%gcc@9.3.0+mpi arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]          ^openmpi@4.0.5%gcc@9.3.0~atomics~cuda~cxx~cxx_exceptions+gpfs~internal-hwloc~java~legacylaunchers~lustre~memchecker~pmi~singularity~sqlite3+static~thread_multiple+vt+wrapper-rpath fabrics=none patches=60ce20bc14d98c572ef7883b9fcd254c3f232c2f3a13377480f96466169ac4c8 schedulers=none arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]              ^hwloc@2.4.1%gcc@9.3.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml+pci+shared arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^libpciaccess@0.16%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                      ^libtool@2.4.6%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b r ]                          ^m4@1.4.18%gcc@9.3.0+sigsegv patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                              ^libsigsegv@2.13%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n[+]  [b   ]                      ^pkgconf@1.7.4%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                      ^util-macros@1.19.1%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^libxml2@2.9.10%gcc@9.3.0~python arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                      ^libiconv@1.16%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                      ^xz@5.2.5%gcc@9.3.0~pic libs=shared,static arch=linux-ubuntu20.04-skylake\r\n[+]  [bl  ]                      ^zlib@1.2.11%gcc@9.3.0+optimize+pic+shared arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^ncurses@6.2%gcc@9.3.0~symlinks+termlib abi=none arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]              ^libevent@2.1.12%gcc@9.3.0+openssl arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^openssl@1.1.1f%gcc@9.3.0~docs+systemcerts arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]              ^numactl@2.0.14%gcc@9.3.0 patches=4e1d78cbbb85de625bad28705e748856033eaafab92a66dffd383a3d7e00cc94,62fc8a8bf7665a60e8f4c93ebbd535647cebf74198f7afafec4c085a8825c006 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                  ^autoconf@2.69%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b r ]                      ^perl@5.30.0%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [b   ]                  ^automake@1.16.3%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [  r ]              ^openssh@8.5p1%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n -   [bl  ]                  ^libedit@3.1-20210216%gcc@9.3.0 arch=linux-ubuntu20.04-skylake\r\n```",
    "performed_via_github_app": null
}