{
    "url": "https://api.github.com/repos/spack/spack/issues/10578",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10578/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10578/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10578/events",
    "html_url": "https://github.com/spack/spack/issues/10578",
    "id": 409504967,
    "node_id": "MDU6SXNzdWU0MDk1MDQ5Njc=",
    "number": 10578,
    "title": "I have an empty spack environment, but when I try to install, spack says my package is already installed",
    "user": {
        "login": "jgalarowicz",
        "id": 630197,
        "node_id": "MDQ6VXNlcjYzMDE5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/630197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgalarowicz",
        "html_url": "https://github.com/jgalarowicz",
        "followers_url": "https://api.github.com/users/jgalarowicz/followers",
        "following_url": "https://api.github.com/users/jgalarowicz/following{/other_user}",
        "gists_url": "https://api.github.com/users/jgalarowicz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jgalarowicz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jgalarowicz/subscriptions",
        "organizations_url": "https://api.github.com/users/jgalarowicz/orgs",
        "repos_url": "https://api.github.com/users/jgalarowicz/repos",
        "events_url": "https://api.github.com/users/jgalarowicz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jgalarowicz/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2019-02-12T21:19:23Z",
    "updated_at": "2020-02-07T09:57:45Z",
    "closed_at": "2020-02-07T09:57:45Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I think this is a bug unless I'm not understanding how spack environments are supposed to work.\r\n\r\nI created and activated an environment on a system that I had already built several packages.\r\nI did a spack find after activating the environment and a spack find showed no packages installed.\r\nHowever, when I tried to install the ecp-proxy-apps package, spack said it was already installed.\r\n\r\nThis is from ascent at ORNL using the latest development spack sources as of (2/12/19).\r\n\r\nThese were the modules loaded:\r\n```Currently Loaded Modules:\r\n  1) lsf-tools/2.0   2) DefApps   3) gcc/6.4.0   4) spectrum-mpi/10.2.0.10-20181214\r\n```\r\nThis is the scenario:\r\n\r\n```[jgalarowicz@login1.ascent spack]$ spack env list\r\n==> No environments\r\n[jgalarowicz@login1.ascent spack]$ spack env create ciproxyappsenv\r\n==> Created environment 'ciproxyappsenv' in /autofs/nccsopen-svm1_home/jgalarowicz/spack/var/spack/environments/ciproxyappsenv\r\n[jgalarowicz@login1.ascent spack]$  spack find\r\n==> 193 installed packages\r\n-- linux-rhel7-ppc64le / gcc@4.8.5 ------------------------------\r\namg@1.1           elfutils@0.175     hwloc@1.11.11      libiconv@1.15          libxcb@1.13                    ninja@1.8.2                 sqlite@3.26.0\r\nautoconf@2.69     ember@1.0.0        hypre@2.15.1       libjpeg-turbo@1.5.90   libxdmcp@1.1.2                 numactl@2.0.12              tar@1.31\r\nautomake@1.16.1   examinimd@1.0      icu4c@60.1         libmng@2.0.3           libxext@1.3.3                  openblas@0.3.5              util-macros@1.19.1\r\nbinutils@2.31.1   expat@2.2.5        inputproto@2.3.2   libmonitor@2013.02.18  libxml2@2.9.8                  openmpi@10.2.0.10-20181214  xcb-proto@1.13\r\nbison@3.0.5       flex@2.6.1         intel-tbb@2019.2   libpciaccess@0.13.5    llvm-openmp-ompt@tr6_forwards  openspeedshop@2.4.0         xerces-c@3.2.2\r\nboost@1.69.0      font-util@1.3.1    json-cwx@0.12      libpng@1.2.57          lz4@1.8.1.2                    openssl@1.0.2p              xextproto@7.3.0\r\nbzip2@1.0.6       fontconfig@2.12.3  kbproto@1.0.7      libpthread-stubs@0.4   lzo@2.09                       openssl@1.1.1               xproto@7.0.31\r\ncbtf@1.9.2        freetype@2.9.1     kokkos@2.7.00      libsigsegv@2.11        m4@1.4.18                      papi@5.6.0                  xtrans@1.3.5\r\ncbtf-krell@1.9.2  gdbm@1.18.1        laghos@2.0         libtiff@4.0.9          metis@5.1.0                    perl@5.26.2                 xz@5.2.4\r\ncmake@3.12.2      gettext@0.19.8.1   lcms@2.9           libtool@2.4.6          mfem@3.4.0                     pkgconf@1.5.4               zlib@1.2.11\r\ncmake@3.13.4      gmp@6.1.2          libarchive@3.3.2   libunwind@1.2.1        mrnet@5.0.1-3                  python@2.7.15\r\ncurl@7.63.0       gotcha@1.0.2       libbsd@0.9.1       libuv@1.25.0           nasm@2.13.03                   qt@3.3.8b\r\ndiffutils@3.7     gperf@3.0.4        libdwarf@20180129  libx11@1.6.7           ncurses@6.1                    readline@7.0\r\ndyninst@10.0.0    help2man@1.47.4    libiberty@2.31.1   libxau@1.0.8           nettle@3.4                     rhash@1.3.5\r\n\r\n-- linux-rhel7-ppc64le / gcc@6.4.0 ------------------------------\r\namg@1.1          diffutils@3.7       fftw@3.3.8     json-cwx@0.12        libsigsegv@2.11  metis@5.1.0    nettle@3.4                  pkgconf@1.5.4       xsbench@18\r\namg@1.1          ecp-proxy-apps@2.0  gdbm@1.18.1    kokkos@2.7.00        libtool@2.4.6    mfem@3.4.0     numactl@2.0.12              readline@7.0        xz@5.2.4\r\nautoconf@2.69    ember@1.0.0         gmp@6.1.2      laghos@2.0           libxml2@2.9.8    miniamr@1.4.1  openblas@0.3.5              silo@4.10.2         zlib@1.2.11\r\nautomake@1.16.1  ember@1.0.0         hdf5@1.10.4    libarchive@3.3.2     lz4@1.8.1.2      miniqmc@0.4.0  openmpi@10.2.0.10-20181214  sw4lite@1.1\r\nbzip2@1.0.6      examinimd@1.0       hwloc@1.11.11  libbsd@0.9.1         lzo@2.09         minivite@1.0   openssl@1.0.2p              swfft@1.0\r\ncmake@3.12.2     examinimd@1.0       hypre@2.15.1   libiconv@1.15        m4@1.4.18        ncurses@6.1    perl@5.26.2                 thornado-mini@1.0\r\ncurl@7.63.0      expat@2.2.5         hypre@2.15.1   libpciaccess@0.13.5  macsio@1.1       nekbone@17.0   picsarlite@0.1              util-macros@1.19.1\r\n\r\n-- linux-rhel7-ppc64le / gcc@8.1.1 ------------------------------\r\namg@1.1          curl@7.63.0    examinimd@1.0  hwloc@1.11.11     libarchive@3.3.2     libsigsegv@2.11  lz4@1.8.1.2  nettle@3.4      openssl@1.1.1  rhash@1.3.5\r\nautoconf@2.69    curl@7.63.0    expat@2.2.5    hypre@2.15.1      libbsd@0.9.1         libtool@2.4.6    lzo@2.09     numactl@2.0.12  perl@5.26.2    util-macros@1.19.1\r\nautomake@1.16.1  diffutils@3.7  gdbm@1.18.1    kokkos@2.7.00     libiconv@1.15        libuv@1.25.0     m4@1.4.18    openblas@0.3.5  pkgconf@1.5.4  xz@5.2.4\r\nbzip2@1.0.6      ember@1.0.0    gmp@6.1.2      libarchive@3.3.2  libpciaccess@0.13.5  libxml2@2.9.8    ncurses@6.1  openssl@1.0.2p  readline@7.0   zlib@1.2.11\r\n[jgalarowicz@login1.ascent spack]$  eval `spack env activate --sh ciproxyappsenv`\r\n[jgalarowicz@login1.ascent spack]$ spack find\r\n==> In environment ciproxyappsenv\r\n==> No root specs\r\n\r\n==> 0 installed packages\r\n\r\n[jgalarowicz@login1.ascent spack]$ spack install ecp-proxy-apps %gcc@6.4.0 ^openmpi  ^fftw simd=vsx\r\n==> ecp-proxy-apps is already installed in /autofs/nccsopen-svm1_home/jgalarowicz/spack/opt/spack/linux-rhel7-ppc64le/gcc-6.4.0/ecp-proxy-apps-2.0-3yte5ayn2fxgxmkdcskaurvs263t6fba\r\n[jgalarowicz@login1.ascent spack]$\r\n```\r\n\r\n",
    "performed_via_github_app": null
}