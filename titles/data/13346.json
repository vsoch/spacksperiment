{
    "url": "https://api.github.com/repos/spack/spack/issues/13346",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13346/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13346/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13346/events",
    "html_url": "https://github.com/spack/spack/issues/13346",
    "id": 509656535,
    "node_id": "MDU6SXNzdWU1MDk2NTY1MzU=",
    "number": 13346,
    "title": "spack env loads fails if there are blacklisted modules",
    "user": {
        "login": "glennpj",
        "id": 16138574,
        "node_id": "MDQ6VXNlcjE2MTM4NTc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/16138574?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glennpj",
        "html_url": "https://github.com/glennpj",
        "followers_url": "https://api.github.com/users/glennpj/followers",
        "following_url": "https://api.github.com/users/glennpj/following{/other_user}",
        "gists_url": "https://api.github.com/users/glennpj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/glennpj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/glennpj/subscriptions",
        "organizations_url": "https://api.github.com/users/glennpj/orgs",
        "repos_url": "https://api.github.com/users/glennpj/repos",
        "events_url": "https://api.github.com/users/glennpj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/glennpj/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 512483390,
            "node_id": "MDU6TGFiZWw1MTI0ODMzOTA=",
            "url": "https://api.github.com/repos/spack/spack/labels/impact-medium",
            "name": "impact-medium",
            "color": "fef2c0",
            "default": false,
            "description": ""
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-10-20T21:38:19Z",
    "updated_at": "2019-12-05T03:17:40Z",
    "closed_at": "2019-12-05T03:17:40Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I have an environment with blacklisted modules. Running `spack env loads` fails if run with blacklisted modules.\r\n\r\n```console\r\n$ spack env loads --module-type tcl --dependencies --input-only\r\n==> Error: No module available for package py-numpy@1.17.2%gcc@9.1.0+blas+lapack arch=linux-centos7-sandybridge ^bzip2@1.0.6%gcc@9.1.0+shared arch=linux-centos7-sandybridge ^diffutils@3.7%gcc@9.1.0 arch=linux-centos7-sandybridge ^expat@2.2.9%gcc@9.1.0+libbsd arch=linux-centos7-sandybridge ^gdbm@1.18.1%gcc@9.1.0 arch=linux-centos7-sandybridge ^gettext@0.20.1%gcc@9.1.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-centos7-sandybridge ^intel-mkl@2019.3.199%gcc@9.1.0~ilp64+shared threads=none arch=linux-centos7-sandybridge ^libbsd@0.9.1%gcc@9.1.0 arch=linux-centos7-sandybridge ^libffi@3.2.1%gcc@9.1.0 arch=linux-centos7-sandybridge ^libiconv@1.16%gcc@9.1.0 arch=linux-centos7-sandybridge ^libxml2@2.9.9%gcc@9.1.0~python arch=linux-centos7-sandybridge ^ncurses@6.1%gcc@9.1.0~symlinks~termlib arch=linux-centos7-sandybridge ^openssl@1.0.2k%gcc@9.1.0+systemcerts arch=linux-centos7-sandybridge ^pkgconf@1.6.3%gcc@9.1.0 arch=linux-centos7-sandybridge ^py-setuptools@41.4.0%gcc@9.1.0 arch=linux-centos7-sandybridge ^python@3.7.3%gcc@9.1.0+bz2+ctypes+dbm+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4~uuid+zlib arch=linux-centos7-sandybridge ^readline@8.0%gcc@9.1.0 arch=linux-centos7-sandybridge ^sqlite@3.30.0%gcc@9.1.0~column_metadata+fts~functions~rtree arch=linux-centos7-sandybridge ^tar@1.32%gcc@9.1.0 arch=linux-centos7-sandybridge ^xz@5.2.4%gcc@9.1.0 arch=linux-centos7-sandybridge ^zlib@1.2.11%gcc@9.1.0+optimize+pic+shared arch=linux-centos7-sandybridge at /opt/packages/gpjohnsn/opt/ssoft/modules/packages/2019.1/linux-centos7-sandybridge/py-numpy/1.17.2_gcc-9.1.0-python-3.7.3\r\n```\r\nThis used to work by putting the packages that did have modules in the loads file.",
    "performed_via_github_app": null
}