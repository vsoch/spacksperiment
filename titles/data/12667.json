{
    "url": "https://api.github.com/repos/spack/spack/issues/12667",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12667/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12667/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12667/events",
    "html_url": "https://github.com/spack/spack/issues/12667",
    "id": 487660252,
    "node_id": "MDU6SXNzdWU0ODc2NjAyNTI=",
    "number": 12667,
    "title": "Installation issue: netcdf",
    "user": {
        "login": "omsai",
        "id": 166624,
        "node_id": "MDQ6VXNlcjE2NjYyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/166624?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/omsai",
        "html_url": "https://github.com/omsai",
        "followers_url": "https://api.github.com/users/omsai/followers",
        "following_url": "https://api.github.com/users/omsai/following{/other_user}",
        "gists_url": "https://api.github.com/users/omsai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/omsai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/omsai/subscriptions",
        "organizations_url": "https://api.github.com/users/omsai/orgs",
        "repos_url": "https://api.github.com/users/omsai/repos",
        "events_url": "https://api.github.com/users/omsai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/omsai/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 512483297,
            "node_id": "MDU6TGFiZWw1MTI0ODMyOTc=",
            "url": "https://api.github.com/repos/spack/spack/labels/impact-low",
            "name": "impact-low",
            "color": "fef2c0",
            "default": false,
            "description": ""
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 18,
    "created_at": "2019-08-30T20:33:04Z",
    "updated_at": "2020-01-03T19:09:09Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Looks like a parallel build failure bug?  Works once I run `spack -d install -j 1 $spec`\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install ioapi ^netcdf+parallel-netcdf % gcc@9.1.0\r\n...\r\n==> Installing netcdf\r\n==> Searching for binary cache of netcdf\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for netcdf found: installing from source\r\n==> Fetching https://www.gfd-dennou.org/arch/netcdf/unidata-mirror/netcdf-c-4.7.0.tar.gz\r\n######################################################################## 100.0%\r\n==> Fetching https://github.com/Unidata/netcdf-c/commit/e5315da1e748dc541d50796fb05233da65e86b6b.patch\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/spack-stage/yul18051/netcdf-4.7.0-37sfmh5bvahdgrqfheudxoramuaehq74/netcdf-c-4.7.0.tar.gz\r\n==> Created stage in /tmp/spack-stage/yul18051/netcdf-4.7.0-37sfmh5bvahdgrqfheudxoramuaehq74\r\nThe text leading up to this was:\r\n--------------------------\r\n|commit 13e70b397dcb0d1bf4a869b670f041c1d7b730d0\r\n|Author: Bj\u00f6rn Esser <besser82@fedoraproject.org>\r\n|Date:   Sat Jan 20 20:22:53 2018 +0100\r\n|\r\n|    pp: Guard fix for really old bug in glibc libcrypt\r\n|\r\n|diff --git a/pp.c b/pp.c\r\n|index d50ad7ddbf..6510c7b15c 100644\r\n|--- a/pp.c\r\n|+++ b/pp.c\r\n--------------------------\r\nFile to patch:\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\n$ uname -a \r\nLinux cn01 2.6.32-642.13.1.el6.x86_64 #1 SMP Wed Nov 23 16:03:01 EST 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:    Red Hat Enterprise Linux Server release 6.7 (Santiago)\r\n``` \r\nand, if relevant, post or attach:\r\n\r\n```yaml\r\n# compilers.yaml\r\ncompilers:\r\n- compiler:\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    modules: []\r\n    operating_system: rhel6\r\n    paths:\r\n      cc: /usr/bin/gcc\r\n      cxx: /usr/bin/g++\r\n      f77: /usr/bin/gfortran\r\n      fc: /usr/bin/gfortran\r\n    spec: gcc@4.4.7\r\n    target: x86_64\r\n- compiler:\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    modules: []\r\n    operating_system: rhel6\r\n    paths:\r\n      cc: /home/yul18051/src/cmaq/5.2.1/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-9.1.0-ypwshntn6jtaq2dvhaf5tnn6fw6ayzkj/bin/gcc\r\n      cxx: /home/yul18051/src/cmaq/5.2.1/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-9.1.0-ypwshntn6jtaq2dvhaf5tnn6fw6ayzkj/bin/g++\r\n      f77: /home/yul18051/src/cmaq/5.2.1/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-9.1.0-ypwshntn6jtaq2dvhaf5tnn6fw6ayzkj/bin/gfortran\r\n      fc: /home/yul18051/src/cmaq/5.2.1/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-9.1.0-ypwshntn6jtaq2dvhaf5tnn6fw6ayzkj/bin/gfortran\r\n    spec: gcc@9.1.0\r\n    target: x86_64\r\n```\r\n\r\nto the issue\r\n\r\n### Additional information\r\n\r\nSometimes the issue benefits from additional details. In these cases there are\r\na few things we can suggest doing. First of all, you can post the full output of:\r\n```console\r\n$ spack spec --install-status ioapi ^netcdf+parallel-netcdf % gcc@9.1.0\r\nInput spec\r\n--------------------------------\r\n -   ioapi\r\n -       ^netcdf%gcc@9.1.0+parallel-netcdf\r\n\r\nConcretized\r\n--------------------------------\r\n -   ioapi@3.2%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n -       ^netcdf@4.7.0%gcc@9.1.0~dap~hdf4 maxdims=1024 maxvars=8192 +mpi+parallel-netcdf patches=10a1c3f7fa05e2c82457482e272bbe04d66d0047b237ad0a73e87d63d848b16c +pic+shared arch=linux-rhel6-x86_64\r\n[+]          ^autoconf@2.69%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]              ^m4@1.4.18%gcc@9.1.0 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-rhel6-x86_64\r\n[+]                  ^libsigsegv@2.11%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]              ^perl@5.26.2%gcc@9.1.0+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-rhel6-x86_64\r\n[+]                  ^gdbm@1.18.1%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                      ^readline@7.0%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                          ^ncurses@6.1%gcc@9.1.0~symlinks~termlib arch=linux-rhel6-x86_64\r\n[+]                              ^pkgconf@1.6.1%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]          ^automake@1.16.1%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]          ^hdf5@1.10.5%gcc@9.1.0~cxx~debug~fortran+hl+mpi patches=b61e2f058964ad85be6ee5ecea10080bf79e73f83ff88d1fa4b602d00209da9c +pic+shared~szip~threadsafe arch=linux-rhel6-x86_64\r\n[+]              ^openmpi@3.1.4%gcc@9.1.0~cuda+cxx_exceptions fabrics=none ~java~legacylaunchers~memchecker~pmi schedulers=none ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64\r\n[+]                  ^hwloc@1.11.11%gcc@9.1.0~cairo~cuda~gl+libxml2~nvml+pci+shared arch=linux-rhel6-x86_64\r\n[+]                      ^libpciaccess@0.13.5%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                          ^libtool@2.4.6%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                          ^util-macros@1.19.1%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                      ^libxml2@2.9.9%gcc@9.1.0~python arch=linux-rhel6-x86_64\r\n[+]                          ^libiconv@1.15%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                          ^xz@5.2.4%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]                          ^zlib@1.2.11%gcc@9.1.0+optimize+pic+shared arch=linux-rhel6-x86_64\r\n[+]                      ^numactl@2.0.12%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n[+]          ^parallel-netcdf@1.11.2%gcc@9.1.0+cxx+fortran+pic arch=linux-rhel6-x86_64\r\n -       ^netcdf-fortran@4.4.5%gcc@9.1.0+pic arch=linux-rhel6-x86_64\r\n -       ^sed@4.2.2%gcc@9.1.0 arch=linux-rhel6-x86_64\r\n```\r\n\r\n```console\r\n$ spack -d install -j 1 <spec>\r\n# Apparently when I run this it works!?\r\n```\r\n",
    "performed_via_github_app": null
}