{
    "url": "https://api.github.com/repos/spack/spack/issues/2678",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2678/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2678/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2678/events",
    "html_url": "https://github.com/spack/spack/issues/2678",
    "id": 197512690,
    "node_id": "MDU6SXNzdWUxOTc1MTI2OTA=",
    "number": 2678,
    "title": "Valgrind builds tool for its own build that needs to be \"sbang-ed\"...",
    "user": {
        "login": "hartzell",
        "id": 312978,
        "node_id": "MDQ6VXNlcjMxMjk3OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/312978?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hartzell",
        "html_url": "https://github.com/hartzell",
        "followers_url": "https://api.github.com/users/hartzell/followers",
        "following_url": "https://api.github.com/users/hartzell/following{/other_user}",
        "gists_url": "https://api.github.com/users/hartzell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hartzell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hartzell/subscriptions",
        "organizations_url": "https://api.github.com/users/hartzell/orgs",
        "repos_url": "https://api.github.com/users/hartzell/repos",
        "events_url": "https://api.github.com/users/hartzell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hartzell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2016-12-25T19:31:45Z",
    "updated_at": "2016-12-26T19:12:00Z",
    "closed_at": "2016-12-26T19:11:59Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "My valgrind build failed thusly:\r\n\r\n```\r\n[...]\r\n/isilon/Analysis/scratch/hartzelg/spack/spack-20161221/lib/spack/env/gcc/gcc -m64 -O2 -g -std=gnu99 -Wall -Wmissing-prototypes -Wshadow -Wpointer-arith -Wstrict-prototypes -Wmissing-declarations -Wcast-align -Wcast-qual -Wwrite-strings -Wempty-body -Wformat -Wformat-security -Wignored-qualifiers -Wmissing-parameter-type -Wold-style-declaration -fno-stack-protector -fsanitize=undefined -fno-sanitize=alignment -fno-strict-aliasing -fno-builtin  -O -g -fno-omit-frame-pointer -fno-strict-aliasing -fpic -fno-builtin -fno-ipa-icf -O2  -nodefaultlibs -shared -Wl,-z,interpose,-z,initfirst  -m64 -Wl,--whole-archive ../coregrind/libreplacemalloc_toolpreload-amd64-linux.a -Wl,--no-whole-archive  -o vgpreload_memcheck-amd64-linux.so vgpreload_memcheck_amd64_linux_so-mc_replace_strmem.o\r\nmv -f .deps/memcheck_amd64_linux-mc_translate.Tpo .deps/memcheck_amd64_linux-mc_translate.Po\r\nmv -f .deps/memcheck_amd64_linux-mc_main.Tpo .deps/memcheck_amd64_linux-mc_main.Po\r\n../coregrind/link_tool_exe_linux 0x38000000 /isilon/Analysis/scratch/hartzelg/spack/spack-20161221/lib/spack/env/gcc/gcc     -o memcheck-amd64-linux -m64 -O2 -g -std=gnu99 -Wall -Wmissing-prototypes -Wshadow -Wpointer-arith -Wstrict-prototypes -Wmissing-declarations -Wcast-align -Wcast-qual -Wwrite-strings -Wempty-body -Wformat -Wformat-security -Wignored-qualifiers -Wmissing-parameter-type -Wold-style-declaration -fno-stack-protector -fsanitize=undefined -fno-sanitize=alignment -fno-strict-aliasing -fno-builtin  -fomit-frame-pointer -O2 -static -nodefaultlibs -nostartfiles -u _start  -m64 memcheck_amd64_linux-mc_leakcheck.o memcheck_amd64_linux-mc_malloc_wrappers.o memcheck_amd64_linux-mc_main.o memcheck_amd64_linux-mc_translate.o memcheck_amd64_linux-mc_machine.o memcheck_amd64_linux-mc_errors.o ../coregrind/libcoregrind-amd64-linux.a ../VEX/libvex-amd64-linux.a -lgcc\r\nmake[3]: ../coregrind/link_tool_exe_linux: Command not found\r\nmake[3]: *** [memcheck-amd64-linux] Error 127\r\nmake[3]: Leaving directory `/tmp/hartzelg/spack-stage/spack-stage-xpwBUb/valgrind-3.11.0/memcheck'\r\nmake[2]: *** [all-recursive] Error 1\r\nmake[2]: Leaving directory `/tmp/hartzelg/spack-stage/spack-stage-xpwBUb/valgrind-3.11.0/memcheck'\r\nmake[1]: *** [all-recursive] Error 1\r\nmake[1]: Leaving directory `/tmp/hartzelg/spack-stage/spack-stage-xpwBUb/valgrind-3.11.0'\r\nmake: *** [all] Error 2\r\n==> Executing phase : 'install'\r\n```\r\n\r\n`coregrind/link_tool_exe_linux` is built by the install script and has a hideously long perl shbang line.\r\n\r\nI understand how the `sbang` mechanism is connected via the post-install hook and runs as part of the `install` process.  Is there an approved way of wedging it into the build process (valgrind seems to be auto-tools based)?",
    "performed_via_github_app": null
}