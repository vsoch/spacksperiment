{
    "url": "https://api.github.com/repos/spack/spack/issues/8755",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8755/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8755/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8755/events",
    "html_url": "https://github.com/spack/spack/issues/8755",
    "id": 342700823,
    "node_id": "MDU6SXNzdWUzNDI3MDA4MjM=",
    "number": 8755,
    "title": "Nonexistent packages/versions could be handled better",
    "user": {
        "login": "HadrienG2",
        "id": 1305080,
        "node_id": "MDQ6VXNlcjEzMDUwODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1305080?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HadrienG2",
        "html_url": "https://github.com/HadrienG2",
        "followers_url": "https://api.github.com/users/HadrienG2/followers",
        "following_url": "https://api.github.com/users/HadrienG2/following{/other_user}",
        "gists_url": "https://api.github.com/users/HadrienG2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/HadrienG2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/HadrienG2/subscriptions",
        "organizations_url": "https://api.github.com/users/HadrienG2/orgs",
        "repos_url": "https://api.github.com/users/HadrienG2/repos",
        "events_url": "https://api.github.com/users/HadrienG2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/HadrienG2/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 509628729,
            "node_id": "MDU6TGFiZWw1MDk2Mjg3Mjk=",
            "url": "https://api.github.com/repos/spack/spack/labels/error-messages",
            "name": "error-messages",
            "color": "f9d0c4",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-07-19T12:07:33Z",
    "updated_at": "2018-07-19T13:20:51Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "There are various places in which the spack CLI does not detect and report the usage error where a non-existent package or version is specified. I created a single meta-ticket for this because the corresponding input validation improvements should probably be shared by all spack subcommands.\r\n\r\n### Expected Result\r\n\r\nPassing a non-existent package or version as a parameter to the spack CLI, where a package/version name is expected, should result in a short and easily understandable error message.\r\n\r\n### What works\r\n\r\nThe following commands behaved the way I would expect, with a quick and clear error message :tada: \r\n\r\n- `spack info nonexistent`\r\n- `spack install nonexistent`\r\n- `spack uninstall nonexistent` and `spack uninstall foo@nonexistent`\r\n- `spack spec nonexistent`\r\n- `spack module find nonexistent` and `spack module find foo@nonexistent`\r\n- `spack module refresh nonexistent` and `spack module refresh foo@nonexistent`\r\n- `spack module rm nonexistent`and `spack module rm foo@nonexistent`\r\n- `spack view` (tested with packages and versions, for commands add, check/statlink, hard(link), remove/rm, soft, status, and symlink).\r\n- `spack edit nonexistent`\r\n\r\n### What doesn't work\r\n\r\n`spack install foo@nonexistent` does... something. I think it tries to invent a new version. :-1: \r\n\r\n    $ spack install boost@nonexistent\r\n    ==> bzip2 is already installed in /home/hadrien/Software/spack/opt/spack/linux-opensuse_tumbleweed20180712-x86_64/gcc-8.1.1/bzip2-1.0.6-62ez6e6lkdgaqxpfyen44zqzgg5j5qy2\r\n    ==> zlib is already installed in /home/hadrien/Software/spack/opt/spack/linux-opensuse_tumbleweed20180712-x86_64/gcc-8.1.1/zlib-1.2.11-67gqffnirvrkraliougwemoaat6zbxma\r\n    ==> Installing boost\r\n    ==> Warning: There is no checksum on file to fetch boost@nonexistent safely.\r\n    ==>   Fetch anyway? [y/N]\r\n\r\n`spack load` and `spack module loads` fail silently when passed a non-existent package/version :-1: \r\n\r\n    $ spack load nonexistent\r\n    $ spack load boost@nonexistent\r\n    $ spack module loads nonexistent\r\n    $ spack module loads boost@nonexistent\r\n\r\n`spack unload` fails with a very unclear error message :-1: \r\n\r\n    $ spack unload nonexistent\r\n    ERROR: Unexpected number of args for 'unload' command\r\n    Try 'module --help' for more information.\r\n    $ spack unload boost@nonexistent\r\n    ERROR: Unexpected number of args for 'unload' command\r\n    Try 'module --help' for more information.\r\n\r\n(This last behaviour suggests that the spack CLI forwards unsanitized input down to the environment modules implementation, which is probably a bad idea)\r\n\r\n### Information on your system\r\n\r\nI am using Linux (OpenSUSE Tumbleweed) and environment modules as my `module` implementation.",
    "performed_via_github_app": null
}