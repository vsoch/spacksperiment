{
    "url": "https://api.github.com/repos/spack/spack/issues/21185",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21185/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21185/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21185/events",
    "html_url": "https://github.com/spack/spack/pull/21185",
    "id": 790733035,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTU4ODk4MDk1",
    "number": 21185,
    "title": "fix build failure due to #20759 change",
    "user": {
        "login": "srekolam",
        "id": 67086238,
        "node_id": "MDQ6VXNlcjY3MDg2MjM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/67086238?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/srekolam",
        "html_url": "https://github.com/srekolam",
        "followers_url": "https://api.github.com/users/srekolam/followers",
        "following_url": "https://api.github.com/users/srekolam/following{/other_user}",
        "gists_url": "https://api.github.com/users/srekolam/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/srekolam/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/srekolam/subscriptions",
        "organizations_url": "https://api.github.com/users/srekolam/orgs",
        "repos_url": "https://api.github.com/users/srekolam/repos",
        "events_url": "https://api.github.com/users/srekolam/events{/privacy}",
        "received_events_url": "https://api.github.com/users/srekolam/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1571451565,
            "node_id": "MDU6TGFiZWwxNTcxNDUxNTY1",
            "url": "https://api.github.com/repos/spack/spack/labels/AMD",
            "name": "AMD",
            "color": "21a843",
            "default": false,
            "description": ""
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2021-01-21T06:13:43Z",
    "updated_at": "2021-01-21T17:13:29Z",
    "closed_at": "2021-01-21T17:13:29Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/21185",
        "html_url": "https://github.com/spack/spack/pull/21185",
        "diff_url": "https://github.com/spack/spack/pull/21185.diff",
        "patch_url": "https://github.com/spack/spack/pull/21185.patch"
    },
    "body": "i see a build failure due to recent change from #20759  . making the openmp default=false for now.\r\n\r\nhere is log i see on my environment-\r\nmake[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-build-54alfhy'\r\nmake: *** [Makefile:174: all] Error 2\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n2 errors found in build log:\r\n     3149    cd /tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-build-54alfhy/projects/com\r\n             piler-rt/lib/sanitizer_common && /spack/lib/spack/env/gcc/g++ -DHAVE_RPC_XDR_H=0 -D_DEBUG -D_GNU_SOURCE -D__STDC_CONSTAN\r\n             T_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -I/tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyuco\r\n             e7rq5iciquq7whocreu2/spack-build-54alfhy/projects/compiler-rt/lib/sanitizer_common -I/tmp/root/spack-stage/spack-stage-l\r\n             lvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/compiler-rt/lib/sanitizer_common -I/tmp/root/spack-stage/spa\r\n             ck-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-build-54alfhy/include -I/tmp/root/spack-stage/spack-st\r\n             age-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/llvm/include -I/tmp/root/spack-stage/spack-stage-llvm-a\r\n             mdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/compiler-rt/lib/sanitizer_common/.. -fPIC -fvisibility-inlines-hi\r\n             dden -Werror=date-time -Wall -Wextra -Wno-unused-parameter -Wwrite-strings -Wcast-qual -Wno-missing-field-initializers -\r\n             pedantic -Wno-long-long -Wimplicit-fallthrough -Wno-maybe-uninitialized -Wno-class-memaccess -Wno-noexcept-type -Wdelete\r\n             -non-virtual-dtor -Wno-comment -ffunction-sections -fdata-sections -Wall -std=c++14 -Wno-unused-parameter -O3   -m64 -fP\r\n             IC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fno-stack-protector -fvisibility=hidden -fno-lto -\r\n             O3 -g -Wno-variadic-macros -Wno-non-virtual-dtor -fno-rtti -Wframe-larger-than=570 -DSANITIZER_SUPPORTS_WEAK_HOOKS=0 -UN\r\n             DEBUG -std=c++14 -o CMakeFiles/RTSanitizerCommonNoHooks.x86_64.dir/sanitizer_netbsd.cpp.o -c /tmp/root/spack-stage/spack\r\n             -stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/compiler-rt/lib/sanitizer_common/sanitizer_netbsd.cp\r\n             p\r\n     3150    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-b\r\n             uild-54alfhy'\r\n     3151    Can't locate Data/Dumper.pm in @INC (you may need to install the Data::Dumper module) (@INC contains: /tmp/root/spack-st\r\n             age/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/openmp/runtime/tools/lib /usr/local/lib64/p\r\n             erl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5)\r\n              at /tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/openmp/runtime/tools/\r\n             lib/tools.pm line 80.\r\n     3152    BEGIN failed--compilation aborted at /tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu\r\n             2/spack-src/openmp/runtime/tools/lib/tools.pm line 80.\r\n     3153    Compilation failed in require at /tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/sp\r\n             ack-src/openmp/runtime/tools/message-converter.pl line 22.\r\n     3154    BEGIN failed--compilation aborted at /tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu\r\n             2/spack-src/openmp/runtime/tools/message-converter.pl line 22.\r\n  >> 3155    make[2]: *** [projects/openmp/runtime/src/CMakeFiles/libomp-needed-headers.dir/build.make:85: projects/openmp/runtime/sr\r\n             c/kmp_i18n_id.inc] Error 2\r\n     3156    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-b\r\n             uild-54alfhy'\r\n  >> 3157    make[1]: *** [CMakeFiles/Makefile2:42528: projects/openmp/runtime/src/CMakeFiles/libomp-needed-headers.dir/all] Error 2\r\n     3158    make[1]: *** Waiting for unfinished jobs....\r\n     3159    [  8%] Built target RTFuzzerTest.x86_64\r\n     3160    [  8%] Building CXX object projects/compiler-rt/lib/sanitizer_common/CMakeFiles/RTSanitizerCommonNoHooks.x86_64.dir/sani\r\n             tizer_openbsd.cpp.o\r\n     3161    [  8%] Building CXX object projects/compiler-rt/lib/sanitizer_common/CMakeFiles/RTSanitizerCommonNoHooks.x86_64.dir/sani\r\n             tizer_persistent_allocator.cpp.o\r\n     3162    cd /tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-build-54alfhy/projects/com\r\n             piler-rt/lib/sanitizer_common && /spack/lib/spack/env/gcc/g++ -DHAVE_RPC_XDR_H=0 -D_DEBUG -D_GNU_SOURCE -D__STDC_CONSTAN\r\n             T_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -I/tmp/root/spack-stage/spack-stage-llvm-amdgpu-4.0.0-54alfhyqyuco\r\n             e7rq5iciquq7whocreu2/spack-build-54alfhy/projects/compiler-rt/lib/sanitizer_common -I/tmp/root/spack-stage/spack-stage-l\r\n             lvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/compiler-rt/lib/sanitizer_common -I/tmp/root/spack-stage/spa\r\n             ck-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-build-54alfhy/include -I/tmp/root/spack-stage/spack-st\r\n             age-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/llvm/include -I/tmp/root/spack-stage/spack-stage-llvm-a\r\n             mdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/compiler-rt/lib/sanitizer_common/.. -fPIC -fvisibility-inlines-hi\r\n             dden -Werror=date-time -Wall -Wextra -Wno-unused-parameter -Wwrite-strings -Wcast-qual -Wno-missing-field-initializers -\r\n             pedantic -Wno-long-long -Wimplicit-fallthrough -Wno-maybe-uninitialized -Wno-class-memaccess -Wno-noexcept-type -Wdelete\r\n             -non-virtual-dtor -Wno-comment -ffunction-sections -fdata-sections -Wall -std=c++14 -Wno-unused-parameter -O3   -m64 -fP\r\n             IC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fno-stack-protector -fvisibility=hidden -fno-lto -\r\n             O3 -g -Wno-variadic-macros -Wno-non-virtual-dtor -fno-rtti -Wframe-larger-than=570 -DSANITIZER_SUPPORTS_WEAK_HOOKS=0 -UN\r\n             DEBUG -std=c++14 -o CMakeFiles/RTSanitizerCommonNoHooks.x86_64.dir/sanitizer_openbsd.cpp.o -c /tmp/root/spack-stage/spac\r\n             k-stage-llvm-amdgpu-4.0.0-54alfhyqyucoe7rq5iciquq7whocreu2/spack-src/compiler-rt/lib/sanitizer_common/sanitizer_openbsd.\r\n             cpp\r\n",
    "performed_via_github_app": null
}