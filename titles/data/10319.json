{
    "url": "https://api.github.com/repos/spack/spack/issues/10319",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10319/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10319/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10319/events",
    "html_url": "https://github.com/spack/spack/pull/10319",
    "id": 398473494,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ0MTY2MjMx",
    "number": 10319,
    "title": "Default to Python 3.7",
    "user": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 574328447,
            "node_id": "MDU6TGFiZWw1NzQzMjg0NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/python3",
            "name": "python3",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 46,
    "created_at": "2019-01-11T22:21:48Z",
    "updated_at": "2019-10-22T16:41:48Z",
    "closed_at": "2019-10-22T15:22:34Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/10319",
        "html_url": "https://github.com/spack/spack/pull/10319",
        "diff_url": "https://github.com/spack/spack/pull/10319.diff",
        "patch_url": "https://github.com/spack/spack/pull/10319.patch"
    },
    "body": "Closes #7926\r\nCloses #8018\r\nCloses #11468\r\n\r\nApologies for making a PR on such a controversial topic without first opening an issue for discussion, but I wanted to make it clear what I'm proposing. This PR should not be merged without majority approval from **several** people.\r\n\r\nCurrently, `spack install python` defaults to Python 2. With this PR, Spack will install Python 3 by default. This PR is motivated by the fact that [Python 2 will be retired at the end of the year](https://pythonclock.org/).\r\n\r\nCurrently, the following packages only support Python 2:\r\n\r\n- elemental (unmaintained, use hydrogen instead: https://github.com/spack/spack/pull/10319#issuecomment-520602390)\r\n- gdl (Python 3 support is a WIP, see https://github.com/gnudatalanguage/gdl/issues/91 and https://github.com/gnudatalanguage/gdl/pull/468)\r\n- gplates (pyGPlates now supports Python 3, unsure about GPlates: https://www.gplates.org/news.html#gplates210)\r\n- graphviz (no current work on Python 3 porting: https://gitlab.com/graphviz/graphviz/issues/1383)\r\n- grib-api (replaced by ecCodes: https://confluence.ecmwf.int//display/GRIB/Home)\r\n- julia\r\n- manta (no current timeline on Python 3 support: https://github.com/Illumina/manta/issues/180)\r\n- mozjs\r\n- node-js\r\n- nwchem (docs still use Python 2 syntax: http://www.nwchem-sw.org/index.php/Python)\r\n- partitionfinder(no new releases since 2016: https://github.com/brettc/partitionfinder/releases)\r\n- plplot (possible Python 3 support: https://packages.debian.org/sid/python3-plplot)\r\n- precice (some work on Python 3 support, but CMake still searches for Python 2.7: https://github.com/precice/precice/issues/68)\r\n- py-cdat-lite (no longer supported: https://github.com/cedadev/cdat_lite)\r\n- py-cogent (no new releases since 2016: https://pypi.org/project/cogent/#history)\r\n- py-crispresso (no longer supported: https://github.com/lucapinello/CRISPResso)\r\n- py-doxypy (no new releases since 2009: https://pypi.org/project/doxypy/#history)\r\n- py-espressopp (@junghans: https://github.com/espressopp/espressopp/issues/227)\r\n- py-merlin (no new releases since 2012: https://pypi.org/project/merlin/#files)\r\n- py-methylcode (no new updates since 2014: https://github.com/brentp/methylcode)\r\n- py-opentuner (no current support, but work in progress: https://github.com/jansel/opentuner/issues/103)\r\n- py-picrust (replaced by PICRUSt2: https://github.com/picrust/picrust2)\r\n- py-pil (replaced by py-pillow)\r\n- py-pygtk (replaced by py-pygobject: https://pypi.org/project/PyGObject/)\r\n- py-pyrad (no new updates since 2016: https://github.com/dereneaton/pyrad)\r\n- py-pysqlite (builtin library in Python 3: https://docs.python.org/3/library/sqlite3.html)\r\n- py-pythia (no progress on converting to Python 3 so far: https://github.com/geodynamics/pythia/issues/4)\r\n- py-weave (scipy.weave was removed, new users are encourage to use cython instead: https://pypi.org/project/weave/)\r\n- rust (won't update to Python 3 until LLVM does: https://github.com/rust-lang/rust/issues/59838)\r\n- sensei\r\n- shiny-server (no Python 3 support: https://github.com/rstudio/shiny-server/wiki/Building-Shiny-Server-from-Source)\r\n- sst-core\r\n- tppred\r\n- visit\r\n\r\nAnd the following packages only support Python 3:\r\n\r\n- catalyst*\r\n- charliecloud\r\n- codar-cheetah\r\n- flit\r\n- intel-gpu-tools\r\n- interproscan*\r\n- iso-codes\r\n- libpeas\r\n- meson\r\n- ont-albacore\r\n- paraview*\r\n- phist\r\n- portcullis\r\n- py-ase* (https://wiki.fysik.dtu.dk/ase/releasenotes.html)\r\n- py-astropy\r\n- py-atropos\r\n- py-cairocffi\r\n- py-cutadapt*\r\n- py-dnaio\r\n- py-docutils-stubs\r\n- py-fiona (https://github.com/Toblerity/Fiona/issues/716)\r\n- py-fsspec\r\n- py-gpaw* (https://wiki.fysik.dtu.dk/gpaw/releasenotes.html)\r\n- py-h5glance\r\n- py-illumina-utils\r\n- py-ipykernel*\r\n- py-kmodes\r\n- py-libensemble*\r\n- py-macs2*\r\n- py-matplotlib*\r\n- py-more-itertools*\r\n- py-mypy\r\n- py-numba\r\n- py-numpy* (https://docs.scipy.org/doc/numpy/release.html)\r\n- py-pandas* (https://pandas.pydata.org/pandas-docs/stable/whatsnew/v0.25.0.html)\r\n- py-pipits* (https://github.com/hsgweon/pipits#a1-install)\r\n- py-pyani\r\n- py-pyproj (https://github.com/pyproj4/pyproj/issues/331)\r\n- py-pytest* (https://docs.pytest.org/en/latest/py27-py34-deprecation.html)\r\n- py-rasterio (https://github.com/mapbox/rasterio/issues/1613)\r\n- py-rpy2*\r\n- py-scikit-learn*\r\n- py-scipy* (https://docs.scipy.org/doc/scipy/reference/release.1.3.0.html)\r\n- py-sphinx*\r\n- py-sphinxcontrib-applehelp\r\n- py-sphinxcontrib-devhelp\r\n- py-sphinxcontrib-jsmath\r\n- py-sphinxcontrib-htmlhelp\r\n- py-sphinxcontrib-serializinghtml\r\n- py-sphinxcontrib-qthelp\r\n- py-tables*\r\n- py-typed-ast\r\n- py-unittest2py3k\r\n- saga-gis\r\n- snakemake\r\n- sparta\r\n- spot*\r\n- verrou*\r\n- wget\r\n\r\n\\* The latest version of these packages require Python 3, although older versions can be built with Python 2.\r\n\r\nFeel free to update this list as it changes. Many of the packages that only support Python 2 may have already been updated upstream but the Spack package simply contains an old version. It would be good to push the developers of the rest of the packages to support Python 3.\r\n\r\nCurrently, there are more packages that require Python 2 than there are that require Python 3. But this will continue to change as the countdown clock reaches 2020. In particular, the reason I opened this PR is the `meson` package, which is becoming the default build system for [GTK and many GNOME packages](https://mesonbuild.com/Users.html). Meson requires Python 3, and trying to build anything with meson anywhere in the spec causes Spack to crash. This could obviously be resolved with better concretization, but I haven't seen any progress made on that.\r\n\r\nSome possibly biased Python 3 users who would be interested in this topic: @svenevs @citibeth @tgamblin ",
    "performed_via_github_app": null
}