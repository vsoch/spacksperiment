{
    "url": "https://api.github.com/repos/spack/spack/issues/6176",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/6176/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/6176/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/6176/events",
    "html_url": "https://github.com/spack/spack/issues/6176",
    "id": 271863085,
    "node_id": "MDU6SXNzdWUyNzE4NjMwODU=",
    "number": 6176,
    "title": "github archive fetcher spazzing out?",
    "user": {
        "login": "svenevs",
        "id": 5871461,
        "node_id": "MDQ6VXNlcjU4NzE0NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5871461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svenevs",
        "html_url": "https://github.com/svenevs",
        "followers_url": "https://api.github.com/users/svenevs/followers",
        "following_url": "https://api.github.com/users/svenevs/following{/other_user}",
        "gists_url": "https://api.github.com/users/svenevs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svenevs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svenevs/subscriptions",
        "organizations_url": "https://api.github.com/users/svenevs/orgs",
        "repos_url": "https://api.github.com/users/svenevs/repos",
        "events_url": "https://api.github.com/users/svenevs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svenevs/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-11-07T15:03:12Z",
    "updated_at": "2017-11-07T17:32:28Z",
    "closed_at": "2017-11-07T17:32:28Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "**Warning**: ~~I'm currently fixing up OpenCV to add the `contrib` modules as a variant, but note that the checksum for v3.3.0 has changed (see `md5sum` at end for what it is now).~~ somebody already patched the archive md5 change on latest develop\r\n\r\nIf I try to install, I get this error:\r\n\r\n```console\r\n$ spack install opencv +python ^python@3.6.2+tk\r\n==> pkg-config is already installed in /opt/spack/opt/spack/linux-fedora25-x86_64/gcc-6.4.1/pkg-config-0.29.2-u6vwetoqqexka5zke44zqyiduvilfozf\r\n...\r\n==> Installing opencv\r\n==> Fetching https://github.com/Itseez/opencv/archive/3.3.0.tar.gz\r\n######################################################################## 100.0%\r\n==> Fetching from https://github.com/Itseez/opencv/archive/3.3.0.tar.gz failed.\r\n==> Error: FetchError: All fetchers failed for opencv-3.3.0-rriph3folljzrhmxpq7emhcqgkrimfzd\r\nFetchError: FetchError: All fetchers failed for opencv-3.3.0-rriph3folljzrhmxpq7emhcqgkrimfzd\r\n\r\n/opt/spack/lib/spack/spack/package.py:978, in do_fetch:\r\n     25                                     self.spec.format('$_$@'), ck_msg)\r\n     26    \r\n     27            self.stage.create()\r\n  >> 28            self.stage.fetch(mirror_only)\r\n     29            self._fetch_time = time.time() - start_time\r\n     30    \r\n     31            if spack.do_checksum and self.version in self.versions:\r\n```\r\n\r\nIf I try and fetch, I get:\r\n\r\n```console\r\n$ spack fetch opencv +python ^python@3.6.2+tk                                                                                     \r\n==> Fetching https://github.com/Itseez/opencv/archive/3.3.0.tar.gz\r\n######################################################################## 100.0%\r\n==> Fetching from https://github.com/Itseez/opencv/archive/3.3.0.tar.gz failed.\r\n==> Error: All fetchers failed for opencv-3.3.0-rriph3folljzrhmxpq7emhcqgkrimfzd\r\n```\r\n\r\nIf I just download it:\r\n\r\n```console\r\n$ wget https://github.com/Itseez/opencv/archive/3.3.0.tar.gz\r\n--2017-11-07 06:44:10--  https://github.com/Itseez/opencv/archive/3.3.0.tar.gz\r\nResolving github.com (github.com)... 192.30.253.112, 192.30.253.113\r\nConnecting to github.com (github.com)|192.30.253.112|:443... connected.\r\nHTTP request sent, awaiting response... 301 Moved Permanently\r\nLocation: https://github.com/opencv/opencv/archive/3.3.0.tar.gz [following]\r\n--2017-11-07 06:44:10--  https://github.com/opencv/opencv/archive/3.3.0.tar.gz\r\nReusing existing connection to github.com:443.\r\nHTTP request sent, awaiting response... 302 Found\r\nLocation: https://codeload.github.com/opencv/opencv/tar.gz/3.3.0 [following]\r\n--2017-11-07 06:44:10--  https://codeload.github.com/opencv/opencv/tar.gz/3.3.0\r\nResolving codeload.github.com (codeload.github.com)... 192.30.253.120, 192.30.253.121\r\nConnecting to codeload.github.com (codeload.github.com)|192.30.253.120|:443... connected.\r\nHTTP request sent, awaiting response... 200 OK\r\nLength: 81238534 (77M) [application/x-gzip]\r\nSaving to: \u20183.3.0.tar.gz\u2019\r\n\r\n3.3.0.tar.gz                            100%[=============================================================================>]  77.47M   419KB/s    in 4m 35s  \r\n\r\n2017-11-07 06:48:46 (288 KB/s) - \u20183.3.0.tar.gz\u2019 saved [81238534/81238534]\r\n\r\n$ md5sum 3.3.0.tar.gz \r\n98a4e4c6f23ec725e808a891dc11eec4  3.3.0.tar.gz\r\n```\r\n\r\nI'm not sure what's going on here.  How do I circumvent this?",
    "performed_via_github_app": null
}