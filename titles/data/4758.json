{
    "url": "https://api.github.com/repos/spack/spack/issues/4758",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/4758/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/4758/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/4758/events",
    "html_url": "https://github.com/spack/spack/issues/4758",
    "id": 242792390,
    "node_id": "MDU6SXNzdWUyNDI3OTIzOTA=",
    "number": 4758,
    "title": "Makefile with file generating scripts",
    "user": {
        "login": "homerdin",
        "id": 26806895,
        "node_id": "MDQ6VXNlcjI2ODA2ODk1",
        "avatar_url": "https://avatars.githubusercontent.com/u/26806895?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/homerdin",
        "html_url": "https://github.com/homerdin",
        "followers_url": "https://api.github.com/users/homerdin/followers",
        "following_url": "https://api.github.com/users/homerdin/following{/other_user}",
        "gists_url": "https://api.github.com/users/homerdin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/homerdin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/homerdin/subscriptions",
        "organizations_url": "https://api.github.com/users/homerdin/orgs",
        "repos_url": "https://api.github.com/users/homerdin/repos",
        "events_url": "https://api.github.com/users/homerdin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/homerdin/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 624275116,
            "node_id": "MDU6TGFiZWw2MjQyNzUxMTY=",
            "url": "https://api.github.com/repos/spack/spack/labels/makefile",
            "name": "makefile",
            "color": "b60205",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-07-13T18:37:02Z",
    "updated_at": "2017-07-29T01:32:19Z",
    "closed_at": "2017-07-29T01:32:19Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I am working on a makefile package that calls two scripts that generate files before creating the executable.  These files are generated in the stage, but the executable target does not see them.  Setting parallel to False does not fix the issue.  Does anyone know why this is happening?  I have worked around the issue by calling the scripts seperately in build:\r\n\r\n``` python\r\n   def build(self, spec, prefix):\r\n        with working_dir('miniXyce_ref'):\r\n            # Call Script Targets First to Generate Needed Files\r\n\r\n            make('generate_info')\r\n            make('common_files')\r\n            make(*self.build_targets)\r\n```\r\n\r\nHere are the Makefile Targets:\r\n\r\n```\r\nall:common_files generate_info miniXyce.x\r\n\r\nminiXyce.x:common_files $(MAIN_OBJ) $(OBJS) $(UTIL_OBJS) $(OPTIONAL_OBJS) *.hpp generate_info\r\n        $(INSTRUMENT) $(CXX) $(CXXFLAGS) $(CPPFLAGS) $(MAIN_OBJ) $(OBJS) $(UTIL_OBJS) $(OPTIONAL_OBJS) -o miniXyce.x $(LDFLAGS) $(OPTIONAL_LIBS) $(LIBS)\r\n\r\ncommon_files:\r\n        ./get_common_files\r\n\r\ngenerate_info:\r\n        ./generate_info_header \"$(CXX)\" \"$(CXXFLAGS)\" \"miniXyce\" \"MINIXYCE\"```",
    "performed_via_github_app": null
}