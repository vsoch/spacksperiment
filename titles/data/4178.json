{
    "url": "https://api.github.com/repos/spack/spack/issues/4178",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/4178/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/4178/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/4178/events",
    "html_url": "https://github.com/spack/spack/issues/4178",
    "id": 227405585,
    "node_id": "MDU6SXNzdWUyMjc0MDU1ODU=",
    "number": 4178,
    "title": "explicit dependencies cannot be resolved",
    "user": {
        "login": "svenevs",
        "id": 5871461,
        "node_id": "MDQ6VXNlcjU4NzE0NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5871461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svenevs",
        "html_url": "https://github.com/svenevs",
        "followers_url": "https://api.github.com/users/svenevs/followers",
        "following_url": "https://api.github.com/users/svenevs/following{/other_user}",
        "gists_url": "https://api.github.com/users/svenevs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svenevs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svenevs/subscriptions",
        "organizations_url": "https://api.github.com/users/svenevs/orgs",
        "repos_url": "https://api.github.com/users/svenevs/repos",
        "events_url": "https://api.github.com/users/svenevs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svenevs/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446623646,
            "node_id": "MDU6TGFiZWw0NDY2MjM2NDY=",
            "url": "https://api.github.com/repos/spack/spack/labels/concretization",
            "name": "concretization",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-05-09T15:29:12Z",
    "updated_at": "2019-02-06T12:13:15Z",
    "closed_at": "2019-02-06T12:13:14Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I was instructed to raise an issue about this.  Suppose I want to build:\r\n\r\n```\r\nopencv +cuda~debug+eigen~gtk+ipp+jasper~java+python+qt+shared+vtk ^python@3.6.1+tk ^/h7iwa2f ^/ayvopxd\r\n```\r\n\r\nwhere the first explicit dep is `vtk`\r\n\r\n```\r\nh7iwa2f    vtk@7.1.0%gcc+opengl2~python\r\nvzquhil        ^hdf5@1.10.1%gcc+cxx~debug+fortran+mpi+pic+shared~szip~threadsafe\r\nx5i2gn2            ^openmpi@2.1.0%gcc+cuda fabrics= ~java schedulers= ~sqlite3~thread_multiple+vt\r\nn74gqbe                ^hwloc@1.11.6%gcc+cuda+libxml2+pci\r\nlrkhkor                    ^cuda@8.0.61%gcc\r\nvhjpcsx                    ^libpciaccess@0.13.4%gcc\r\nexxfg3q                    ^libxml2@2.9.4%gcc~python\r\nb5rfb4d                        ^xz@5.2.3%gcc\r\nbr6mxvn                        ^zlib@1.2.11%gcc+pic+shared\r\n667hjip        ^netcdf@4.4.1.1%gcc~cdmremote~dap~hdf4 maxdims=1024 maxvars=8192 +mpi~parallel-netcdf+shared\r\ndosized        ^netcdf-cxx@4.2%gcc\r\nstgf7p6        ^qt@5.8.0%gcc~dbus~examples+gtk~krellpatch~mesa+phonon+webkit\r\nuszwb52            ^fontconfig@2.12.1%gcc\r\ni6knxgr                ^font-util@1.3.1%gcc\r\nnhmdfwa                ^freetype@2.7.1%gcc\r\n6mu4dee                    ^bzip2@1.0.6%gcc+shared\r\nyni2235                    ^libpng@1.6.29%gcc\r\n55eakgr            ^gperf@3.0.4%gcc\r\nxwursrz            ^icu4c@58.2%gcc\r\nizuys7e            ^jpeg@9b%gcc\r\nfvbdn4j            ^libmng@2.0.2%gcc\r\ntg667bc                ^lcms@2.8%gcc\r\ndtf6lto                    ^libtiff@4.0.7%gcc\r\n27yfhzi            ^libxcb@1.12%gcc\r\ncgkm7vy                ^libpthread-stubs@0.4%gcc\r\nzpzzo6z                ^libxau@1.0.8%gcc\r\nwwc5mx3                ^libxdmcp@1.1.2%gcc\r\nlyj3ary            ^openssl@1.0.2k%gcc\r\n```\r\n\r\nand the second explicit dep is `eigen` (noting I'm using the `suite-sparse+cuda` one currently not in `develop`)\r\n\r\n```\r\nayvopxd    eigen@3.3.1%gcc~debug+fftw+metis+mpfr+scotch+suitesparse\r\nh7z2hb5        ^fftw@3.3.6-pl2%gcc+double+float+long_double+mpi+openmp~pfft_patches~quad\r\nx5i2gn2            ^openmpi@2.1.0%gcc+cuda fabrics= ~java schedulers= ~sqlite3~thread_multiple+vt\r\nn74gqbe                ^hwloc@1.11.6%gcc+cuda+libxml2+pci\r\nlrkhkor                    ^cuda@8.0.61%gcc\r\nvhjpcsx                    ^libpciaccess@0.13.4%gcc\r\nexxfg3q                    ^libxml2@2.9.4%gcc~python\r\nb5rfb4d                        ^xz@5.2.3%gcc\r\nbr6mxvn                        ^zlib@1.2.11%gcc+pic+shared\r\ntwipezr        ^gmp@6.1.2%gcc\r\nis7nfhk        ^metis@5.1.0%gcc~debug~gdb~int64~real64+shared\r\nc3fjys4        ^mpfr@3.1.5%gcc\r\nzfodagg        ^scotch@6.0.4%gcc+compression~esmumps~int64+metis+mpi+shared\r\nnul5n7p        ^suite-sparse@4.5.5%gcc+cuda+pic+tbb\r\nltfkud5            ^openblas@0.2.19%gcc+openmp+pic+shared\r\ngq7aub3            ^tbb@2017.5%gcc\r\n```\r\n\r\nofficial error:\r\n\r\n```\r\n==> Error: Cannot depend on 'hwloc@1.11.6%gcc@5.3.1+cuda+libxml2+pci arch=linux-fedora23-x86_64 ^cuda@8.0.61%gcc@5.3.1 arch=linux-fedora23-x86_64 ^libpciaccess@0.13.4%gcc@5.3.1 arch=linux-fedora23-x86_64 ^libxml2@2.9.4%gcc@5.3.1~python arch=linux-fedora23-x86_64 ^xz@5.2.3%gcc@5.3.1 arch=linux-fedora23-x86_64 ^zlib@1.2.11%gcc@5.3.1+pic+shared arch=linux-fedora23-x86_64' twice\r\n```\r\n\r\n1. It seems strange to me that if `twice` deps are the problem, it did not crash on `x5i2gn2            ^openmpi@2.1.0` first.\r\n2. This is not resolved by #2548 as I thought it would be.\r\n\r\nThe branch I'm working on is effectively #2548 + #4163 where the only merge conflict coming in was bypassing the `python+tk` thing in #4145 (I kept the commented out version for consistency with my local installations).\r\n\r\nNOTE: I tore `qt` to shreds for the sake of getting it to build.  That's a different issue, related to a mixed toolchain wrt `gtkplus`.  But I seriously doubt that is causing this problem, else the `qt` package via `vtk` would be the issue.  This is just dependency crawling.\r\n\r\nI have no idea what you would do with this.  If it were me, I would run away...and just hope the new concretizer magically fixes it.  I don't think there's anything special that can be done at this point in time, other than to hope other users don't find this :wink:\r\n\r\nThere you go @adamjstewart it's official.",
    "performed_via_github_app": null
}