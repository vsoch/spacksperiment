{
    "url": "https://api.github.com/repos/spack/spack/issues/5542",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/5542/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/5542/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/5542/events",
    "html_url": "https://github.com/spack/spack/issues/5542",
    "id": 261515288,
    "node_id": "MDU6SXNzdWUyNjE1MTUyODg=",
    "number": 5542,
    "title": "Intel compilers are broken",
    "user": {
        "login": "ssergien",
        "id": 29131088,
        "node_id": "MDQ6VXNlcjI5MTMxMDg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/29131088?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ssergien",
        "html_url": "https://github.com/ssergien",
        "followers_url": "https://api.github.com/users/ssergien/followers",
        "following_url": "https://api.github.com/users/ssergien/following{/other_user}",
        "gists_url": "https://api.github.com/users/ssergien/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ssergien/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ssergien/subscriptions",
        "organizations_url": "https://api.github.com/users/ssergien/orgs",
        "repos_url": "https://api.github.com/users/ssergien/repos",
        "events_url": "https://api.github.com/users/ssergien/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ssergien/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 13,
    "created_at": "2017-09-29T02:36:13Z",
    "updated_at": "2020-05-11T20:29:24Z",
    "closed_at": "2017-11-23T20:00:47Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I pulled the develop branch today and noticed that my intel compilers got broken.\r\n```\r\n$ icc -v\r\nicc version 17.0.4 (gcc version 4.4.7 compatibility)\r\nld    /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crti.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtbegin.o --eh-frame-hdr --build-id -dynamic-linker /lib64/ld-linux-x86-64.so.2 -m elf_x86_64 -o a.out -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64 -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4 -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib -L/soft/lcrc/lib -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64 -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/ -L/lib/../lib64 -L/lib/../lib64/ -L/usr/lib/../lib64 -L/usr/lib/../lib64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4/ -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib/ -L/soft/lcrc/lib/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../ -L/lib64 -L/lib/ -L/usr/lib64 -L/usr/lib -rpath /blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -Bdynamic -Bstatic -limf -lsvml -lirng -Bdynamic -lm -Bstatic -lipgo -ldecimal --as-needed -Bdynamic -lcilkrts -lstdc++ --no-as-needed -lgcc -lgcc_s -Bstatic -lirc -lsvml -Bdynamic -lc -lgcc -lgcc_s -Bstatic -lirc_s -Bdynamic -ldl -lc /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtend.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crtn.o\r\n/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o: In function `_start':\r\n(.text+0x20): undefined reference to `main'\r\n```\r\nThe fix was to rename `icc.cfg`, `icpc.cfg`, `ifort.cfg`. \r\n\r\nAfter that it seems like it behaves correctly:\r\n```\r\n$ icc -v\r\nicc version 17.0.4 (gcc version 4.8.5 compatibility)\r\n```\r\nHere is what I did\r\n```\r\n[ssergien@blogin1 intel64]$ mv icc.cfg icc.bak\r\n[ssergien@blogin1 intel64]$ mv icpc.cfg icpc.bak\r\n[ssergien@blogin1 intel64]$ mv ifort.cfg ifort.bak\r\n[ssergien@blogin1 intel64]$ icc -v\r\nicc version 17.0.4 (gcc version 4.4.7 compatibility)\r\n[ssergien@blogin1 intel64]$ icpc -v\r\nicpc version 17.0.4 (gcc version 4.4.7 compatibility)\r\n[ssergien@blogin1 intel64]$ ifort -v\r\nifort version 17.0.4\r\n[ssergien@blogin1 intel64]$ mv icc.bak icc.cfg\r\n[ssergien@blogin1 intel64]$ mv icpc.bak icpc.cfg\r\n[ssergien@blogin1 intel64]$ mv ifort.bak ifort.cfg\r\n[ssergien@blogin1 intel64]$ icc -v\r\nicc version 17.0.4 (gcc version 4.4.7 compatibility)\r\nld    /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crti.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtbegin.o --eh-frame-hdr --build-id -dynamic-linker /lib64/ld-linux-x86-64.so.2 -m elf_x86_64 -o a.out -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64 -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4 -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib -L/soft/lcrc/lib -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64 -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/ -L/lib/../lib64 -L/lib/../lib64/ -L/usr/lib/../lib64 -L/usr/lib/../lib64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4/ -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib/ -L/soft/lcrc/lib/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../ -L/lib64 -L/lib/ -L/usr/lib64 -L/usr/lib -rpath /blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -Bdynamic -Bstatic -limf -lsvml -lirng -Bdynamic -lm -Bstatic -lipgo -ldecimal --as-needed -Bdynamic -lcilkrts -lstdc++ --no-as-needed -lgcc -lgcc_s -Bstatic -lirc -lsvml -Bdynamic -lc -lgcc -lgcc_s -Bstatic -lirc_s -Bdynamic -ldl -lc /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtend.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crtn.o\r\n/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o: In function `_start':\r\n(.text+0x20): undefined reference to `main'\r\n[ssergien@blogin1 intel64]$ icpc -v\r\nicpc version 17.0.4 (gcc version 4.4.7 compatibility)\r\nld    /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crti.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtbegin.o --eh-frame-hdr --build-id -dynamic-linker /lib64/ld-linux-x86-64.so.2 -m elf_x86_64 -o a.out -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64 -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4 -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib -L/soft/lcrc/lib -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64 -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/ -L/lib/../lib64 -L/lib/../lib64/ -L/usr/lib/../lib64 -L/usr/lib/../lib64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4/ -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib/ -L/soft/lcrc/lib/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../ -L/lib64 -L/lib/ -L/usr/lib64 -L/usr/lib -rpath /blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -Bdynamic -Bstatic -limf -lsvml -lirng -Bdynamic -lstdc++ -lm -Bstatic -lipgo -ldecimal --as-needed -Bdynamic -lcilkrts --no-as-needed -lstdc++ -lgcc -lgcc_s -Bstatic -lirc -lsvml -Bdynamic -lc -lgcc -lgcc_s -Bstatic -lirc_s -Bdynamic -ldl -lc /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtend.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crtn.o\r\n/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o: In function `_start':\r\n(.text+0x20): undefined reference to `main'\r\n[ssergien@blogin1 intel64]$ ifort -v\r\nifort version 17.0.4\r\nld    /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt1.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crti.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtbegin.o --eh-frame-hdr --build-id -dynamic-linker /lib64/ld-linux-x86-64.so.2 -m elf_x86_64 -o a.out /blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin/for_main.o -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64 -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4 -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib -L/soft/lcrc/lib -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64 -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/ -L/lib/../lib64 -L/lib/../lib64/ -L/usr/lib/../lib64 -L/usr/lib/../lib64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/lib/intel64/ -L/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/tbb/lib/intel64/gcc4.4/ -L/soft/spack-0.10.0/opt/spack/linux-centos6-x86_64/gcc-6.1.0/python-2.7.13-uwrwojsic25qib2jggkjdp4mekuf6nc4/lib/ -L/soft/lcrc/lib/ -L/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../ -L/lib64 -L/lib/ -L/usr/lib64 -L/usr/lib -rpath /blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin -Bdynamic -Bstatic -lifport -lifcoremt -limf -lsvml -Bdynamic -lm -Bstatic -lipgo -lirc -Bdynamic -lpthread -Bstatic -lsvml -Bdynamic -lc -lgcc -lgcc_s -Bstatic -lirc_s -Bdynamic -ldl -lc /usr/lib/gcc/x86_64-redhat-linux/4.4.7/crtend.o /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crtn.o\r\n/blues/gpfs/home/software/spack-0.10.1/opt/spack/linux-centos6-x86_64/gcc-4.4.7/intel-17.0.4-5llkj4fktdqhrjvnu263hm3hq32m5daw/compilers_and_libraries_2017.4.193/linux/compiler/lib/intel64_lin/for_main.o: In function `main':\r\nfor_main.c:(.text+0x2a): undefined reference to `MAIN__'\r\n```\r\nAny one else had this issue?\r\n\r\nThanks\r\n ",
    "performed_via_github_app": null
}