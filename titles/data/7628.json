{
    "url": "https://api.github.com/repos/spack/spack/issues/7628",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/7628/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/7628/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/7628/events",
    "html_url": "https://github.com/spack/spack/issues/7628",
    "id": 309434211,
    "node_id": "MDU6SXNzdWUzMDk0MzQyMTE=",
    "number": 7628,
    "title": "mirror.yaml tilde path not expanded",
    "user": {
        "login": "berceanu",
        "id": 4405658,
        "node_id": "MDQ6VXNlcjQ0MDU2NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4405658?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/berceanu",
        "html_url": "https://github.com/berceanu",
        "followers_url": "https://api.github.com/users/berceanu/followers",
        "following_url": "https://api.github.com/users/berceanu/following{/other_user}",
        "gists_url": "https://api.github.com/users/berceanu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/berceanu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/berceanu/subscriptions",
        "organizations_url": "https://api.github.com/users/berceanu/orgs",
        "repos_url": "https://api.github.com/users/berceanu/repos",
        "events_url": "https://api.github.com/users/berceanu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/berceanu/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446625544,
            "node_id": "MDU6TGFiZWw0NDY2MjU1NDQ=",
            "url": "https://api.github.com/repos/spack/spack/labels/documentation",
            "name": "documentation",
            "color": "0d5977",
            "default": true,
            "description": ""
        },
        {
            "id": 446756736,
            "node_id": "MDU6TGFiZWw0NDY3NTY3MzY=",
            "url": "https://api.github.com/repos/spack/spack/labels/mirrors",
            "name": "mirrors",
            "color": "ade2f2",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "ax3l",
        "id": 1353258,
        "node_id": "MDQ6VXNlcjEzNTMyNTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1353258?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ax3l",
        "html_url": "https://github.com/ax3l",
        "followers_url": "https://api.github.com/users/ax3l/followers",
        "following_url": "https://api.github.com/users/ax3l/following{/other_user}",
        "gists_url": "https://api.github.com/users/ax3l/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ax3l/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ax3l/subscriptions",
        "organizations_url": "https://api.github.com/users/ax3l/orgs",
        "repos_url": "https://api.github.com/users/ax3l/repos",
        "events_url": "https://api.github.com/users/ax3l/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ax3l/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "ax3l",
            "id": 1353258,
            "node_id": "MDQ6VXNlcjEzNTMyNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1353258?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ax3l",
            "html_url": "https://github.com/ax3l",
            "followers_url": "https://api.github.com/users/ax3l/followers",
            "following_url": "https://api.github.com/users/ax3l/following{/other_user}",
            "gists_url": "https://api.github.com/users/ax3l/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ax3l/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ax3l/subscriptions",
            "organizations_url": "https://api.github.com/users/ax3l/orgs",
            "repos_url": "https://api.github.com/users/ax3l/repos",
            "events_url": "https://api.github.com/users/ax3l/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ax3l/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-03-28T16:10:51Z",
    "updated_at": "2018-03-28T19:30:19Z",
    "closed_at": "2018-03-28T19:30:19Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "~/ is not expanded on parsing mirror.yaml\r\n\r\n### Expected Result\r\n\r\n~/ should be replaced by /home/[USER]/\r\n\r\n### Actual Result\r\n\r\n~/ is replaced by /\r\n\r\n### Steps to reproduce the issue\r\n\r\nFollowing steps in [the manual](https://spack.readthedocs.io/en/latest/mirrors.html#spack-mirror-add).\r\n\r\nThe path is properly added:\r\n```bash\r\n$ cat $HOME/.spack/linux/mirrors.yaml \r\nmirrors:\r\n  local_filesystem: file:///home/andrei/src/spack-mirror-2018-03-28\r\n```\r\n\r\nbut installs throw warnings such as\r\n\r\n```\r\n==> Installing mpfr\r\n==> Fetching file://~/src/spack-mirror-2018-03-28/mpfr/mpfr-4.0.1.tar.bz2\r\ncurl: (37) Couldn't open file /src/spack-mirror-2018-03-28/mpfr/mpfr-4.0.1.tar.bz2\r\n```\r\n\r\n(note the missing ~)\r\n\r\n### Information on your system\r\n\r\nUbuntu LTS 16.04\r\nbash terminal\r\n",
    "performed_via_github_app": null
}