{
    "url": "https://api.github.com/repos/spack/spack/issues/12396",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12396/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12396/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12396/events",
    "html_url": "https://github.com/spack/spack/pull/12396",
    "id": 479879749,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzA2NjgzNTcz",
    "number": 12396,
    "title": "Update VisIt to version 3.0.1 and fix on mac",
    "user": {
        "login": "sethrj",
        "id": 741229,
        "node_id": "MDQ6VXNlcjc0MTIyOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/741229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sethrj",
        "html_url": "https://github.com/sethrj",
        "followers_url": "https://api.github.com/users/sethrj/followers",
        "following_url": "https://api.github.com/users/sethrj/following{/other_user}",
        "gists_url": "https://api.github.com/users/sethrj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sethrj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sethrj/subscriptions",
        "organizations_url": "https://api.github.com/users/sethrj/orgs",
        "repos_url": "https://api.github.com/users/sethrj/repos",
        "events_url": "https://api.github.com/users/sethrj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sethrj/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446614839,
            "node_id": "MDU6TGFiZWw0NDY2MTQ4Mzk=",
            "url": "https://api.github.com/repos/spack/spack/labels/macOS",
            "name": "macOS",
            "color": "c5def5",
            "default": false,
            "description": null
        },
        {
            "id": 729584669,
            "node_id": "MDU6TGFiZWw3Mjk1ODQ2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/update-package",
            "name": "update-package",
            "color": "c68137",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-08-12T22:32:24Z",
    "updated_at": "2019-08-15T18:52:18Z",
    "closed_at": "2019-08-15T15:13:46Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/12396",
        "html_url": "https://github.com/spack/spack/pull/12396",
        "diff_url": "https://github.com/spack/spack/pull/12396.diff",
        "patch_url": "https://github.com/spack/spack/pull/12396.patch"
    },
    "body": "With these changes I was successfully able to install the latest VisIt on my mac using the spack toolchain. I needed to make changes to the VisIt package and to two upstream packages (QWT and VTK) for my configuration, so please let me know if those should be separate pull requests.\r\n\r\nChanges to QWT are to allow building with `qt~tools`.\r\n\r\nChanges to VTK:\r\n- Fix compile error due to `\"\"` in mac-specific configure flags\r\n- Enable `VTK_ALL_NEW_OBJECT_FACTORY` (needed for visit, I don't think it would be harmful in any other case) option\r\n- Merge `+python` and `+python3` variants\r\n\r\nChanges to VisIt:\r\n- Add new version and checksums\r\n- Add support for building with a QWT that was compiled as a library rather than framework on mac\r\n- Add more explicit version dependencies based on VisIt build_script distribution (this includes restricting python to 2.x)\r\n- Patch VisIt's cmake to work with a VTK installation that creates library *targets* rather than explicit libraries\r\n\r\n---\r\n\r\nDependencies for the successful install, for the sake of posterity:\r\n```\r\n$ spack find -lvd visit\r\n==> 1 installed package\r\n-- darwin-mojave-x86_64 / clang@10.0.1-apple --------------------\r\nwspwvzx    visit@3.0.1~adios2 build_type=RelWithDebInfo +gui+hdf5+mpi patches=81fd707305a9ba245bc5d8108d738f5229513eedddf7d683d0c4f3fdcc55e887,b1c10e8f99fd869cc488e7c17e135849c7f0d4ca4414d18a6760247188114031 +python+silo\r\npkx22jw        ^hdf5@1.10.5~cxx~debug~fortran+hl~mpi+pic+shared+szip~threadsafe\r\n2vgfs6n            ^libszip@2.1.1\r\nnqnlnxd            ^zlib@1.2.11+optimize+pic+shared\r\nqz6zsrm        ^openmpi@3.1.4~cuda+cxx_exceptions fabrics=none ~java~legacylaunchers~memchecker~pmi schedulers=none ~sqlite3~thread_multiple+vt\r\njbig2eu            ^hwloc@1.11.11~cairo~cuda~gl+libxml2~nvml~pci+shared\r\nowmrtw3                ^libxml2@2.9.9~python\r\n6y7tjlq                    ^libiconv@1.15\r\nsnwzcou                    ^xz@5.2.4\r\nvhkc3zr        ^python@2.7.16+bz2+ctypes+dbm+lzma~nis~optimizations patches=210df3f28cde02a8135b58cc4168e70ab91dbf9097359d05938f1e2843875e57 +pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib\r\nllnc6sq            ^bzip2@1.0.8+shared\r\nivx3l77            ^expat@2.2.5~libbsd\r\npvjwide            ^gdbm@1.18.1\r\nkn3u3qh                ^readline@7.0\r\nnhodl3c                    ^ncurses@6.1~symlinks~termlib\r\nn3673fl            ^gettext@0.19.8.1+bzip2+curses+git~libunistring+libxml2 patches=9acdb4e73f67c241b5ef32505c9ddf7cf6884ca8ea661692f21dca28483b04b8 +tar+xz\r\nvyjf7fd                ^tar@1.31\r\nrmioaof            ^libffi@3.2.1\r\nz6erpib            ^openssl@1.1.1b+systemcerts\r\nmijtevf            ^sqlite@3.28.0+fts~functions\r\nsk7ms2t        ^qt@5.11.3~dbus~examples~framework freetype=none ~gtk~krellpatch+opengl patches=0aaad63f10d68ba936fcef85c38429b3b3ce260098dfdc19e37ea1e03ac042e9,48ff18be2f4050de7288bddbae7f47e949512ac4bcd126c2f504be2ac701158b,7f34d48d2faaa108dc3fcc47187af1ccd1d37ee0f931b42597b820f03a99864c,c52f72dac7fdff5a296467536cc9ea024d78f94b49903286395f53fd0eb66e5e ~phonon+shared~sql~ssl~tools~webkit\r\nmf7korx            ^double-conversion@2.0.1 build_type=RelWithDebInfo\r\nhhpucpw            ^glib@2.56.3~libmount patches=c325997b72a205ad1638bb3e3ba0e5b73e3d32ce63b2d0d3282f3e3a2ff4663c tracing=none\r\nmgfx4te                ^pcre@8.42~jit+multibyte+utf\r\nycsefbj                ^perl@5.28.1+cpanm+shared+threads\r\njcyt46x            ^harfbuzz@2.3.1\r\nr6siffb                ^cairo@1.16.0~X~pdf\r\nktmcn2j                    ^fontconfig@2.12.3\r\njkc3lwy                        ^font-util@1.3.1 fonts=encodings,font-adobe-100dpi,font-adobe-75dpi,font-adobe-utopia-100dpi,font-adobe-utopia-75dpi,font-adobe-utopia-type1,font-alias,font-arabic-misc,font-bh-100dpi,font-bh-75dpi,font-bh-lucidatypewriter-100dpi,font-bh-lucidatypewriter-75dpi,font-bh-ttf,font-bh-type1,font-bitstream-100dpi,font-bitstream-75dpi,font-bitstream-speedo,font-bitstream-type1,font-cronyx-cyrillic,font-cursor-misc,font-daewoo-misc,font-dec-misc,font-ibm-type1,font-isas-misc,font-jis-misc,font-micro-misc,font-misc-cyrillic,font-misc-ethiopic,font-misc-meltho,font-misc-misc,font-mutt-misc,font-schumacher-misc,font-screen-cyrillic,font-sun-misc,font-winitzki-cyrillic,font-xfree86-type1\r\nl4ys7nh                        ^freetype@2.9.1 patches=08466355e8649235ff01f13b3e56bbd551c7cfb2ca97903cc11575c163ea32a3\r\nh24accp                            ^libpng@1.6.34\r\nuyvgo63                    ^pixman@0.38.0\r\niuyrtmm                ^icu4c@60.1 cxxstd=11\r\nhzhdmt6            ^libjpeg-turbo@2.0.2\r\nlz2tuha            ^libmng@2.0.3\r\nfaanb5f                ^lcms@2.9\r\n7skodcs                    ^libtiff@4.0.10\r\n2u2rd6c            ^opengl@2.1\r\nsbr6r5l            ^pcre2@10.31+multibyte\r\nbmfxirw        ^qwt@6.1.3~designer patches=73df7272a11effc11546ab63aec4fc5ee25983d631c3fe5df024db3be8e83a1e\r\ni4qtmvs        ^silo@4.10.2+fortran~mpi patches=7b5a1dc2a0e358e667088d77e7caa780967fa8ea60be89c44986605df9990abe +pic+shared~silex\r\n472rma2        ^vtk@8.1.2 build_type=RelWithDebInfo ~ffmpeg~mpi+opengl2~osmesa+python+qt~xdmf\r\nolku6ay            ^glew@2.0.0\r\niqcta2x            ^jsoncpp@1.7.3 build_type=RelWithDebInfo\r\nsxghj4k            ^lz4@1.9.0\r\nuwt2xa6            ^netcdf@4.7.0~dap~hdf4 maxdims=1024 maxvars=8192 ~mpi~parallel-netcdf patches=10a1c3f7fa05e2c82457482e272bbe04d66d0047b237ad0a73e87d63d848b16c +pic+shared\r\nthc7k4t            ^netcdf-cxx@4.2+netcdf4\r\n```",
    "performed_via_github_app": null
}