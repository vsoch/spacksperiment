{
    "url": "https://api.github.com/repos/spack/spack/issues/23453",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/23453/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/23453/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/23453/events",
    "html_url": "https://github.com/spack/spack/issues/23453",
    "id": 876713133,
    "node_id": "MDU6SXNzdWU4NzY3MTMxMzM=",
    "number": 23453,
    "title": "Installation issue: mesa",
    "user": {
        "login": "mthielma",
        "id": 1148509,
        "node_id": "MDQ6VXNlcjExNDg1MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1148509?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mthielma",
        "html_url": "https://github.com/mthielma",
        "followers_url": "https://api.github.com/users/mthielma/followers",
        "following_url": "https://api.github.com/users/mthielma/following{/other_user}",
        "gists_url": "https://api.github.com/users/mthielma/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mthielma/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mthielma/subscriptions",
        "organizations_url": "https://api.github.com/users/mthielma/orgs",
        "repos_url": "https://api.github.com/users/mthielma/repos",
        "events_url": "https://api.github.com/users/mthielma/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mthielma/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 446614839,
            "node_id": "MDU6TGFiZWw0NDY2MTQ4Mzk=",
            "url": "https://api.github.com/repos/spack/spack/labels/macOS",
            "name": "macOS",
            "color": "c5def5",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-05-05T18:12:19Z",
    "updated_at": "2021-06-14T14:56:18Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Thanks for taking the time to report this build failure. To proceed with the report please:\r\n\r\n1. Title the issue \"Installation issue: <name-of-the-package>\".\r\n2. Provide the information required below.\r\n\r\nWe encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively! -->\r\n\r\nHi, \r\nwhen trying to install gmt, the installation failed due to an issue with the mesa installation. I find it somewhat strange (and I am unsure if this is a spack issue), as it seems as if this issue is not new and has been addressed [here](https://gitlab.freedesktop.org/mesa/mesa/-/merge_requests/1753). However, I also found the fix in u_queue.c, which should make timespec_get() available.\r\n\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n$ spack install mesa\r\n...\r\n==> Installing mesa-20.2.1-ledfc6hvwmc5fr4vtickpikrpiblmcw6\r\n==> No binary for mesa-20.2.1-ledfc6hvwmc5fr4vtickpikrpiblmcw6 found: installing from source\r\n/Users/mthiel/SOFTWARE/spack/lib/spack/spack/architecture.py:203: UserWarning: microarchitecture specific optimizations are not supported yet on mixed compiler toolchains [check apple-clang@12.0.0 for further details]\r\n  warnings.warn(msg.format(compiler))\r\n==> Using cached archive: /Users/mthiel/SOFTWARE/spack/var/spack/cache/_source-cache/archive/d1/d1a46d9a3f291bc0e0374600bdcb59844fa3eafaa50398e472a36fc65fd0244a.tar.xz\r\n==> mesa: Executing phase: 'meson'\r\n==> mesa: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    'ninja' '-j16' '-v'\r\n\r\n2 errors found in build log:\r\n     227    [33/1078] /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/map\r\n            i -Isrc/mesa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winval\r\n            id-pch -std=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/me\r\n            sa/-/issues\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP\r\n            64 -DHAVE___BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_\r\n            POPCOUNTLL -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNU\r\n            SED -DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC\r\n            _ATTRIBUTE_NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DH\r\n            AVE_SYS_SHM_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -\r\n            DHAVE_PTHREAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werro\r\n            r=empty-body -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments\r\n             -fno-common -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/sparse_array.c.o -MF src/util/libme\r\n            sa_util.a.p/sparse_array.c.o.d -o src/util/libmesa_util.a.p/sparse_array.c.o -c ../src/util/sparse_array.c\r\n     228    [34/1078] /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/map\r\n            i -Isrc/mesa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winval\r\n            id-pch -std=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/me\r\n            sa/-/issues\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP\r\n            64 -DHAVE___BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_\r\n            POPCOUNTLL -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNU\r\n            SED -DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC\r\n            _ATTRIBUTE_NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DH\r\n            AVE_SYS_SHM_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -\r\n            DHAVE_PTHREAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werro\r\n            r=empty-body -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments\r\n             -fno-common -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/ralloc.c.o -MF src/util/libmesa_uti\r\n            l.a.p/ralloc.c.o.d -o src/util/libmesa_util.a.p/ralloc.c.o -c ../src/util/ralloc.c\r\n     229    [35/1078] /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/map\r\n            i -Isrc/mesa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winval\r\n            id-pch -std=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/me\r\n            sa/-/issues\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP\r\n            64 -DHAVE___BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_\r\n            POPCOUNTLL -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNU\r\n            SED -DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC\r\n            _ATTRIBUTE_NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DH\r\n            AVE_SYS_SHM_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -\r\n            DHAVE_PTHREAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werro\r\n            r=empty-body -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments\r\n             -fno-common -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/set.c.o -MF src/util/libmesa_util.a\r\n            .p/set.c.o.d -o src/util/libmesa_util.a.p/set.c.o -c ../src/util/set.c\r\n     230    [36/1078] /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/map\r\n            i -Isrc/mesa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winval\r\n            id-pch -std=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/me\r\n            sa/-/issues\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP\r\n            64 -DHAVE___BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_\r\n            POPCOUNTLL -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNU\r\n            SED -DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC\r\n            _ATTRIBUTE_NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DH\r\n            AVE_SYS_SHM_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -\r\n            DHAVE_PTHREAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werro\r\n            r=empty-body -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments\r\n             -fno-common -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/u_atomic.c.o -MF src/util/libmesa_u\r\n            til.a.p/u_atomic.c.o.d -o src/util/libmesa_util.a.p/u_atomic.c.o -c ../src/util/u_atomic.c\r\n     231    [37/1078] /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/map\r\n            i -Isrc/mesa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winval\r\n            id-pch -std=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/me\r\n            sa/-/issues\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP\r\n            64 -DHAVE___BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_\r\n            POPCOUNTLL -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNU\r\n            SED -DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC\r\n            _ATTRIBUTE_NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DH\r\n            AVE_SYS_SHM_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -\r\n            DHAVE_PTHREAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werro\r\n            r=empty-body -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments\r\n             -fno-common -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/sha1_sha1.c.o -MF src/util/libmesa_\r\n            util.a.p/sha1_sha1.c.o.d -o src/util/libmesa_util.a.p/sha1_sha1.c.o -c ../src/util/sha1/sha1.c\r\n     232    [38/1078] /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/map\r\n            i -Isrc/mesa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winval\r\n            id-pch -std=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/me\r\n            sa/-/issues\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP\r\n            64 -DHAVE___BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_\r\n            POPCOUNTLL -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNU\r\n            SED -DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC\r\n            _ATTRIBUTE_NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DH\r\n            AVE_SYS_SHM_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -\r\n            DHAVE_PTHREAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werro\r\n            r=empty-body -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments\r\n             -fno-common -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/u_queue.c.o -MF src/util/libmesa_ut\r\n            il.a.p/u_queue.c.o.d -o src/util/libmesa_util.a.p/u_queue.c.o -c ../src/util/u_queue.c\r\n  >> 233    FAILED: src/util/libmesa_util.a.p/u_queue.c.o\r\n     234    /Users/mthiel/SOFTWARE/spack/lib/spack/env/clang/clang -Isrc/util/libmesa_util.a.p -Isrc/util -I../src/util -Iinclude -I../include -Isrc -I../src -Isrc/mapi -I../src/mapi -Isrc/me\r\n            sa -I../src/mesa -I../src/gallium/include -Isrc/gallium/auxiliary -I../src/gallium/auxiliary -fvisibility=hidden -Xclang -fcolor-diagnostics -DNDEBUG -pipe -Wall -Winvalid-pch -st\r\n            d=c99 -O3 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS '-DPACKAGE_VERSION=\"20.2.1\"' '-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issue\r\n            s\"' -DBUILDING_MESA -DUSE_ELF_TLS -DENABLE_ST_OMX_BELLAGIO=0 -DENABLE_ST_OMX_TIZONIA=0 -DEGL_NO_X11 -DENABLE_SHADER_CACHE -DHAVE___BUILTIN_BSWAP32 -DHAVE___BUILTIN_BSWAP64 -DHAVE_\r\n            __BUILTIN_CLZ -DHAVE___BUILTIN_CLZLL -DHAVE___BUILTIN_CTZ -DHAVE___BUILTIN_EXPECT -DHAVE___BUILTIN_FFS -DHAVE___BUILTIN_FFSLL -DHAVE___BUILTIN_POPCOUNT -DHAVE___BUILTIN_POPCOUNTLL\r\n             -DHAVE___BUILTIN_UNREACHABLE -DHAVE_FUNC_ATTRIBUTE_CONST -DHAVE_FUNC_ATTRIBUTE_FLATTEN -DHAVE_FUNC_ATTRIBUTE_MALLOC -DHAVE_FUNC_ATTRIBUTE_PURE -DHAVE_FUNC_ATTRIBUTE_UNUSED -DHAVE\r\n            _FUNC_ATTRIBUTE_WARN_UNUSED_RESULT -DHAVE_FUNC_ATTRIBUTE_WEAK -DHAVE_FUNC_ATTRIBUTE_FORMAT -DHAVE_FUNC_ATTRIBUTE_PACKED -DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL -DHAVE_FUNC_ATTRIBUTE\r\n            _NORETURN -DHAVE_FUNC_ATTRIBUTE_VISIBILITY -DHAVE_UINT128 -DUSE_SSE41 -DUSE_GCC_ATOMIC_BUILTINS -DHAVE_SYS_SYSCTL_H -DHAVE_XLOCALE_H -DHAVE_DLFCN_H -DHAVE_EXECINFO_H -DHAVE_SYS_SH\r\n            M_H -DHAVE_STRTOF -DHAVE_MKOSTEMP -DHAVE_TIMESPEC_GET -DHAVE_FLOCK -DHAVE_STRTOK_R -DHAVE_POSIX_MEMALIGN -DHAVE_DIRENT_D_TYPE -DHAVE_STRTOD_L -DHAVE_DLADDR -DHAVE_ZLIB -DHAVE_PTHR\r\n            EAD -DLLVM_AVAILABLE '-DMESA_LLVM_VERSION_STRING=\"11.0.0\"' -DLLVM_IS_SHARED=0 -Werror=implicit-function-declaration -Werror=missing-prototypes -Werror=return-type -Werror=empty-bo\r\n            dy -Werror=incompatible-pointer-types -Werror=int-conversion -Wimplicit-fallthrough -Wno-missing-field-initializers -fno-math-errno -fno-trapping-math -Qunused-arguments -fno-comm\r\n            on -Werror=format -Wformat-security -Werror=pointer-arith -Werror=vla -Werror=gnu-empty-initializer -MD -MQ src/util/libmesa_util.a.p/u_queue.c.o -MF src/util/libmesa_util.a.p/u_q\r\n            ueue.c.o.d -o src/util/libmesa_util.a.p/u_queue.c.o -c ../src/util/u_queue.c\r\n  >> 235    ../src/util/u_queue.c:186:7: error: implicit declaration of function 'timespec_get' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n     236          timespec_get(&ts, TIME_UTC);\r\n     237          ^\r\n     238    1 error generated.\r\n...\r\n```\r\n\r\n### Information on your system\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n* **Spack:** 0.16.0\r\n* **Python:** 3.8.5\r\n* **Platform:** darwin-catalina-skylake\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- Please upload the following files. They should be present in the stage directory of the failing build. Also upload any config.log or similar file if one exists. -->\r\n* [spack-build-out.txt](https://github.com/spack/spack/files/6429071/spack-build-out.txt)\r\n* [spack-build-env.txt](https://github.com/spack/spack/files/6429072/spack-build-env.txt)\r\n\r\n<!-- Some packages have maintainers who have volunteered to debug build failures. Run `spack maintainers <name-of-the-package>` and @mention them here if they exist. -->\r\n@chuckatkins  @v-dobrev\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [x] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [x] I have uploaded the build log and environment files\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}