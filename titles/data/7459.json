{
    "url": "https://api.github.com/repos/spack/spack/issues/7459",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/7459/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/7459/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/7459/events",
    "html_url": "https://github.com/spack/spack/pull/7459",
    "id": 304191224,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTc0MjQwNzM4",
    "number": 7459,
    "title": "llvm 6.0.0 released as stable",
    "user": {
        "login": "svenevs",
        "id": 5871461,
        "node_id": "MDQ6VXNlcjU4NzE0NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5871461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svenevs",
        "html_url": "https://github.com/svenevs",
        "followers_url": "https://api.github.com/users/svenevs/followers",
        "following_url": "https://api.github.com/users/svenevs/following{/other_user}",
        "gists_url": "https://api.github.com/users/svenevs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svenevs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svenevs/subscriptions",
        "organizations_url": "https://api.github.com/users/svenevs/orgs",
        "repos_url": "https://api.github.com/users/svenevs/repos",
        "events_url": "https://api.github.com/users/svenevs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svenevs/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2018-03-11T20:32:36Z",
    "updated_at": "2018-03-13T19:46:29Z",
    "closed_at": "2018-03-13T10:34:20Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/7459",
        "html_url": "https://github.com/spack/spack/pull/7459",
        "diff_url": "https://github.com/spack/spack/pull/7459.diff",
        "patch_url": "https://github.com/spack/spack/pull/7459.patch"
    },
    "body": "Relase notes: http://releases.llvm.org/6.0.0/docs/ReleaseNotes.html\r\n\r\n**Before merge!!!**\r\n\r\n- [x] Check these download as expected (@svenevs, on linux)\r\n- [ ] Can we automate this?\r\n\r\nFor automation, I wrote a really simply bash script (~~fix for linux `md5sum` pending when i switch to that computer~~ fixed, i forgot i already wrote the platform dependent md5 stuff somewhere else xD).  I was thinking of adding a `# NOTE` comment just above `releases`\r\n\r\nhttps://github.com/spack/spack/blob/39bfa12f22b56cd35340bedd92f262ba05f9e125/var/spack/repos/builtin/packages/llvm/package.py#L165\r\n\r\nSaying something like\r\n\r\n```py\r\n# NOTE: adding a new stable release for LLVM?  Copy-paste the script at\r\n#       the bottom into a shell script and update the VERSION variable\r\n#       at the top, it will download and print the new entry for this variable.\r\n```\r\n\r\nand then just include the script at the bottom.  I couldn't figure out how to make `spack checksum` work...\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\n\r\n# TODO: update the version number!\r\nVERSION=\"6.0.0\"\r\n\r\n# Download the files needed\r\nif ! [[ -f \"llvm-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://releases.llvm.org/$VERSION/llvm-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"compiler-rt-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/compiler-rt-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"openmp-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/openmp-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"polly-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/polly-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"libcxx-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/libcxx-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"libcxxabi-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/libcxxabi-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"cfe-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/cfe-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"clang-tools-extra-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/clang-tools-extra-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"lldb-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/lldb-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"lld-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/lld-$VERSION.src.tar.xz\"\r\nfi\r\nif ! [[ -f \"libunwind-$VERSION.src.tar.xz\" ]]; then\r\n    curl -LO \"http://llvm.org/releases/$VERSION/libunwind-$VERSION.src.tar.xz\"\r\nfi\r\n\r\n# Acquire the platform dependent md5 command.  Many of these I am unable to test, but\r\n# this is written thanks to http://www-01.ibm.com/support/docview.wss?uid=swg21496703\r\nmd5_options=( \"md5sum\" \"md5\" \"csum\" \"digest\" )\r\nMD5=\"\"\r\nfor cmd in \"${md5_options[@]}\"; do\r\n    if [[ -x $(command -v \"$cmd\") ]]; then\r\n        if [[ \"$cmd\" == \"csum\" ]]; then\r\n            MD5=\"csum -h MD5\"\r\n        elif [[ \"$cmd\" == \"digest\" ]]; then\r\n            MD5=\"digest -a md5 -v\"\r\n        else\r\n            # shellcheck disable=SC2034\r\n            MD5=\"$cmd\"\r\n        fi\r\n        break\r\n    fi\r\ndone\r\n\r\nfunction strip_md5_hash() {\r\n    egrep -o \"[[:alnum:]]{32}\"\r\n}\r\n\r\n# Get the checksums\r\nmd5_src=\"$($MD5 llvm-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_compiler_rt=\"$($MD5 compiler-rt-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_openmp=\"$($MD5 openmp-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_polly=\"$($MD5 polly-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_libcxx=\"$($MD5 libcxx-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_libcxxabi=\"$($MD5 libcxxabi-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_cfe=\"$($MD5 cfe-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_clang_tools_extra=\"$($MD5 clang-tools-extra-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_lldb=\"$($MD5 lldb-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_lld=\"$($MD5 lld-$VERSION.src.tar.xz | strip_md5_hash)\"\r\nmd5_libunwind=\"$($MD5 libunwind-$VERSION.src.tar.xz | strip_md5_hash)\"\r\n\r\necho \"        {\"\r\necho \"            'version': '$VERSION',\"\r\necho \"            'md5': '$md5_src',\"\r\necho \"            'resources': {\"\r\necho \"                'compiler-rt': '$md5_compiler_rt',\"\r\necho \"                'openmp': '$md5_openmp',\"\r\necho \"                'polly': '$md5_polly',\"\r\necho \"                'libcxx': '$md5_libcxx',\"\r\necho \"                'libcxxabi': '$md5_libcxxabi',\"\r\necho \"                'cfe': '$md5_cfe',\"\r\necho \"                'clang-tools-extra': '$md5_clang_tools_extra',\"\r\necho \"                'lldb': '$md5_lldb',\"\r\necho \"                'lld': '$md5_lld',\"\r\necho \"                'libunwind': '$md5_libunwind'\"\r\necho \"            }\"\r\necho \"        },\"\r\n```",
    "performed_via_github_app": null
}