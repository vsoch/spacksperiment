{
    "url": "https://api.github.com/repos/spack/spack/issues/10097",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10097/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10097/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10097/events",
    "html_url": "https://github.com/spack/spack/pull/10097",
    "id": 390865620,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjM4NTM2Njcw",
    "number": 10097,
    "title": "Fix spack package inheritance for module variables",
    "user": {
        "login": "becker33",
        "id": 13971568,
        "node_id": "MDQ6VXNlcjEzOTcxNTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/13971568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/becker33",
        "html_url": "https://github.com/becker33",
        "followers_url": "https://api.github.com/users/becker33/followers",
        "following_url": "https://api.github.com/users/becker33/following{/other_user}",
        "gists_url": "https://api.github.com/users/becker33/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/becker33/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/becker33/subscriptions",
        "organizations_url": "https://api.github.com/users/becker33/orgs",
        "repos_url": "https://api.github.com/users/becker33/repos",
        "events_url": "https://api.github.com/users/becker33/events{/privacy}",
        "received_events_url": "https://api.github.com/users/becker33/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-12-13T21:23:20Z",
    "updated_at": "2018-12-17T19:16:01Z",
    "closed_at": "2018-12-14T16:37:22Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/10097",
        "html_url": "https://github.com/spack/spack/pull/10097",
        "diff_url": "https://github.com/spack/spack/pull/10097.diff",
        "patch_url": "https://github.com/spack/spack/pull/10097.patch"
    },
    "body": "Previously, module variables set by the Spack build environment were not available for parent classes when using inheritance to create packages. This was fixed for dependencies previously, but not for the top level package.\r\n\r\nMore specifically what failed prior to this PR: a Spack package were declared `class Foo(Bar)`, where `Bar` is another Spack package. When `Foo.func()` was called, if `func` is a method defined on `Bar` and inherited by `Foo` that requires module variables from the build environment (like `env['CFLAGS'] = 'baz'`), then Spack would fail with a `NameError`.\r\n\r\nThis is resolved by this PR, and a regression test is added.",
    "performed_via_github_app": null
}