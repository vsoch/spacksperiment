{
    "url": "https://api.github.com/repos/spack/spack/issues/11526",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/11526/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/11526/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/11526/events",
    "html_url": "https://github.com/spack/spack/issues/11526",
    "id": 446785949,
    "node_id": "MDU6SXNzdWU0NDY3ODU5NDk=",
    "number": 11526,
    "title": "Installation issue: xfd",
    "user": {
        "login": "huqy",
        "id": 5659893,
        "node_id": "MDQ6VXNlcjU2NTk4OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5659893?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/huqy",
        "html_url": "https://github.com/huqy",
        "followers_url": "https://api.github.com/users/huqy/followers",
        "following_url": "https://api.github.com/users/huqy/following{/other_user}",
        "gists_url": "https://api.github.com/users/huqy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/huqy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/huqy/subscriptions",
        "organizations_url": "https://api.github.com/users/huqy/orgs",
        "repos_url": "https://api.github.com/users/huqy/repos",
        "events_url": "https://api.github.com/users/huqy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/huqy/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2019-05-21T19:28:33Z",
    "updated_at": "2019-06-19T17:54:51Z",
    "closed_at": "2019-06-19T17:54:51Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi, I have met the \"DSO missing\" error when building xfd. \r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install xfd\r\n==> pkgconf is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/pkgconf-1.4.2-ljfy2kib5lfdxd7nhlhwcna76pndewpp\r\n==> util-macros is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/util-macros-1.19.1-xztluvf4isgescjuzzhxhq7u6f6svv3p\r\n==> font-util is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/font-util-1.3.1-6kve7liuipanbxoxec2kintpythf2hw7\r\n==> diffutils is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/diffutils-3.6-p4gfaaiefcrg6o7j24cu4mrzklmec5kr\r\n==> bzip2 is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/bzip2-1.0.6-57yzgp65casoks6if445a2dl7cp4fvmz\r\n==> zlib is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/zlib-1.2.11-fuwbsyd4h6milgbzfi362t25s46hd75r\r\n==> libpng is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libpng-1.6.34-aiz5qo7sshiccqk7vpqgkpjh6hnh53hy\r\n==> freetype is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/freetype-2.9.1-sjjaqsfziyl7lgxgfk5gzm24uultybuj\r\n==> gperf is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/gperf-3.0.4-qeav62tavckccguzh3f4nva26yvwrovr\r\n==> xz is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/xz-5.2.4-tn4b4qxe4pvdtnee5qbbpldysgkgmzzh\r\n==> libxml2 is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxml2-2.9.8-x3pyrm4ew6ixelzva6u6xztiupg7t354\r\n==> fontconfig is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/fontconfig-2.12.3-obh4r7fmqrnd4sb4dn3gvwsync5ozk7j\r\n==> inputproto is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/inputproto-2.3.2-qdvtz4d4obdjmaq6vp2c7vdwnvva6jri\r\n==> kbproto is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/kbproto-1.0.7-ugjncua66uvnmu4a4tds466g2yb554f6\r\n==> libpthread-stubs is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libpthread-stubs-0.4-5qusfmwhj643if7d56c2sj5f6jnjpk2u\r\n==> xproto is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/xproto-7.0.31-dgxpc2csiybtqqqq443uxfqzgf4pzeas\r\n==> libxau is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxau-1.0.8-jgl3aylnau7nv5q75bbuuerv7jllm2zr\r\n==> libxdmcp is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxdmcp-1.1.2-vna7k5vznqwyguh7owb3jlynomtz7czh\r\n==> xcb-proto is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/xcb-proto-1.13-ewngu4r5sjlugqg6tnuvhss4hpnpbhcs\r\n==> libxcb is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxcb-1.13-xhuphvj57jxtp52egx3q2ny3kp4vh6av\r\n==> ncurses is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/ncurses-6.1-65ihozz47uxacyvyvniwjc43jkj23bcz\r\n==> readline is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/readline-7.0-lvibxmqhxyriy6vtp6mfsycrw5qc3aci\r\n==> gdbm is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/gdbm-1.14.1-27eqb7wsi5erbtrx2to22kp2gdxuzt7d\r\n==> perl is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/perl-5.26.2-lf4pv5wkukmvpyi73hbakbyb3duoomul\r\n==> xextproto is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/xextproto-7.3.0-g7gt42frvtnltq5zjyvpheuniohjr6ox\r\n==> xtrans is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/xtrans-1.3.5-7oedxb2hj3hqxi7b2lvia5xwogbn4sa7\r\n==> libx11 is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libx11-1.6.5-q5yzoobfb6ew5vs7hjvpmnuzkjkrb2ta\r\n==> libxext is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxext-1.3.3-6np2ytnyclk3g4cuzuvhstcatqqqw2xz\r\n==> libice is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libice-1.0.9-a3soxsxfn4p7uhpecs5b4ot2w7qtwujb\r\n==> libsm is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libsm-1.2.2-xhgtt3ydvehr44mf533x4nw26jt35urm\r\n==> libxt is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxt-1.1.5-7idwvqlnhe4v2ooyh7nprcqmkb4rkjr7\r\n==> libxmu is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxmu-1.1.2-vbmq7fvao6nplory7dthuped6khypqd2\r\n==> tar is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/tar-1.30-6zoebaik3rs3mfbns2jf3h2nvcraupq7\r\n==> gettext is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/gettext-0.19.8.1-oc4yzjzifmyjtqgierjqg4jtexct3w33\r\n==> libxpm is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxpm-3.5.12-65ps6hlfhleijstdaea3pnfntobug4ye\r\n==> libxaw is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxaw-1.0.13-memyh5hgw6cntok6uodjmrrvls534n7b\r\n==> renderproto is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/renderproto-0.11.1-vw5demew34rfddem4jlh2bsyf3vajdsx\r\n==> libxrender is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxrender-0.9.10-jdcq5rqckbkxh2wd6h7cybayptsj4fgd\r\n==> libxft is already installed in $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/libxft-2.3.2-ymeb5hjkxhsohencoeczelqzysgslyix\r\n==> Installing xfd\r\n==> Searching for binary cache of xfd\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for xfd found: installing from source\r\n==> Using cached archive: $SPACK_ROOT/var/spack/cache/xfd/xfd-1.1.2.tar.gz\r\n==> Staging archive: $SPACK_ROOT/var/spack/stage/xfd-1.1.2-gus4ivkr4vrytpqjsdztxa73faqmmf5f/xfd-1.1.2.tar.gz\r\n==> Created stage in $SPACK_ROOT/var/spack/stage/xfd-1.1.2-gus4ivkr4vrytpqjsdztxa73faqmmf5f\r\n==> No patches needed for xfd\r\n==> Building xfd [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n6 errors found in build log:\r\n     848     #define XtNcallback ((char*)&XtStrings[136])\r\n     849                          ^\r\n     850    grid.c:994:26: note: in expansion of macro 'XtNcallback'\r\n     851         XtCallCallbacks (gw, XtNcallback, (XtPointer) &rec);\r\n     852                              ^~~~~~~~~~~\r\n     853      CCLD     xfd\r\n  >> 854    /usr/bin/ld: xfd.o: undefined reference to symbol 'libintl_textdomain'\r\n  >> 855    $SPACK_ROOT/opt/spack/linux-centos7-x86_64/gcc-7.2.0/gettext-0.19.8.1-oc4yzjzifmyjtqgi\r\n            erjqg4jtexct3w33/lib/libintl.so.8: error adding symbols: DSO missing from command line\r\n  >> 856    collect2: error: ld returned 1 exit status\r\n  >> 857    make[2]: *** [xfd] Error 1\r\n     858    make[2]: Leaving directory `/tmp/cusgunx/spack-stage/spack-stage-WJEnK6/xfd-1.1.2'\r\n  >> 859    make[1]: *** [all-recursive] Error 1\r\n     860    make[1]: Leaving directory `/tmp/cusgunx/spack-stage/spack-stage-WJEnK6/xfd-1.1.2'\r\n  >> 861    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  $SPACK_ROOT/var/spack/stage/xfd-1.1.2-gus4ivkr4vrytpqjsdztxa73faqmmf5f/xfd-1.1.2/spack-build.out\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n$ uname -a \r\nLinux n2005 3.10.0-957.12.1.el7.x86_64 #1 SMP Mon Apr 29 14:59:59 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$ spack --version\r\n0.12.1\r\n``` \r\n\r\nAt the same time, I am wondering about a more general & fundamental question on how to explicitly specify a lib dependency (in a package) in package.py. Any advices?",
    "performed_via_github_app": null
}