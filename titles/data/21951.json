{
    "url": "https://api.github.com/repos/spack/spack/issues/21951",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21951/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21951/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21951/events",
    "html_url": "https://github.com/spack/spack/issues/21951",
    "id": 816175572,
    "node_id": "MDU6SXNzdWU4MTYxNzU1NzI=",
    "number": 21951,
    "title": "[llvm-openmp@3.9.2b2 [Failed to use a built-in test case] When you run the make ctest/ftest command, the error message \"Can' t locate ompts_parserFunctions.pm in @INC \" is displayed.",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-02-25T07:39:09Z",
    "updated_at": "2021-03-12T12:39:30Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\nSee:\r\n```console\r\n[root@centos8 testsuite]# ls\r\nadding_xfails.py  fortran   omp_my_sleep.f   ompts-c.conf         ompts_parserFunctions.pm  README_LLVM_OPENMP              template_parser_fortran.pl\r\nbin               LICENSE   omp_my_sleep.h   ompts.conf           ompts_parser.pl           README_OpenMP_Validation_Suite  testlist-c.txt\r\nc                 LLVM-IR   omp_testsuite.f  ompts-f.conf         ompts_standaloneProc.c    runtest.pl                      testlist-f.txt\r\ncommon_utility.f  Makefile  omp_testsuite.h  ompts_makeHeader.pl  ompts_standaloneProc.f    template_parser_c.pl            tests_to_integrate\r\n[root@centos8 testsuite]# make ftest | make ctest\r\nmkdir -p bin/c\r\ncp omp_my_sleep.h bin/c/\r\nmkdir -p bin/c\r\ncp omp_testsuite.h bin/c/\r\n./runtest.pl --lang=c testlist-c.txt\r\nCan't locate ompts_parserFunctions.pm in @INC (you may need to install the ompts_parserFunctions module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5) at ./runtest.pl line 28.\r\nBEGIN failed--compilation aborted at ./runtest.pl line 28.\r\nmake: *** [Makefile:207: ftest] Error 2\r\nCan't locate ompts_parserFunctions.pm in @INC (you may need to install the ompts_parserFunctions module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5) at ./runtest.pl line 28.\r\nBEGIN failed--compilation aborted at ./runtest.pl line 28.\r\nmake: *** [Makefile:200: ctest] Error 2\r\n[root@centos8 testsuite]# vim ompts_parserFunctions.pm\r\n#!/usr/bin/perl -w\r\n  2\r\n  3 # functions.pm\r\n  4 # This package contains a set of subroutines to modify the templates for the openMP Testuite.\r\n  5\r\n  6\r\n  7 ################################################################################\r\n  8 # subroutines to extract, modify or delete tags from the template\r\n  9 ################################################################################\r\n 10\r\n 11 # LIST get_tag_values( $tagname, $string )\r\n 12 # subrutine to get the text encloded by a tag.\r\n 13 # Returns a list containing the inner texts of the found tags\r\n 14 sub get_tag_values\r\n 15 {\r\n 16     my ( $tagname, $string );\r\n 17     ( $tagname, $string ) = @_;\r\n 18     my (@tmp,@tmp2);\r\n 19     @tmp = split(/\\<$tagname\\>/,$string);\r\n 20     foreach $_(@tmp){\r\n 21         push(@tmp2,split(/\\<\\/$tagname\\>/));\r\n 22     }\r\n 23     my(@result,$i);\r\n 24     $i=1; # couter to get only every second item\r\n 25     foreach $_(@tmp2){\r\n 26         if($i%2 eq 0){\r\n 27             push(@result,$_);\r\n 28         }\r\n 29         $i++;\r\n 30     }\r\n 31     return @result;\r\n 32 }\r\n 33\r\n 34 # LIST replace_tags( $tagname, $replacestring, @list )\r\n 35 # subrutine to replace tags by a replacestring.\r\n 36 # Returns a list of the srings after conversion.\r\n 37 sub replace_tags\r\n 38 {\r\n 39     my ($tagname, $replacestring, @stringlist, @result);\r\n 40     ($tagname, $replacestring, @stringlist) = @_;\r\n 41     foreach $_(@stringlist) {\r\n 42         s#\\<$tagname\\>(.*?)\\<\\/$tagname\\>#$replacestring#gs;\r\n 43         push(@result,$_);\r\n 44     }\r\n 45     return @result;\r\n 46 }\r\n 47\r\n 48 # LIST enlarge_tags( $tagname, $before, $after, @list )\r\n 49 # subrutine to replace tags by the tags added by a string before and after.\r\n 50 # Returns a list of the srings after conversion.\r\n\u2026\u2026\r\n```\r\nI don't know why. Can you take a look at it for me?\r\n\r\n### Information on your system\r\n[root@centos8 spack-src]# spack debug report\r\n* **Spack:** 0.16.1-1436-0389f51bd7\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n* **Concretizer:** original\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n- [ ] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->\r\n",
    "performed_via_github_app": null
}