{
    "url": "https://api.github.com/repos/spack/spack/issues/12732",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12732/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12732/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12732/events",
    "html_url": "https://github.com/spack/spack/issues/12732",
    "id": 490096501,
    "node_id": "MDU6SXNzdWU0OTAwOTY1MDE=",
    "number": 12732,
    "title": "Implicit RPATH detection chokes on unexpected output",
    "user": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 446615268,
            "node_id": "MDU6TGFiZWw0NDY2MTUyNjg=",
            "url": "https://api.github.com/repos/spack/spack/labels/compilers",
            "name": "compilers",
            "color": "f9d0c4",
            "default": false,
            "description": null
        },
        {
            "id": 512483406,
            "node_id": "MDU6TGFiZWw1MTI0ODM0MDY=",
            "url": "https://api.github.com/repos/spack/spack/labels/impact-high",
            "name": "impact-high",
            "color": "fef2c0",
            "default": false,
            "description": ""
        },
        {
            "id": 446779717,
            "node_id": "MDU6TGFiZWw0NDY3Nzk3MTc=",
            "url": "https://api.github.com/repos/spack/spack/labels/rpath",
            "name": "rpath",
            "color": "bfdadc",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-09-06T02:30:14Z",
    "updated_at": "2019-09-17T02:09:29Z",
    "closed_at": "2019-09-17T02:09:29Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I was helping someone set up Spack on their machine, but the simplest `spack compiler find` command crashed when trying to detect implicit RPATHs for an Anaconda-installed gfortran.\r\n\r\n### Steps to reproduce the issue\r\n\r\nOn macOS:\r\n```console\r\n$ conda install -c anaconda gfortran_osx-64\r\n$ spack compiler find\r\n[errors]\r\n$ spack install zlib\r\n[errors]\r\n```\r\n\r\n### Error Message\r\n\r\n```console\r\n$ spack -d compiler find\r\n==> [2019-09-05-18:06:59.224671] Imported compiler from built-in commands\r\n==> [2019-09-05-18:06:59.229040] Imported compiler from built-in commands\r\n==> [2019-09-05-18:06:59.324668] Reading config file /Users/zhangliangchen/spack/etc/spack/defaults/modules.yaml\r\n==> [2019-09-05-18:06:59.347345] Reading config file /Users/zhangliangchen/spack/etc/spack/defaults/darwin/modules.yaml\r\n==> [2019-09-05-18:06:59.350463] Reading config file /Users/zhangliangchen/spack/etc/spack/defaults/config.yaml\r\n==> [2019-09-05-18:06:59.543644] 'clang' '--version'\r\n==> [2019-09-05-18:06:59.543317] '/usr/bin/g++' '--version'\r\n==> [2019-09-05-18:06:59.542916] '/Users/zhangliangchen/anaconda3/bin/gfortran' '-dumpversion'\r\n==> [2019-09-05-18:06:59.549381] '/usr/bin/clang++' '--version'\r\n==> [2019-09-05-18:06:59.576210] '/usr/bin/clang' '--version'\r\n==> [2019-09-05-18:06:59.629974] '/Users/zhangliangchen/anaconda3/bin/clang-4.0' '--version'\r\n==> [2019-09-05-18:06:59.654131] '/Users/zhangliangchen/anaconda3/bin/clang-cpp' '--version'\r\n==> [2019-09-05-18:06:59.665571] '/Users/zhangliangchen/anaconda3/bin/clang-import-test' '--version'\r\n==> [2019-09-05-18:06:59.667384] '/Users/zhangliangchen/anaconda3/bin/clang++' '--version'\r\n==> [2019-09-05-18:06:59.668029] '/usr/bin/gcc' '--version'\r\n==> [2019-09-05-18:06:59.687869] '/Users/zhangliangchen/anaconda3/bin/clang-cl' '--version'\r\n==> [2019-09-05-18:06:59.701220] '/Users/zhangliangchen/anaconda3/bin/clang-check' '--version'\r\n==> [2019-09-05-18:06:59.718402] '/Users/zhangliangchen/anaconda3/bin/clang-offload-bundler' '--version'\r\n==> [2019-09-05-18:06:59.726536] '/Users/zhangliangchen/anaconda3/bin/clang' '--version'\r\n==> [2019-09-05-18:06:59.753821] '/usr/bin/cc' '-V'\r\n==> [2019-09-05-18:06:59.882723] '/Users/zhangliangchen/anaconda3/bin/clang-format' '--version'\r\n==> [2019-09-05-18:06:59.899253] Couldn't get version for compiler /usr/bin/g++\r\n==> [2019-09-05-18:06:59.899466] Couldn't get version for compiler /usr/bin/gcc\r\n==> [2019-09-05-18:06:59.899558] Couldn't get version for compiler /Users/zhangliangchen/anaconda3/bin/clang-import-test\r\n==> [2019-09-05-18:06:59.899635] Couldn't get version for compiler /Users/zhangliangchen/anaconda3/bin/clang-cl\r\nCommand exited with status 1:\r\n    '/Users/zhangliangchen/anaconda3/bin/clang-cl' '--version'\r\nclang-4.0: warning: unknown argument ignored in clang-cl: '--version' [-Wunknown-argument]\r\nclang-4.0: error: no input files\r\n\r\n==> [2019-09-05-18:06:59.899709] Couldn't get version for compiler /Users/zhangliangchen/anaconda3/bin/clang-offload-bundler\r\n==> [2019-09-05-18:06:59.899777] Couldn't get version for compiler /Users/zhangliangchen/anaconda3/bin/clang-check\r\n==> [2019-09-05-18:06:59.899837] Couldn't get version for compiler /Users/zhangliangchen/anaconda3/bin/clang-format\r\n==> [2019-09-05-18:06:59.899900] Couldn't get version for compiler /usr/bin/cc\r\nCommand exited with status 1:\r\n    '/usr/bin/cc' '-V'\r\nclang: error: unsupported option '-V -Wno-atomic-implicit-seq-cst'\r\nclang: error: no input files\r\n\r\n==> [2019-09-05-18:06:59.901557] '/usr/bin/clang' '-v' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-infoyjuxv89w/main.c' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-infoyjuxv89w/output'\r\n==> [2019-09-05-18:06:59.978225] parsing implicit link info\r\n==> [2019-09-05-18:06:59.978669] linker line:  \"/Library/Developer/CommandLineTools/usr/bin/ld\" -demangle -lto_library /Library/Developer/CommandLineTools/usr/lib/libLTO.dylib -no_deduplicate -dynamic -arch x86_64 -macosx_version_min 10.14.0 -syslibroot /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-infoyjuxv89w/output /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/main-417594.o -L/usr/local/lib -lSystem /Library/Developer/CommandLineTools/usr/lib/clang/10.0.1/lib/darwin/libclang_rt.osx.a\r\n==> [2019-09-05-18:06:59.978794] linkdir: /usr/local/lib\r\n==> [2019-09-05-18:06:59.978871] found raw link dirs: /usr/local/lib\r\n==> [2019-09-05-18:06:59.979028] found link dirs: \r\n==> [2019-09-05-18:06:59.981276] '/Users/zhangliangchen/anaconda3/bin/clang' '-v' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-infog312p6z5/main.c' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-infog312p6z5/output'\r\n==> [2019-09-05-18:07:00.047722] parsing implicit link info\r\n==> [2019-09-05-18:07:00.048068] linker line:  \"/usr/bin/ld\" -demangle -lto_library /Users/zhangliangchen/anaconda3/lib/libLTO.dylib -dynamic -arch x86_64 -macosx_version_min 10.14.0 -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-infog312p6z5/output /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/main-4324bc.o -lSystem /Users/zhangliangchen/anaconda3/bin/../lib/clang/4.0.1/lib/darwin/libclang_rt.osx.a\r\n==> [2019-09-05-18:07:00.048180] found raw link dirs: \r\n==> [2019-09-05-18:07:00.048285] found link dirs: \r\n==> [2019-09-05-18:07:00.049988] '/Users/zhangliangchen/anaconda3/bin/gfortran' '-v' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output'\r\n==> [2019-09-05-18:07:00.061259] ProcessError: Command exited with status 1:\r\n    '/Users/zhangliangchen/anaconda3/bin/gfortran' '-v' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output'\r\nDriving: /Users/zhangliangchen/anaconda3/bin/gfortran -mmacosx-version-min=10.14.6 -v /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output -l gfortran -shared-libgcc\r\nUsing built-in specs.\r\nCOLLECT_GCC=/Users/zhangliangchen/anaconda3/bin/gfortran\r\nCOLLECT_LTO_WRAPPER=/Users/zhangliangchen/anaconda3/bin/../libexec/gcc/x86_64-apple-darwin11.4.2/4.8.5/lto-wrapper\r\nTarget: x86_64-apple-darwin11.4.2\r\nConfigured with: ./configure --prefix=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-gxx-include-dir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/gcc/include/c++ --bindir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/bin --datarootdir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/share --libdir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib --with-gmp=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-mpfr=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-mpc=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-isl=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-cloog=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-boot-ldflags='-Wl,-headerpad_max_install_names -Wl,-L/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib -Wl,-L/usr/lib' --with-stage1-ldflags='-Wl,-headerpad_max_install_names -Wl,-L/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib -Wl,-L/usr/lib' --enable-checking=release --with-tune=generic --disable-multilib\r\nThread model: posix\r\ngcc version 4.8.5 (GCC) \r\nCOLLECT_GCC_OPTIONS='-mmacosx-version-min=10.14.6' '-v' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output' '-shared-libgcc' '-mtune=generic'\r\n cc1 -quiet -v -iprefix /Users/zhangliangchen/anaconda3/bin/../lib/gcc/x86_64-apple-darwin11.4.2/4.8.5/ -D__DYNAMIC__ /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c -fPIC -quiet -dumpbase main.c -mmacosx-version-min=10.14.6 -mtune=generic -auxbase main -version -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T//cchBWrw1.s\r\ngfortran: error trying to exec 'cc1': execvp: No such file or directory\r\n\r\n==> [2019-09-05-18:07:00.061580] Error: Command exited with status 1:\r\n'/Users/zhangliangchen/anaconda3/bin/gfortran' '-v' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output'\r\nDriving: /Users/zhangliangchen/anaconda3/bin/gfortran -mmacosx-version-min=10.14.6 -v /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output -l gfortran -shared-libgcc\r\nUsing built-in specs.\r\nCOLLECT_GCC=/Users/zhangliangchen/anaconda3/bin/gfortran\r\nCOLLECT_LTO_WRAPPER=/Users/zhangliangchen/anaconda3/bin/../libexec/gcc/x86_64-apple-darwin11.4.2/4.8.5/lto-wrapper\r\nTarget: x86_64-apple-darwin11.4.2\r\nConfigured with: ./configure --prefix=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-gxx-include-dir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/gcc/include/c++ --bindir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/bin --datarootdir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/share --libdir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib --with-gmp=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-mpfr=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-mpc=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-isl=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-cloog=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-boot-ldflags='-Wl,-headerpad_max_install_names -Wl,-L/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib -Wl,-L/usr/lib' --with-stage1-ldflags='-Wl,-headerpad_max_install_names -Wl,-L/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib -Wl,-L/usr/lib' --enable-checking=release --with-tune=generic --disable-multilib\r\nThread model: posix\r\ngcc version 4.8.5 (GCC) \r\nCOLLECT_GCC_OPTIONS='-mmacosx-version-min=10.14.6' '-v' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output' '-shared-libgcc' '-mtune=generic'\r\n cc1 -quiet -v -iprefix /Users/zhangliangchen/anaconda3/bin/../lib/gcc/x86_64-apple-darwin11.4.2/4.8.5/ -D__DYNAMIC__ /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c -fPIC -quiet -dumpbase main.c -mmacosx-version-min=10.14.6 -mtune=generic -auxbase main -version -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T//cchBWrw1.s\r\ngfortran: error trying to exec 'cc1': execvp: No such file or directory\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/main.py\", line 697, in main\r\n    return _invoke_command(command, parser, args, unknown)\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/main.py\", line 447, in _invoke_command\r\n    return_val = command(parser, args)\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/cmd/compiler.py\", line 182, in compiler\r\n    action[args.compiler_command](args)\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/cmd/compiler.py\", line 83, in compiler_find\r\n    compilers = [c for c in spack.compilers.find_compilers(paths)]\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/compilers/__init__.py\", line 237, in find_compilers\r\n    map(remove_errors, filter(valid_version, detected_versions))\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/compilers/__init__.py\", line 657, in make_compiler_list\r\n    compilers.extend(make_compilers(compiler_id, selected))\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/compilers/__init__.py\", line 640, in _default\r\n    implicit_rpaths = compiler_cls.determine_implicit_rpaths(paths)\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/compiler.py\", line 294, in determine_implicit_rpaths\r\n    output=str, error=str))  # str for py2\r\n  File \"/Users/zhangliangchen/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n    proc.returncode, long_msg)\r\nspack.util.executable.ProcessError: Command exited with status 1:\r\n    '/Users/zhangliangchen/anaconda3/bin/gfortran' '-v' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output'\r\nDriving: /Users/zhangliangchen/anaconda3/bin/gfortran -mmacosx-version-min=10.14.6 -v /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output -l gfortran -shared-libgcc\r\nUsing built-in specs.\r\nCOLLECT_GCC=/Users/zhangliangchen/anaconda3/bin/gfortran\r\nCOLLECT_LTO_WRAPPER=/Users/zhangliangchen/anaconda3/bin/../libexec/gcc/x86_64-apple-darwin11.4.2/4.8.5/lto-wrapper\r\nTarget: x86_64-apple-darwin11.4.2\r\nConfigured with: ./configure --prefix=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-gxx-include-dir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/gcc/include/c++ --bindir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/bin --datarootdir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/share --libdir=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib --with-gmp=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-mpfr=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-mpc=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-isl=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-cloog=/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac --with-boot-ldflags='-Wl,-headerpad_max_install_names -Wl,-L/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib -Wl,-L/usr/lib' --with-stage1-ldflags='-Wl,-headerpad_max_install_names -Wl,-L/Users/ray/mc-x64-3.5/conda-bld/gcc-4.8_1477649012852/_b_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac/lib -Wl,-L/usr/lib' --enable-checking=release --with-tune=generic --disable-multilib\r\nThread model: posix\r\ngcc version 4.8.5 (GCC) \r\nCOLLECT_GCC_OPTIONS='-mmacosx-version-min=10.14.6' '-v' '-o' '/var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/output' '-shared-libgcc' '-mtune=generic'\r\n cc1 -quiet -v -iprefix /Users/zhangliangchen/anaconda3/bin/../lib/gcc/x86_64-apple-darwin11.4.2/4.8.5/ -D__DYNAMIC__ /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T/spack-implicit-link-info3e9i9h05/main.c -fPIC -quiet -dumpbase main.c -mmacosx-version-min=10.14.6 -mtune=generic -auxbase main -version -o /var/folders/48/pkp35jfd7k5fckps2ntwn11h0000gn/T//cchBWrw1.s\r\ngfortran: error trying to exec 'cc1': execvp: No such file or directory\r\n```\r\n\r\n### Information on your system\r\n\r\nmacOS 10.14.6 Mojave\r\n\r\nSpack should be more robust in this scenario. As is, Spack fails to detect any compilers if even a single compiler has an error.\r\n\r\n@becker33 @mathstuf @tgamblin \r\n\r\nDiscovered by @zchen105",
    "performed_via_github_app": null
}