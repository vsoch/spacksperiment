{
    "url": "https://api.github.com/repos/spack/spack/issues/23341",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/23341/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/23341/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/23341/events",
    "html_url": "https://github.com/spack/spack/pull/23341",
    "id": 871234715,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjI2Mjg3MTE2",
    "number": 23341,
    "title": "py-astroid: properly select py-wrapt dependency w/ when clause",
    "user": {
        "login": "eugeneswalker",
        "id": 38933153,
        "node_id": "MDQ6VXNlcjM4OTMzMTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugeneswalker",
        "html_url": "https://github.com/eugeneswalker",
        "followers_url": "https://api.github.com/users/eugeneswalker/followers",
        "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
        "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
        "repos_url": "https://api.github.com/users/eugeneswalker/repos",
        "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1474769306,
            "node_id": "MDU6TGFiZWwxNDc0NzY5MzA2",
            "url": "https://api.github.com/repos/spack/spack/labels/e4s",
            "name": "e4s",
            "color": "5224ad",
            "default": false,
            "description": ""
        },
        {
            "id": 966031931,
            "node_id": "MDU6TGFiZWw5NjYwMzE5MzE=",
            "url": "https://api.github.com/repos/spack/spack/labels/ecp",
            "name": "ecp",
            "color": "79d7ea",
            "default": false,
            "description": ""
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-04-29T16:46:09Z",
    "updated_at": "2021-04-29T19:06:24Z",
    "closed_at": "2021-04-29T19:06:23Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/23341",
        "html_url": "https://github.com/spack/spack/pull/23341",
        "diff_url": "https://github.com/spack/spack/pull/23341.diff",
        "patch_url": "https://github.com/spack/spack/pull/23341.patch"
    },
    "body": "This PR properly selects the py-wrapt dependency version depending on the py-astroid version requested. This PR resolves the following concretization error:\r\n\r\nWithout this PR:\r\n```\r\n$> spack spec py-astroid\r\nInput spec\r\n--------------------------------\r\npy-astroid\r\n\r\nConcretized\r\n--------------------------------\r\n==> Error: An unsatisfiable version constraint has been detected for spec:\r\n\r\n    py-wrapt@1.12.1%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n\r\n\r\nwhile trying to concretize the partial spec:\r\n\r\n    py-astroid@2.3.3%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n        ^py-lazy-object-proxy@1.4.3%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n            ^py-setuptools@50.3.2%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                ^python@3.8.9%gcc@9.3.0+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib arch=linux-ubuntu20.04-cascadelake\r\n                    ^bzip2\r\n                        ^diffutils\r\n                            ^iconv\r\n                    ^expat\r\n                    ^gdbm\r\n                        ^readline\r\n                            ^ncurses\r\n                                ^pkgconf@1.7.4%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                    ^gettext+libxml2\r\n                        ^libxml2\r\n                            ^xz\r\n                            ^zlib@1.1.3:\r\n                    ^libffi\r\n                    ^openssl@1.0.2:\r\n                        ^perl@5.14.0:\r\n                            ^berkeley-db\r\n                    ^sqlite@3.0.8:\r\n                    ^uuid\r\n        ^py-six@1.15.0%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n\r\npy-astroid requires py-wrapt version 1.11:1.11.999, but spec asked for 1.12.1\r\n```\r\n\r\nWith this PR:\r\n```\r\n$> spack spec py-astroid\r\nInput spec\r\n--------------------------------\r\npy-astroid@2.3.3\r\n\r\nConcretized\r\n--------------------------------\r\npy-astroid@2.3.3%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n    ^py-lazy-object-proxy@1.4.3%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n        ^py-setuptools@50.3.2%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n            ^python@3.8.9%gcc@9.3.0+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87 arch=linux-ubuntu20.04-cascadelake\r\n                ^bzip2@1.0.8%gcc@9.3.0~debug~pic+shared arch=linux-ubuntu20.04-cascadelake\r\n                    ^diffutils@3.7%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                        ^libiconv@1.16%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                ^expat@2.3.0%gcc@9.3.0+libbsd arch=linux-ubuntu20.04-cascadelake\r\n                    ^libbsd@0.11.3%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                        ^libmd@1.0.3%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                ^gdbm@1.19%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                    ^readline@8.1%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                        ^ncurses@6.2%gcc@9.3.0~symlinks+termlib abi=none arch=linux-ubuntu20.04-cascadelake\r\n                            ^pkgconf@1.7.4%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                ^gettext@0.21%gcc@9.3.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-ubuntu20.04-cascadelake\r\n                    ^libxml2@2.9.10%gcc@9.3.0~python arch=linux-ubuntu20.04-cascadelake\r\n                        ^xz@5.2.5%gcc@9.3.0~pic arch=linux-ubuntu20.04-cascadelake\r\n                        ^zlib@1.2.11%gcc@9.3.0+optimize+pic+shared arch=linux-ubuntu20.04-cascadelake\r\n                    ^tar@1.34%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n                ^libffi@3.3%gcc@9.3.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=linux-ubuntu20.04-cascadelake\r\n                ^openssl@1.1.1k%gcc@9.3.0~docs+systemcerts arch=linux-ubuntu20.04-cascadelake\r\n                    ^perl@5.32.1%gcc@9.3.0+cpanm+shared+threads arch=linux-ubuntu20.04-cascadelake\r\n                        ^berkeley-db@18.1.40%gcc@9.3.0+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-ubuntu20.04-cascadelake\r\n                ^sqlite@3.35.4%gcc@9.3.0+column_metadata+fts~functions~rtree arch=linux-ubuntu20.04-cascadelake\r\n                ^util-linux-uuid@2.36.2%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n    ^py-six@1.15.0%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n    ^py-wrapt@1.11.2%gcc@9.3.0 arch=linux-ubuntu20.04-cascadelake\r\n```\r\n\r\n@lee218llnl @iarspider ",
    "performed_via_github_app": null
}