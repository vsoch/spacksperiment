{
    "url": "https://api.github.com/repos/spack/spack/issues/21560",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21560/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21560/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21560/events",
    "html_url": "https://github.com/spack/spack/issues/21560",
    "id": 804295295,
    "node_id": "MDU6SXNzdWU4MDQyOTUyOTU=",
    "number": 21560,
    "title": "[verilator@3.920 make test failure] Self-test cases fail to be executed after the Spack is installed. ",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-02-09T07:33:31Z",
    "updated_at": "2021-03-12T12:41:48Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Explain, in a clear and concise way, the command you ran and the result you were trying to achieve.\r\nExample: \"I ran `spack find` to list all the installed packages and ...\" -->\r\nHello,I meet a question about Self-test cases fail to be executed after the Spack is installed of verilator .\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n[root@centos8 ~]#spack install --keep-stage verilator@3.920\r\n[root@centos8 ~]#spack cd verilator\r\n[root@centos8 spack-src]#spack load verilator\r\n[root@centos8 spack-src]#source ../spack-build-out.txt\r\n[root@centos8 spack-src]# cd test_regress/\r\n[root@centos8 test_regress]#make test\r\n\u2026\u2026\r\nTYPES    Vt_wire_types    > obj_dir/t_wire_types/vlt_gcc.log\r\nmake[1]: Entering directory '/tmp/root/spack-stage/spack-stage-verilator-3.920-74zk5x4hvr2bj2cwyb2btym32hy3gdau/spack-src/test_regress/obj_dir/t_wire_types'\r\n/home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/perl-5.30.3-2hodatpomwzo53za4danhjcthvxzbava/bin/perl /tmp/root/spack-stage/spack-stage-verilator-3.920-74zk5x4hvr2bj2cwyb2btym32hy3gdau/spack-src/test_regress/../bin/verilator_includer -DVL_INLINE_OPT=inline Vt_wire_types__main.cpp /tmp/root/spack-stage/spack-stage-verilator-3.920-74zk5x4hvr2bj2cwyb2btym32hy3gdau/spack-src/test_regress/../include/verilated.cpp Vt_wire_types.cpp Vt_wire_types__Syms.cpp > Vt_wire_types__ALLboth.cpp\r\n/home/spack/spack/lib/spack/env/gcc/g++  -I.  -MMD -I/tmp/root/spack-stage/spack-stage-verilator-3.920-74zk5x4hvr2bj2cwyb2btym32hy3gdau/spack-src/test_regress/../include -I/tmp/root/spack-stage/spack-stage-verilator-3.920-74zk5x4hvr2bj2cwyb2btym32hy3gdau/spack-src/test_regress/../include/vltstd -DVL_PRINTF=printf -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=0 -faligned-new -Wno-bool-operation -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable -Wno-shadow      -DVERILATOR=1 -DVL_DEBUG=1 -DVM_PREFIX=Vt_wire_types -DVM_PREFIX_INCLUDE=\"<Vt_wire_types.h>\" -DT_WIRE_TYPES    -c -o Vt_wire_types__ALLboth.o Vt_wire_types__ALLboth.cpp\r\n/home/spack/spack/lib/spack/env/gcc/g++    -g Vt_wire_types__ALLboth.o    -o Vt_wire_types -lm -lstdc++ 2>&1\r\nmake[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-verilator-3.920-74zk5x4hvr2bj2cwyb2btym32hy3gdau/spack-src/test_regress/obj_dir/t_wire_types'\r\nvlt/t_wire_types: Run\r\n        obj_dir/t_wire_types/Vt_wire_types    > obj_dir/t_wire_types/vlt_sim.log\r\n*-* All Finished *-*\r\n- t/t_wire_types.v:59: Verilog $finish\r\nvlt/t_wire_types: Test PASSED\r\n==SUMMARY: Left NO-FORKER  Passed 785  Unsup 15  Skipped 35  Failed 73\r\n======================================================================\r\nvlt/t_xml_first: ==================================================\r\nvlt/t_xml_first: Compile\r\n        perl ../bin/verilator --prefix Vt_xml_first --x-assign unique -cc -Mdir obj_dir/t_xml_first -OD --debug-check --comp-limit-members 10 --xml-only --clk clk  -f input.vc t/t_xml_first.v    > obj_dir/t_xml_first/vlt_compile.log\r\nvlt/t_xml_first: Test PASSED\r\n==SUMMARY: Left NO-FORKER  Passed 786  Unsup 15  Skipped 35  Failed 73\r\n======================================================================\r\nvlt/t_xml_tag: ==================================================\r\nvlt/t_xml_tag: Compile\r\n        perl ../bin/verilator --prefix Vt_xml_tag --x-assign unique -cc -Mdir obj_dir/t_xml_tag -OD --debug-check --comp-limit-members 10 --xml-only --clk clk  -f input.vc t/t_xml_tag.v    > obj_dir/t_xml_tag/vlt_compile.log\r\nvlt/t_xml_tag: Test PASSED\r\n==SUMMARY: Left NO-FORKER  Passed 787  Unsup 15  Skipped 35  Failed 73\r\n\r\n======================================================================\r\nTESTS Passed 787  Unsup 15  Skipped 35  Failed 73  Time 34:18\r\n        #vlt/t_a_first_cc: %Error: Exec of perl failed\r\n                make && test_regress/t/t_a_first_cc.pl --vlt\r\n        #vlt/t_assert_comp_bad: %Error: Mismatch in output from obj_dir/t_assert_comp_bad/Vt_assert_comp_bad\r\n                make && test_regress/t/t_assert_comp_bad.pl --vlt\r\n        #vlt/t_assert_cover: %Error: Exec of perl failed\r\n                make && test_regress/t/t_assert_cover.pl --vlt\r\n        #vlt/t_assert_cover_off: %Error: Exec of perl failed\r\n                make && test_regress/t/t_assert_cover_off.pl --vlt\r\n        #vlt/t_assert_synth_full: %Error: Mismatch in output from obj_dir/t_assert_synth_full/Vt_assert_synth_full\r\n                make && test_regress/t/t_assert_synth_full.pl --vlt\r\n        #vlt/t_assert_synth_parallel: %Error: Mismatch in output from obj_dir/t_assert_synth_parallel/Vt_assert_synth_parallel\r\n                make && test_regress/t/t_assert_synth_parallel.pl --vlt\r\n        #vlt/t_clk_vecgen1: %Error: Exec of perl failed\r\n                make && test_regress/t/t_clk_vecgen1.pl --vlt\r\n        #vlt/t_clk_vecgen2: %Error: Exec of perl failed\r\n                make && test_regress/t/t_clk_vecgen2.pl --vlt\r\n        #vlt/t_clk_vecgen3: %Error: Exec of perl failed\r\n                make && test_regress/t/t_clk_vecgen3.pl --vlt\r\n        #vlt/t_crazy_sel: %Error: Exec of perl failed\r\n                make && test_regress/t/t_crazy_sel.pl --vlt\r\n        #vlt/t_debug_fatalsrc_bt_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_debug_fatalsrc_bt_bad.pl --vlt\r\n        #vlt/t_debug_sigsegv_bt_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_debug_sigsegv_bt_bad.pl --vlt\r\n        #vlt/t_dpi_imp_gen: %Error: Exec of perl failed\r\n                make && test_regress/t/t_dpi_imp_gen.pl --vlt\r\n        #vlt/t_final: %Error: Exec of perl failed\r\n                make && test_regress/t/t_final.pl --vlt\r\n        #vlt/t_flag_csplit: %Error: Exec of perl failed\r\n                make && test_regress/t/t_flag_csplit.pl --vlt\r\n        #vlt/t_func_gen: %Error: Exec of perl failed\r\n                make && test_regress/t/t_func_gen.pl --vlt\r\n        #vlt/t_func_lib_sub: %Error: Exec of perl failed\r\n                make && test_regress/t/t_func_lib_sub.pl --vlt\r\n        #vlt/t_gen_assign: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_assign.pl --vlt\r\n        #vlt/t_gen_cond_bitrange: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_cond_bitrange.pl --vlt\r\n        #vlt/t_gen_cond_bitrange_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_gen_cond_bitrange_bad.pl --vlt\r\n        #vlt/t_gen_div0: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_div0.pl --vlt\r\n        #vlt/t_gen_for1: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_for1.pl --vlt\r\n        #vlt/t_gen_for: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_for.pl --vlt\r\n        #vlt/t_gen_for_shuffle: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_for_shuffle.pl --vlt\r\n        #vlt/t_gen_forif: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_forif.pl --vlt\r\n        #vlt/t_gen_inc: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_inc.pl --vlt\r\n        #vlt/t_gen_index: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_index.pl --vlt\r\n        #vlt/t_gen_intdot2: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_intdot2.pl --vlt\r\n        #vlt/t_gen_intdot: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_intdot.pl --vlt\r\n        #vlt/t_gen_lsb: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_lsb.pl --vlt\r\n        #vlt/t_gen_upscope: %Error: Exec of perl failed\r\n                make && test_regress/t/t_gen_upscope.pl --vlt\r\n        #vlt/t_hierarchy_identifier: %Error: Exec of perl failed\r\n                make && test_regress/t/t_hierarchy_identifier.pl --vlt\r\n        #vlt/t_hierarchy_identifier_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_hierarchy_identifier_bad.pl --vlt\r\n        #vlt/t_inst_misarray_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_inst_misarray_bad.pl --vlt\r\n        #vlt/t_inst_mism: %Error: Exec of perl failed\r\n                make && test_regress/t/t_inst_mism.pl --vlt\r\n        #vlt/t_inst_port_array: %Error: Exec of perl failed\r\n                make && test_regress/t/t_inst_port_array.pl --vlt\r\n        #vlt/t_interface_gen12: %Error: Exec of perl failed\r\n                make && test_regress/t/t_interface_gen12.pl --vlt\r\n        #vlt/t_interface_gen12_noinl: %Error: Exec of perl failed\r\n                make && test_regress/t/t_interface_gen12_noinl.pl --vlt\r\n        #vlt/t_lint_comb_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_lint_comb_bad.pl --vlt\r\n        #vlt/t_lint_pkg_colon_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_lint_pkg_colon_bad.pl --vlt\r\n        #vlt/t_math_imm2: %Error: Exec of perl failed\r\n                make && test_regress/t/t_math_imm2.pl --vlt\r\n        #vlt/t_math_imm: %Error: Exec of perl failed\r\n                make && test_regress/t/t_math_imm.pl --vlt\r\n        #vlt/t_mem_multi_io3_cc: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mem_multi_io3_cc.pl --vlt\r\n        #vlt/t_mem_multiwire: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mem_multiwire.pl --vlt\r\n        #vlt/t_mod_interface_array1: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mod_interface_array1.pl --vlt\r\n        #vlt/t_mod_interface_array1_noinl: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mod_interface_array1_noinl.pl --vlt\r\n        #vlt/t_mod_interface_array2: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mod_interface_array2.pl --vlt\r\n        #vlt/t_mod_interface_array2_noinl: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mod_interface_array2_noinl.pl --vlt\r\n        #vlt/t_mod_interface_array: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mod_interface_array.pl --vlt\r\n        #vlt/t_mod_interface_array_noinl: %Error: Exec of perl failed\r\n                make && test_regress/t/t_mod_interface_array_noinl.pl --vlt\r\n        #vlt/t_param_sel_range: %Error: Exec of perl failed\r\n                make && test_regress/t/t_param_sel_range.pl --vlt\r\n        #vlt/t_param_sel_range_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_param_sel_range_bad.pl --vlt\r\n        #vlt/t_preproc_inc_bad: %Error: Mismatch in output from perl\r\n                make && test_regress/t/t_preproc_inc_bad.pl --vlt\r\n        #vlt/t_stream3: %Error: Exec of perl failed\r\n                make && test_regress/t/t_stream3.pl --vlt\r\n        #vlt/t_sys_readmem_bad_addr: %Error: Mismatch in output from obj_dir/t_sys_readmem_bad_addr/Vt_sys_readmem_bad_addr\r\n                make && test_regress/t/t_sys_readmem_bad_addr.pl --vlt\r\n        #vlt/t_sys_readmem_bad_digit: %Error: Mismatch in output from obj_dir/t_sys_readmem_bad_digit/Vt_sys_readmem_bad_digit\r\n                make && test_regress/t/t_sys_readmem_bad_digit.pl --vlt\r\n        #vlt/t_sys_readmem_bad_end: %Error: Mismatch in output from obj_dir/t_sys_readmem_bad_end/Vt_sys_readmem_bad_end\r\n                make && test_regress/t/t_sys_readmem_bad_end.pl --vlt\r\n        #vlt/t_sys_readmem_bad_notfound: %Error: Mismatch in output from obj_dir/t_sys_readmem_bad_notfound/Vt_sys_readmem_bad_notfound\r\n                make && test_regress/t/t_sys_readmem_bad_notfound.pl --vlt\r\n        #vlt/t_threads_counter_1: %Error: Exec of make failed\r\n                make && test_regress/t/t_threads_counter_1.pl --vlt\r\n        #vlt/t_threads_counter_2: %Error: Exec of make failed\r\n                make && test_regress/t/t_threads_counter_2.pl --vlt\r\n        #vlt/t_uniqueif_fail1: %Error: Mismatch in output from obj_dir/t_uniqueif_fail1/Vt_uniqueif_fail1\r\n                make && test_regress/t/t_uniqueif_fail1.pl --vlt\r\n        #vlt/t_uniqueif_fail2: %Error: Mismatch in output from obj_dir/t_uniqueif_fail2/Vt_uniqueif_fail2\r\n                make && test_regress/t/t_uniqueif_fail2.pl --vlt\r\n        #vlt/t_uniqueif_fail3: %Error: Mismatch in output from obj_dir/t_uniqueif_fail3/Vt_uniqueif_fail3\r\n                make && test_regress/t/t_uniqueif_fail3.pl --vlt\r\n        #vlt/t_uniqueif_fail4: %Error: Mismatch in output from obj_dir/t_uniqueif_fail4/Vt_uniqueif_fail4\r\n                make && test_regress/t/t_uniqueif_fail4.pl --vlt\r\n        #vlt/t_unopt_array: %Error: Exec of perl failed\r\n                make && test_regress/t/t_unopt_array.pl --vlt\r\n        #vlt/t_unopt_array_csplit: %Error: Exec of perl failed\r\n                make && test_regress/t/t_unopt_array_csplit.pl --vlt\r\n        #vlt/t_unopt_converge_print_bad: %Error: Mismatch in output from obj_dir/t_unopt_converge_print_bad/Vt_unopt_converge_print_bad\r\n                make && test_regress/t/t_unopt_converge_print_bad.pl --vlt\r\n        #vlt/t_unopt_converge_run_bad: %Error: Mismatch in output from obj_dir/t_unopt_converge_run_bad/Vt_unopt_converge_run_bad\r\n                make && test_regress/t/t_unopt_converge_run_bad.pl --vlt\r\n        #vlt/t_unroll_genf: %Error: Exec of perl failed\r\n                make && test_regress/t/t_unroll_genf.pl --vlt\r\n        #vlt/t_var_overwidth_bad: %Error: Mismatch in output from obj_dir/t_var_overwidth_bad/Vt_var_overwidth_bad\r\n                make && test_regress/t/t_var_overwidth_bad.pl --vlt\r\n        #vlt/t_verilated_threaded: %Error: Exec of make failed\r\n                make && test_regress/t/t_verilated_threaded.pl --vlt\r\n        #vlt/t_vgen: %Error: Please install Bit::Vector\r\n                make && test_regress/t/t_vgen.pl --vlt\r\n        #vlt/t_vpi_var: %Error: Exec of perl failed\r\n                make && test_regress/t/t_vpi_var.pl --vlt\r\nTESTS Passed 787  Unsup 15  Skipped 35  Failed 73  Time 34:18\r\nmake: *** [Makefile:49: test] Error 10\r\n```\r\nThe verilator has been successfully installed and compiled in the Spack. However, 73 failures occur during the self-test during the make test. The compilation prompts specific problems. I cannot tell whether the source code is incorrect. Can you help me?\r\n\r\n### Information on your system\r\n[root@centos8 test_regress]# spack debug report\r\n* **Spack:** 0.15.4-1365-35a9626ae\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n- [ ] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->",
    "performed_via_github_app": null
}