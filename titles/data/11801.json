{
    "url": "https://api.github.com/repos/spack/spack/issues/11801",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/11801/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/11801/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/11801/events",
    "html_url": "https://github.com/spack/spack/pull/11801",
    "id": 458788456,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjkwMzEzNjkw",
    "number": 11801,
    "title": "boost: add variant for symbol visibility",
    "user": {
        "login": "mwkrentel",
        "id": 3969036,
        "node_id": "MDQ6VXNlcjM5NjkwMzY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3969036?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mwkrentel",
        "html_url": "https://github.com/mwkrentel",
        "followers_url": "https://api.github.com/users/mwkrentel/followers",
        "following_url": "https://api.github.com/users/mwkrentel/following{/other_user}",
        "gists_url": "https://api.github.com/users/mwkrentel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mwkrentel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mwkrentel/subscriptions",
        "organizations_url": "https://api.github.com/users/mwkrentel/orgs",
        "repos_url": "https://api.github.com/users/mwkrentel/repos",
        "events_url": "https://api.github.com/users/mwkrentel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mwkrentel/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2019-06-20T17:47:55Z",
    "updated_at": "2019-06-21T01:08:23Z",
    "closed_at": "2019-06-20T21:43:25Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/11801",
        "html_url": "https://github.com/spack/spack/pull/11801",
        "diff_url": "https://github.com/spack/spack/pull/11801.diff",
        "patch_url": "https://github.com/spack/spack/pull/11801.patch"
    },
    "body": "Starting with 1.69.0, boost added a bjam option for the default symbol\r\nvisibility.  Up to 1.68.0, the value was always 'global'.  1.69.0\r\nchanged the default to 'hidden' but added an option.\r\n\r\nMost packages will work with hidden and won't notice.  But some\r\npackages may discover that an interface that they rely on is now\r\nhidden and inaccessible.\r\n\r\nhttps://boostorg.github.io/build/manual/develop/index.html#bbv2.builtin.features.visibility\r\n\r\n----------\r\n\r\nIn my case (hpctoolkit), we needed `parse_graphviz_from_string()` from\r\ngraph which went dark in 1.69.\r\n\r\nBtw, with `--keep-stage` or building boost outside of spack, you can\r\nsee that boost has added an extra directory level for visibililty in\r\nthe build stage.\r\n\r\nIn 1.68.0, compiling date_time has:\r\n\r\n```\r\ngcc.compile.c++ bin.v2/libs/date_time/build/gcc-7.3.1/release/cxxstd-98-iso/link-static/threading-multi/gregorian/date_generators.o\r\n```\r\n\r\nBut 1.69.0 added an extra level:\r\n\r\n```\r\ngcc.compile.c++ bin.v2/libs/date_time/build/gcc-7.3.1/release/cxxstd-98-iso/link-static/threading-multi/visibility-hidden/gregorian/date_generators.o\r\n```\r\n",
    "performed_via_github_app": null
}