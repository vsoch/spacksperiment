{
    "url": "https://api.github.com/repos/spack/spack/issues/869",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/869/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/869/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/869/events",
    "html_url": "https://github.com/spack/spack/pull/869",
    "id": 151953052,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Njg0MjM0NzQ=",
    "number": 869,
    "title": "Feature/views",
    "user": {
        "login": "brettviren",
        "id": 209537,
        "node_id": "MDQ6VXNlcjIwOTUzNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/209537?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brettviren",
        "html_url": "https://github.com/brettviren",
        "followers_url": "https://api.github.com/users/brettviren/followers",
        "following_url": "https://api.github.com/users/brettviren/following{/other_user}",
        "gists_url": "https://api.github.com/users/brettviren/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/brettviren/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/brettviren/subscriptions",
        "organizations_url": "https://api.github.com/users/brettviren/orgs",
        "repos_url": "https://api.github.com/users/brettviren/repos",
        "events_url": "https://api.github.com/users/brettviren/events{/privacy}",
        "received_events_url": "https://api.github.com/users/brettviren/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 43,
    "created_at": "2016-04-29T19:43:04Z",
    "updated_at": "2016-06-05T18:31:49Z",
    "closed_at": "2016-06-05T18:31:48Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/869",
        "html_url": "https://github.com/spack/spack/pull/869",
        "diff_url": "https://github.com/spack/spack/pull/869.diff",
        "patch_url": "https://github.com/spack/spack/pull/869.patch"
    },
    "body": "This PR provides a new Spack command called `view`.  A view is a directory hierarchy which is a union of directory hierarchies under the prefixes of all specs on which the view is based.  The installed files under the prefixes are symlinked into their corresponding locations in the view.\n\nThe `view` command provides actions driven by the concrete Spack DAG created from the given package specs.  Actions include linking in a set of packages, removing them or checking status.  By default the entire DAG is used but the `view` command can be limited by the user specifying to only consider the packages give or to explicitly exclude some packages.\n\nThe single-rooted view is then useful for providing easy environment setup for users and developers working outside of Spack.  Eg, only a single and easily located `bin/` directory need be added to `PATH`.\n\nA session giving trivial example:\n\n``` bash\n$ spack install libelf\n\n$ spack view -p myview libelf\n==> link libelf\n\n$ ls -l myview/\ntotal 12\ndrwxrwxr-x 3 bviren bviren 4096 Apr 29 15:37 include\ndrwxrwxr-x 3 bviren bviren 4096 Apr 29 15:37 lib\ndrwxrwxr-x 3 bviren bviren 4096 Apr 29 15:37 share\n\n$ ls -l myview/include/libelf/libelf.h \nlrwxrwxrwx 1 bviren bviren 157 Apr 29 15:33 myview/include/libelf/libelf.h -> /home/bviren/projects/wire-cell/wire-cell-spack/spack/opt/spack/linux-x86_64/gcc-5.3.1/libelf-0.8.13-rdd4vrfzoey4wqxzqmkb6riuhon7y62f/include/libelf/libelf.h\n\n$ spack view -p myview -a status libelf\n==> status libelf\n==> Package added: libelf\n\n$ spack view -p myview -a remove libelf\n==> remove libelf\n\n$ spack view -p myview -a status libelf\n==> status libelf\n==> Package missing: libelf\n\n$ spack view -h\nusage: spack view [-h] [-e EXCLUDE] [-a {link,remove,status}]\n                  [--no-dependencies] -p PREFIX\n                  ...\n\npositional arguments:\n  specs                 specs of packages to expose in the view.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -e EXCLUDE, --exclude EXCLUDE\n                        exclude any packages which the given re pattern\n  -a {link,remove,status}, --action {link,remove,status}\n                        what action to perform on the view\n  --no-dependencies     just operate on named packages and do not follow\n                        dependencies\n  -p PREFIX, --prefix PREFIX\n                        Path to a top-level directory to receive the view.\n```\n",
    "performed_via_github_app": null
}