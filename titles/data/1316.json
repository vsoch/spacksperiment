{
    "url": "https://api.github.com/repos/spack/spack/issues/1316",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/1316/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/1316/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/1316/events",
    "html_url": "https://github.com/spack/spack/issues/1316",
    "id": 166639392,
    "node_id": "MDU6SXNzdWUxNjY2MzkzOTI=",
    "number": 1316,
    "title": "Openmpi fails to build using system installed libibverbs on CentOS7",
    "user": {
        "login": "TheQueasle",
        "id": 13701545,
        "node_id": "MDQ6VXNlcjEzNzAxNTQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/13701545?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheQueasle",
        "html_url": "https://github.com/TheQueasle",
        "followers_url": "https://api.github.com/users/TheQueasle/followers",
        "following_url": "https://api.github.com/users/TheQueasle/following{/other_user}",
        "gists_url": "https://api.github.com/users/TheQueasle/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/TheQueasle/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/TheQueasle/subscriptions",
        "organizations_url": "https://api.github.com/users/TheQueasle/orgs",
        "repos_url": "https://api.github.com/users/TheQueasle/repos",
        "events_url": "https://api.github.com/users/TheQueasle/events{/privacy}",
        "received_events_url": "https://api.github.com/users/TheQueasle/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2016-07-20T17:39:30Z",
    "updated_at": "2016-11-09T14:40:58Z",
    "closed_at": "2016-11-09T14:40:58Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "When I attempt to install openmpi on a CentOS7 system, it fails due to an incorrect path for `--with-verbs`\n\nIt looks like the function `_verbs_dir` in the openmpi package is returning `/` on my system.  The path to `ibv_devices` is `/bin/ibv_devices`, so the function strips it down to just `/`.\n\nPreviously, this had worked using an install of libibverbs-devel from the standard CentOS7 RPM repos.\n\nUnless my setup/system is just out-of-whack, there may need to be a check in the openmpi package for this edge case. \n\nMy first attempt was to just hard-code the path within the openmpi package, but that has failed.  I'm in the process of troubleshooting this further, but thus far I've made no breakthroughs.\n\nAny help on this would be greatly appreciated.\n",
    "performed_via_github_app": null
}