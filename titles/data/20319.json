{
    "url": "https://api.github.com/repos/spack/spack/issues/20319",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/20319/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/20319/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/20319/events",
    "html_url": "https://github.com/spack/spack/pull/20319",
    "id": 761193369,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1ODk2NDI3",
    "number": 20319,
    "title": "bugfix/numactl: use package supplied autogen.sh",
    "user": {
        "login": "ptooley",
        "id": 32297355,
        "node_id": "MDQ6VXNlcjMyMjk3MzU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/32297355?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ptooley",
        "html_url": "https://github.com/ptooley",
        "followers_url": "https://api.github.com/users/ptooley/followers",
        "following_url": "https://api.github.com/users/ptooley/following{/other_user}",
        "gists_url": "https://api.github.com/users/ptooley/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ptooley/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ptooley/subscriptions",
        "organizations_url": "https://api.github.com/users/ptooley/orgs",
        "repos_url": "https://api.github.com/users/ptooley/repos",
        "events_url": "https://api.github.com/users/ptooley/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ptooley/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 475441813,
            "node_id": "MDU6TGFiZWw0NzU0NDE4MTM=",
            "url": "https://api.github.com/repos/spack/spack/labels/autotools",
            "name": "autotools",
            "color": "d93f0b",
            "default": false,
            "description": null
        },
        {
            "id": 1566617052,
            "node_id": "MDU6TGFiZWwxNTY2NjE3MDUy",
            "url": "https://api.github.com/repos/spack/spack/labels/bugfix",
            "name": "bugfix",
            "color": "c4aaef",
            "default": false,
            "description": ""
        },
        {
            "id": 729584669,
            "node_id": "MDU6TGFiZWw3Mjk1ODQ2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/update-package",
            "name": "update-package",
            "color": "c68137",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2020-12-10T12:19:39Z",
    "updated_at": "2021-02-24T20:44:27Z",
    "closed_at": "2021-02-23T23:20:50Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/20319",
        "html_url": "https://github.com/spack/spack/pull/20319",
        "diff_url": "https://github.com/spack/spack/pull/20319.diff",
        "patch_url": "https://github.com/spack/spack/pull/20319.patch"
    },
    "body": "Trying to build numactl with the Spack default autoreconf leads to syntax errors in the generated configure script.\r\nSwitching to the package supplied `autogen.sh` script generates a valid configure and install completes normally.\r\n\r\nError detail:\r\n\r\n```\r\n==> Installing numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvld\r\n==> No binary for numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvld found: installing from source\r\n==> Using cached archive: /home/phil/repos/spack/var/spack/cache/_source-cache/archive/1e/1ee27abd07ff6ba140aaf9bc6379b37825e54496e01d6f7343330cf1a4487035.tar.gz\r\n==> numactl: Executing phase: 'autoreconf'\r\n==> numactl: Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    '/tmp/spack/phil/spack-stage-numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvld/spack-src/configure' '--prefix=/opt/spack/linux-gentoo2-zen2/gcc-10.2.0/numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvld'\r\n\r\n1 error found in build log:\r\n     112    checking whether we are using the GNU C compiler... (cached) yes\r\n     113    checking whether /home/phil/repos/spack/lib/spack/env/gcc/gcc accepts -g..\r\n            . (cached) yes\r\n     114    checking for /home/phil/repos/spack/lib/spack/env/gcc/gcc option to accept\r\n             ISO C89... (cached) none needed\r\n     115    checking whether /home/phil/repos/spack/lib/spack/env/gcc/gcc understands \r\n            -c and -o together... (cached) yes\r\n     116    checking dependency style of /home/phil/repos/spack/lib/spack/env/gcc/gcc.\r\n            .. (cached) gcc3\r\n     117    checking for thread local storage (TLS) class... _Thread_local\r\n  >> 118    /tmp/spack/phil/spack-stage-numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvl\r\n            d/spack-src/configure: line 9439: syntax error near unexpected token `fi'\r\n     119    /tmp/spack/phil/spack-stage-numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvl\r\n            d/spack-src/configure: line 9439: `fi'\r\n\r\nSee build log for details:\r\n  /tmp/spack/phil/spack-stage-numactl-2.0.14-4moy4pl5tvpw2xlbfqziqn2es77nvvld/spack-build-out.txt\r\n```\r\n\r\n[spack-build-out.txt](https://github.com/spack/spack/files/5672576/spack-build-out.txt)\r\n[spack-build-env.txt](https://github.com/spack/spack/files/5672588/spack-build-env.txt)",
    "performed_via_github_app": null
}