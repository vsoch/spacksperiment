{
    "url": "https://api.github.com/repos/spack/spack/issues/5791",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/5791/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/5791/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/5791/events",
    "html_url": "https://github.com/spack/spack/issues/5791",
    "id": 266221452,
    "node_id": "MDU6SXNzdWUyNjYyMjE0NTI=",
    "number": 5791,
    "title": "Amrex fails to build with Intel",
    "user": {
        "login": "certik",
        "id": 20568,
        "node_id": "MDQ6VXNlcjIwNTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/20568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/certik",
        "html_url": "https://github.com/certik",
        "followers_url": "https://api.github.com/users/certik/followers",
        "following_url": "https://api.github.com/users/certik/following{/other_user}",
        "gists_url": "https://api.github.com/users/certik/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/certik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/certik/subscriptions",
        "organizations_url": "https://api.github.com/users/certik/orgs",
        "repos_url": "https://api.github.com/users/certik/repos",
        "events_url": "https://api.github.com/users/certik/events{/privacy}",
        "received_events_url": "https://api.github.com/users/certik/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-10-17T17:56:14Z",
    "updated_at": "2017-11-01T00:58:35Z",
    "closed_at": "2017-11-01T00:58:35Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "```\r\n$ cat ~/.spack/packages.yaml \r\npackages:\r\n  openmpi:\r\n    version: [2.1.1]\r\n```\r\nand\r\n```\r\n$ spack spec amrex%intel@17.0.1\r\nInput spec\r\n--------------------------------\r\namrex%intel@17.0.1\r\n\r\nNormalized\r\n--------------------------------\r\namrex%intel@17.0.1\r\n    ^cmake\r\n\r\nConcretized\r\n--------------------------------\r\namrex@17.06%intel@17.0.1 build_type=RelWithDebInfo ~debug dims=3 +fortran+mpi~openmp~particles prec=DOUBLE arch=linux-fedora25-x86_64 \r\n    ^cmake@3.9.4%intel@17.0.1~doc+ncurses+openssl+ownlibs~qt arch=linux-fedora25-x86_64 \r\n        ^ncurses@6.0%intel@17.0.1 patches=f84b2708a42777aadcc7f502a261afe10ca5646a51c1ef8b5e60d2070d926b57 ~symlinks arch=linux-fedora25-x86_64 \r\n            ^pkg-config@0.29.2%intel@17.0.1+internal_glib arch=linux-fedora25-x86_64 \r\n        ^openssl@1.0.2k%intel@17.0.1 arch=linux-fedora25-x86_64 \r\n            ^zlib@1.2.11%intel@17.0.1+pic+shared arch=linux-fedora25-x86_64 \r\n    ^openmpi@2.1.1%intel@17.0.1~cuda fabrics= ~java schedulers= ~sqlite3~thread_multiple+vt arch=linux-fedora25-x86_64 \r\n        ^hwloc@1.11.7%intel@17.0.1~cuda+libxml2+pci arch=linux-fedora25-x86_64 \r\n            ^libpciaccess@0.13.5%intel@17.0.1 arch=linux-fedora25-x86_64 \r\n                ^libtool@2.4.6%intel@17.0.1 arch=linux-fedora25-x86_64 \r\n                    ^m4@1.4.18%intel@17.0.1 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00 +sigsegv arch=linux-fedora25-x86_64 \r\n                        ^libsigsegv@2.11%intel@17.0.1 arch=linux-fedora25-x86_64 \r\n                ^util-macros@1.19.1%intel@17.0.1 arch=linux-fedora25-x86_64 \r\n            ^libxml2@2.9.4%intel@17.0.1~python arch=linux-fedora25-x86_64 \r\n                ^xz@5.2.3%intel@17.0.1 arch=linux-fedora25-x86_64 \r\n```\r\nand\r\n```\r\n$ spack install amrex%intel@17.0.1\r\n...\r\n     258   [ 27%] Building CXX object Src/Base/CMakeFiles/box_c.dir/AMReX_BaseFab.cpp.o\r\n     259   cd /tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build/Src/Base && /home/certik/repos/spack/opt/spack/linux-fedora25-x86_64/intel-17.0.1/openmpi-2.1.1-u2jgcqpr5pyxnqnotrpjyrg53ypfzvki/bin/mpic++  -DBL_FORT_USE_UNDERSCORE -DBL_Linux -DBL_NOLINEVALUES -DBL_PARALLEL_IO -DBL_SPACEDIM=3 -DBL_USE_DOUBLE -DBL_USE_MPI -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Base -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Boundary -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Particle -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Amr -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/AmrCore -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/LinearSolvers/C_CellMG -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/LinearSolvers/C_TensorMG -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/LinearSolvers/C_to_F_MG -I/home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Extern/amrdata -I/home/certik/repos/spack/opt/spack/linux-fedora25-x86_64/intel-17.0.1/openmpi-2.1.1-u2jgcqpr5pyxnqnotrpjyrg53ypfzvki/include  -DBL_USE_FORTRAN_MPI=1 -DBL_USE_F_BASELIB=1 -std=c++11 -O2 -g -DNDEBUG -fPIC   -o CMakeFiles/box_c.dir/AMReX_BaseFab.cpp.o -c /home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Base/AMReX_BaseFab.cpp\r\n  >> 260   /home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Base/AMReX_parmparse_mod.F90(240): error #5082: Syntax error, found END-OF-STATEMENT when expecting one of: , :: : )\r\n     261          call amrex_abort(\"amrex_parmparse: get_intarr failed to get \"\r\n     262   --------------------------------------------------------------------^\r\n  >> 263   /home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Base/AMReX_parmparse_mod.F90(255): error #5082: Syntax error, found END-OF-STATEMENT when expecting one of: , :: : )\r\n     264          call amrex_abort(\"amrex_parmparse: get_realarr failed to get \"\r\n     265   ---------------------------------------------------------------------^\r\n  >> 266   /home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/Src/Base/AMReX_parmparse_mod.F90(275): error #5082: Syntax error, found END-OF-STATEMENT when expecting one of: , :: : )\r\n     267          call amrex_abort(\"amrex_parmparse: get_stringarr failed to get \"\r\n     268   -----------------------------------------------------------------------^\r\n     269   compilation aborted for /tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build/Src/Base/AMReX_parmparse_mod.F90.f90 (code 1)\r\n  >> 270   Src/Base/CMakeFiles/box_c.dir/build.make:1297: recipe for target 'Src/Base/CMakeFiles/box_c.dir/AMReX_parmparse_mod.F90.f90.o' failed\r\n  >> 271   make[2]: *** [Src/Base/CMakeFiles/box_c.dir/AMReX_parmparse_mod.F90.f90.o] Error 1\r\n     272   make[2]: *** Waiting for unfinished jobs....\r\n     273   make[2]: Leaving directory '/tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build'\r\n  >> 274   CMakeFiles/Makefile2:262: recipe for target 'Src/Base/CMakeFiles/box_c.dir/all' failed\r\n  >> 275   make[1]: *** [Src/Base/CMakeFiles/box_c.dir/all] Error 2\r\n     276   make[1]: *** Waiting for unfinished jobs....\r\n     277   make[2]: Leaving directory '/tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build'\r\n     278   [ 27%] Built target box_cmg\r\n     279   make[2]: Leaving directory '/tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build'\r\n     280   [ 27%] Built target box_camrcore\r\n     281   make[2]: Leaving directory '/tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build'\r\n     282   [ 27%] Built target box_ctmg\r\n     283   make[1]: Leaving directory '/tmp/certik/spack-stage/spack-stage-Psow07/amrex/spack-build'\r\n     284   Makefile:143: recipe for target 'all' failed\r\n  >> 285   make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /home/certik/repos/spack/var/spack/stage/amrex-17.06-rdlvzfchr65ypvfj2k3lbghbpuy3x7uu/amrex/spack-build.out\r\n```",
    "performed_via_github_app": null
}