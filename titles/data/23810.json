{
    "url": "https://api.github.com/repos/spack/spack/issues/23810",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/23810/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/23810/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/23810/events",
    "html_url": "https://github.com/spack/spack/issues/23810",
    "id": 896509535,
    "node_id": "MDU6SXNzdWU4OTY1MDk1MzU=",
    "number": 23810,
    "title": "Can the new version of (not yet checksummed) obtained by `spack versions xxx` automatically adapt to the correct source code pull path during installation?",
    "user": {
        "login": "simon28li",
        "id": 29377753,
        "node_id": "MDQ6VXNlcjI5Mzc3NzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/29377753?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/simon28li",
        "html_url": "https://github.com/simon28li",
        "followers_url": "https://api.github.com/users/simon28li/followers",
        "following_url": "https://api.github.com/users/simon28li/following{/other_user}",
        "gists_url": "https://api.github.com/users/simon28li/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/simon28li/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/simon28li/subscriptions",
        "organizations_url": "https://api.github.com/users/simon28li/orgs",
        "repos_url": "https://api.github.com/users/simon28li/repos",
        "events_url": "https://api.github.com/users/simon28li/events{/privacy}",
        "received_events_url": "https://api.github.com/users/simon28li/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908756,
            "node_id": "MDU6TGFiZWw3MzkwODc1Ng==",
            "url": "https://api.github.com/repos/spack/spack/labels/feature",
            "name": "feature",
            "color": "84b6eb",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2021-05-20T09:01:41Z",
    "updated_at": "2021-06-08T06:08:48Z",
    "closed_at": "2021-06-08T06:08:48Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!--*Please add a concise summary of your suggestion here.*-->\r\nCan the new version of (not yet checksummed) obtained by `spack versions xxx` automatically adapt to the correct source code pull path during installation?\r\n### Rationale\r\n\r\n<!--*Is your feature request related to a problem? Please describe it!*-->\r\nThe problems I encountered are similar to this issue[#14129](https://github.com/spack/spack/issues/14129).\r\n### Description\r\n\r\n<!--*Describe the solution you'd like and the alternatives you have considered.*-->\r\n```\r\n[root@localhost ~]# spack checksum gperftools\r\n==> Found 11 versions of gperftools:\r\n\r\n  2.9.1   https://github.com/gperftools/gperftools/releases/download/gperftools-2.9.1/gperftools-2.9.1.tar.gz\r\n  2.9.0   https://github.com/gperftools/gperftools/releases/download/gperftools-2.9/gperftools-2.9.0.tar.gz\r\n  2.9     https://github.com/gperftools/gperftools/archive/refs/tags/gperftools-2.9.tar.gz\r\n  2.8.90  https://github.com/gperftools/gperftools/releases/download/gperftools-2.8.90/gperftools-2.8.90.tar.gz\r\n  2.8.1   https://github.com/gperftools/gperftools/releases/download/gperftools-2.8.1/gperftools-2.8.1.tar.gz\r\n  2.8     https://github.com/gperftools/gperftools/releases/download/gperftools-2.8/gperftools-2.8.tar.gz\r\n  2.7.90  https://github.com/gperftools/gperftools/releases/download/gperftools-2.7.90/gperftools-2.7.90.tar.gz\r\n  2.7     https://github.com/gperftools/gperftools/releases/download/gperftools-2.7/gperftools-2.7.tar.gz\r\n  2.6.90  https://github.com/gperftools/gperftools/releases/download/gperftools-2.6.90/gperftools-2.6.90.tar.gz\r\n  ...\r\n  2.6.2   https://github.com/gperftools/gperftools/releases/download/gperftools-2.6.2/gperftools-2.6.2.tar.gz\r\n```\r\nMy goal is to get which new versions are available, and then test the compilation and installation of each version, but some versions report an error when downloading the source code as follows.\r\n```\r\n[root@localhost ~]# spack install -v gperftools@2.9\r\n==> Warning: Missing a source id for gperftools@2.9\r\n[+] /home/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libunwind-1.5.0-e37egh35bf6ms4dkoulga7mjvbfvc474\r\n==> Installing gperftools-2.9-d4agpypmjylcj2kmlxaqbf3xeuovtefc\r\n==> No binary for gperftools-2.9-d4agpypmjylcj2kmlxaqbf3xeuovtefc found: installing from source\r\n==> Warning: Missing a source id for gperftools@2.9\r\n==> Warning: There is no checksum on file to fetch gperftools@2.9 safely.\r\n==>   Fetch anyway? [y/N] y\r\n==> Error: FetchError: All fetchers failed\r\n\r\n/home/spack/lib/spack/spack/package.py:1360, in do_fetch:\r\n       1357\r\n       1358        self.stage.create()\r\n       1359        err_msg = None if not self.manual_download else self.download_instr\r\n  >>   1360        start_time = time.time()\r\n       1361        self.stage.fetch(mirror_only, err_msg=err_msg)\r\n       1362        self._fetch_time = time.time() - start_time\r\n       1363\r\n\r\n```\r\nI have observed that some versions obtained by the `spack versions` command do not match the corresponding source code path regularly, resulting in not downloading the source code during installation. Is there a unified way to automatically adapt to the correct source code download path?\r\n<!--*Add any other context about the feature request here.*-->\r\n```\r\n* **Spack:** 0.16.1\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n* **Concretizer:** original\r\n```\r\n\r\n### General information\r\n\r\n- [x] I have run `spack --version` and reported the version of Spack\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n\r\n\r\n\r\n<!--If you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack!\r\n-->",
    "performed_via_github_app": null
}