{
    "url": "https://api.github.com/repos/spack/spack/issues/24744",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24744/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24744/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24744/events",
    "html_url": "https://github.com/spack/spack/issues/24744",
    "id": 938545982,
    "node_id": "MDU6SXNzdWU5Mzg1NDU5ODI=",
    "number": 24744,
    "title": "spack install --keep-stage -v libint@2.6.0 failed",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2021-07-07T06:43:40Z",
    "updated_at": "2021-07-13T14:50:09Z",
    "closed_at": "2021-07-13T14:50:09Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Thanks for taking the time to report this build failure. To proceed with the report please:\r\n\r\n1. Title the issue \"Installation issue: <name-of-the-package>\".\r\n2. Provide the information required below.\r\n\r\nWe encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively! -->\r\nI ran into a problem\uff1aspack install --keep-stage -v libint@2.6.0 failed about the package of https://github.com/spack/spack/pull/24665/commits/1b3f743ef2b8d4b964d85afd1dda8e10dbdd0ab8\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n[root@centos8 ~]# spack install --keep-stage -v libint\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libsigsegv-2.12-dkxnizjmb3vgeurskkjiysmjcldaaw7x\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/berkeley-db-18.1.40-vfyntuwixkzvr2rt2zjeijiqmtuu6brd\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/pkgconf-1.7.3-qnwffdxtfpwlagzm34msmtobii7iksqf\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libiconv-1.16-5gvzkthgdyzwipoooaqkilcjetijwrqh\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/zlib-1.2.11-ysclwr6pk6lufuzqp3tf5la4lreyq7qt\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/m4-1.4.18-xjpzxna5lzr3g4gku6mjy5vz2jiyjvpi\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/ncurses-6.2-l6lhmwy4kpgkzfmgiiq2bikklnvulcyf\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/diffutils-3.7-z6t4zfsla623dzpnpwebutiuoenvlt5d\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libtool-2.4.6-rmp7rhxalhqckvkbsxiicnq5gedv5ygy\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/readline-8.0-6otekrq5w5yaqh7xbi4to7hkewmnddl3\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/bzip2-1.0.8-urctfqbstx2mii7jxupeqeypgbrul37q\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/gdbm-1.18.1-sbfql4dkw5n2cri4z34km7dmrjres4fg\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/boost-1.76.0-lktywvatwih5ivpusha2ds3zawxccovz\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/perl-5.32.1-rs3gej7g7fp5pibnhenekowwbdfphevg\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/autoconf-2.69-rl7fity4bcttga7bffj7wisz673gg232\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/automake-1.16.3-ycbmiqis6f652tvuz3vkysewhl2m6jky\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/gmp-6.1.2-lk6jrzk74hvb7swukijinbnhd6nn4aqy\r\n==> Installing libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom\r\n==> No binary for libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom found: installing from source\r\n==> Using cached archive: /home/spack/spack/var/spack/cache/_source-cache/archive/4a/4ae47e8f0b5632c3d2a956469a7920896708e9f0e396ec10071b8181e4c8d9fa.tar.gz\r\n==> Ran patch() for libint\r\n==> libint: Executing phase: 'autoreconf'\r\n==> [2021-07-07-14:31:50.944457] '/home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libtool-2.4.6-rmp7rhxalhqckvkbsxiicnq5gedv5ygy/bin/libtoolize'\r\nlibtoolize: Consider adding '-I lib/autoconf' to ACLOCAL_AMFLAGS in Makefile.am.\r\n==> [2021-07-07-14:31:51.477701] '/home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/automake-1.16.3-ycbmiqis6f652tvuz3vkysewhl2m6jky/bin/aclocal' '-I' 'lib/autoconf'\r\n==> [2021-07-07-14:31:52.974236] '/home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/autoconf-2.69-rl7fity4bcttga7bffj7wisz673gg232/bin/autoconf'\r\n==> [2021-07-07-14:31:53.769789] FILTER FILE: export/Makefile [replacing \"^(export::.*)\\s+tgz$\"]\r\n==> [2021-07-07-14:31:53.779338] PermissionError: [Errno 13] Permission denied: '/tmp/root/spack-stage/spack-stage-libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom/spack-src/bin/config.sub'\r\n==> [2021-07-07-14:31:54.188178] Copying /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/automake-1.16.3-ycbmiqis6f652tvuz3vkysewhl2m6jky/share/automake-1.16/config.sub to /tmp/root/spack-stage/spack-stage-libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom/spack-src/bin/config.sub\r\n==> libint: Executing phase: 'configure'\r\n==> [2021-07-07-14:31:54.191825] '/tmp/root/spack-stage/spack-stage-libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom/spack-src/configure' '--prefix=/home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom' '--enable-shared' '--with-cxx-optflags=-O2' '--with-cxxgen-optflags=-O2' '--with-libint-exportdir=generated' '--disable-debug' '--disable-fma'\r\nchecking build system type... aarch64-unknown-linux-gnu\r\nchecking host system type... aarch64-unknown-linux-gnu\r\nchecking target system type... aarch64-unknown-linux-gnu\r\nUsing standard ordering of cartesian Gaussians\r\nUsing standard ordering of solid harmonic Gaussians\r\nWill generate standard shell quartet sets\r\nWill generate composite evaluators for multiple integral types\r\nShell sets will be unrolled up to size 100\r\nWill generate single evaluator type\r\nWill not generate FMA instructions\r\nWill copy integrals to the buffer\r\nFLOP counter will not be supported\r\nProfiling instrumentation disabled\r\nWill support contracted integrals\r\nchecking whether make sets $(MAKE)... yes\r\nchecking whether ln -s works... yes\r\nchecking for a BSD-compatible install... /usr/bin/install -c\r\nchecking whether the C++ compiler works... yes\r\nchecking for C++ compiler default output file name... a.out\r\nchecking for suffix of executables...\r\nchecking whether we are cross compiling... no\r\nchecking for suffix of object files... o\r\nchecking whether we are using the GNU C++ compiler... yes\r\nchecking whether /home/spack/spack/lib/spack/env/gcc/g++ accepts -g... yes\r\nchecking how to run the C++ preprocessor... /home/spack/spack/lib/spack/env/gcc/g++ -E\r\nchecking for ar... ar\r\nchecking for perl... perl\r\nchecking for gnutar... no\r\nchecking for tar... tar\r\nchecking for python... python\r\nchecking for doxygen... no\r\nchecking for pdflatex... /usr/bin/pdflatex\r\nchecking for pslatex... no\r\nchecking for dvips... /usr/bin/dvips\r\nchecking for latex... /usr/bin/latex\r\nchecking for latex2html... no\r\nchecking for bibtex... /usr/bin/bibtex\r\nchecking for grep that handles long lines and -e... /usr/bin/grep\r\nchecking for egrep... /usr/bin/grep -E\r\nchecking for ANSI C header files... yes\r\nchecking for sys/types.h... yes\r\nchecking for sys/stat.h... yes\r\nchecking for stdlib.h... yes\r\nchecking for string.h... yes\r\nchecking for memory.h... yes\r\nchecking for strings.h... yes\r\nchecking for inttypes.h... yes\r\nchecking for stdint.h... yes\r\nchecking for unistd.h... yes\r\nchecking limits.h usability... yes\r\nchecking limits.h presence... yes\r\nchecking for limits.h... yes\r\nchecking for stdint.h... (cached) yes\r\nchecking for posix_memalign... yes\r\nchecking CXX for general C++11 support... yes\r\nchecking CXX for shared_ptr... yes\r\nchecking CXX for std::make_shared and std::allocate_shared... yes\r\nchecking CXX for type_traits... yes\r\nchecking CXX for array... yes\r\nchecking CXXGEN for general C++11 support... yes\r\nchecking gmpxx.h usability... yes\r\nchecking gmpxx.h presence... yes\r\nchecking for gmpxx.h... yes\r\nchecking if GMP C++ library is usable... yes\r\nchecking for boostlib >= 1.30 (103000)... yes\r\nchecking for variadic macro support in Boost.Preprocessor... yes\r\nchecking for Boost::mpl::for_each... yes\r\nchecking for std::shared_ptr... yes\r\nchecking Eigen/Core usability... no\r\nchecking Eigen/Core presence... no\r\nchecking for Eigen/Core... no\r\nchecking for size_t... yes\r\nchecking how to print strings... printf\r\nchecking for gcc... /home/spack/spack/lib/spack/env/gcc/gcc\r\nchecking whether we are using the GNU C compiler... yes\r\nchecking whether /home/spack/spack/lib/spack/env/gcc/gcc accepts -g... yes\r\nchecking for /home/spack/spack/lib/spack/env/gcc/gcc option to accept ISO C89... none needed\r\nchecking for a sed that does not truncate output... /usr/bin/sed\r\nchecking for fgrep... /usr/bin/grep -F\r\nchecking for ld used by /home/spack/spack/lib/spack/env/gcc/gcc... /home/spack/spack/lib/spack/env/ld\r\nchecking if the linker (/home/spack/spack/lib/spack/env/ld) is GNU ld... yes\r\nchecking for BSD- or MS-compatible name lister (nm)... /usr/local/bin/nm -B\r\nchecking the name lister (/usr/local/bin/nm -B) interface... BSD nm\r\nchecking the maximum length of command line arguments... 1572864\r\nchecking how to convert aarch64-unknown-linux-gnu file names to aarch64-unknown-linux-gnu format... func_convert_file_noop\r\nchecking how to convert aarch64-unknown-linux-gnu file names to toolchain format... func_convert_file_noop\r\nchecking for /home/spack/spack/lib/spack/env/ld option to reload object files... -r\r\nchecking for objdump... objdump\r\nchecking how to recognize dependent libraries... pass_all\r\nchecking for dlltool... no\r\nchecking how to associate runtime and link libraries... printf %s\\n\r\nchecking for archiver @FILE support... @\r\nchecking for strip... strip\r\nchecking for ranlib... ranlib\r\nchecking for gawk... gawk\r\nchecking command to parse /usr/local/bin/nm -B output from /home/spack/spack/lib/spack/env/gcc/gcc object... ok\r\nchecking for sysroot... no\r\nchecking for a working dd... /usr/bin/dd\r\nchecking how to truncate binary pipes... /usr/bin/dd bs=4096 count=1\r\nchecking for mt... no\r\nchecking if : is a manifest tool... no\r\nchecking for dlfcn.h... yes\r\nchecking for objdir... .libs\r\nchecking if /home/spack/spack/lib/spack/env/gcc/gcc supports -fno-rtti -fno-exceptions... no\r\nchecking for /home/spack/spack/lib/spack/env/gcc/gcc option to produce PIC... -fPIC -DPIC\r\nchecking if /home/spack/spack/lib/spack/env/gcc/gcc PIC flag -fPIC -DPIC works... yes\r\nchecking if /home/spack/spack/lib/spack/env/gcc/gcc static flag -static works... no\r\nchecking if /home/spack/spack/lib/spack/env/gcc/gcc supports -c -o file.o... yes\r\nchecking if /home/spack/spack/lib/spack/env/gcc/gcc supports -c -o file.o... (cached) yes\r\nchecking whether the /home/spack/spack/lib/spack/env/gcc/gcc linker (/home/spack/spack/lib/spack/env/ld) supports shared libraries... yes\r\nchecking whether -lc should be explicitly linked in... no\r\nchecking dynamic linker characteristics... GNU/Linux ld.so\r\nchecking how to hardcode library paths into programs... immediate\r\nchecking whether stripping libraries is possible... yes\r\nchecking if libtool supports shared libraries... yes\r\nchecking whether to build shared libraries... yes\r\nchecking whether to build static libraries... yes\r\nchecking how to run the C++ preprocessor... /home/spack/spack/lib/spack/env/gcc/g++ -E\r\nchecking for ld used by /home/spack/spack/lib/spack/env/gcc/g++... /home/spack/spack/lib/spack/env/ld\r\nchecking if the linker (/home/spack/spack/lib/spack/env/ld) is GNU ld... yes\r\nchecking whether the /home/spack/spack/lib/spack/env/gcc/g++ linker (/home/spack/spack/lib/spack/env/ld) supports shared libraries... yes\r\nchecking for /home/spack/spack/lib/spack/env/gcc/g++ option to produce PIC... -fPIC -DPIC\r\nchecking if /home/spack/spack/lib/spack/env/gcc/g++ PIC flag -fPIC -DPIC works... yes\r\nchecking if /home/spack/spack/lib/spack/env/gcc/g++ static flag -static works... no\r\nchecking if /home/spack/spack/lib/spack/env/gcc/g++ supports -c -o file.o... yes\r\nchecking if /home/spack/spack/lib/spack/env/gcc/g++ supports -c -o file.o... (cached) yes\r\nchecking whether the /home/spack/spack/lib/spack/env/gcc/g++ linker (/home/spack/spack/lib/spack/env/ld) supports shared libraries... yes\r\nchecking dynamic linker characteristics... (cached) GNU/Linux ld.so\r\nchecking how to hardcode library paths into programs... immediate\r\nSkipping ./Makefile\r\nSkipping ./doc/Makefile\r\nSkipping ./doc/classdoc/Makefile\r\nSkipping ./doc/progman/Makefile\r\nSkipping ./export/Makefile\r\nSkipping ./export/fortran/Makefile\r\nSkipping ./src/Makefile\r\nSkipping ./src/bin/Makefile\r\nSkipping ./src/bin/libint/Makefile\r\nSkipping ./src/bin/profile/Makefile\r\nSkipping ./src/bin/test_eri/Makefile\r\nSkipping ./src/lib/Makefile\r\nSkipping ./src/lib/libint/Makefile\r\nSkipping ./tests/eri/Makefile\r\nSkipping ./tests/hartree-fock/Makefile\r\nSkipping ./tests/unit/Makefile\r\nconfigure: creating ./config.status\r\nconfig.status: creating src/bin/test_eri/test_eri.pl\r\nconfig.status: creating src/bin/test_eri/time_eri.pl\r\nconfig.status: creating src/bin/test_eri/run_time_eri.pl\r\nconfig.status: creating src/bin/test_eri/stdtests.pl\r\nconfig.status: creating src/bin/test_eri/run_timing_suite.pl\r\nconfig.status: creating src/bin/MakeVars\r\nconfig.status: creating src/lib/MakeVars\r\nconfig.status: creating src/lib/MakeRules\r\nconfig.status: creating src/lib/libint/MakeVars.features\r\nconfig.status: creating tests/MakeVars\r\nconfig.status: creating doc/MakeVars\r\nconfig.status: creating doc/MakeRules\r\nconfig.status: creating doc/progman/macros.tex\r\nconfig.status: creating doc/classdoc/doxygen.cfg\r\nconfig.status: creating include/libint2/basis.h\r\nconfig.status: creating libint2.pc\r\nconfig.status: creating include/libint2/config.h\r\nconfig.status: executing libtool commands\r\n==> libint: Executing phase: 'build'\r\n==> Error: FileNotFoundError: [Errno 2] No such file or directory: '/tmp/root/spack-stage/spack-stage-libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom/spack-src/generated'\r\n\r\n/home/spack/spack/var/spack/repos/builtin/packages/libint/package.py:171, in build:\r\n        168        # upstream says that using configure/make for the generated code\r\n        169        # is deprecated and one should use CMake, but with the currently\r\n        170        # recent 2.7.0.b1 it still doesn't work\r\n  >>    171        with working_dir(os.path.join(self.build_directory, 'generated')):\r\n        172            # straight from the AutotoolsPackage class:\r\n        173            config_args = [\r\n        174                '--prefix={0}'.format(prefix),\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-libint-2.6.0-j6aopj3cj5764x5iuvtugeqw36urauom/spack-build-out.txt\r\n\r\n```\r\n\r\n### Information on your system\r\n[root@centos8 ~]# spack debug report\r\n* **Spack:** 0.16.1-1624-a0b5dcca3c\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n* **Concretizer:** original\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- Please upload the following files. They should be present in the stage directory of the failing build. Also upload any config.log or similar file if one exists. -->\r\n* [spack-build-out.txt]()\r\n* [spack-build-env.txt]()\r\n\r\n<!-- Some packages have maintainers who have volunteered to debug build failures. Run `spack maintainers <name-of-the-package>` and @mention them here if they exist. -->\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [ ] I have uploaded the build log and environment files\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}