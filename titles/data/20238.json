{
    "url": "https://api.github.com/repos/spack/spack/issues/20238",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/20238/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/20238/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/20238/events",
    "html_url": "https://github.com/spack/spack/issues/20238",
    "id": 756578819,
    "node_id": "MDU6SXNzdWU3NTY1Nzg4MTk=",
    "number": 20238,
    "title": "py-cutadapt: depends_on version range not handled properly",
    "user": {
        "login": "odoublewen",
        "id": 1421445,
        "node_id": "MDQ6VXNlcjE0MjE0NDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1421445?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/odoublewen",
        "html_url": "https://github.com/odoublewen",
        "followers_url": "https://api.github.com/users/odoublewen/followers",
        "following_url": "https://api.github.com/users/odoublewen/following{/other_user}",
        "gists_url": "https://api.github.com/users/odoublewen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/odoublewen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/odoublewen/subscriptions",
        "organizations_url": "https://api.github.com/users/odoublewen/orgs",
        "repos_url": "https://api.github.com/users/odoublewen/repos",
        "events_url": "https://api.github.com/users/odoublewen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/odoublewen/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2020-12-03T20:46:02Z",
    "updated_at": "2020-12-04T13:42:38Z",
    "closed_at": "2020-12-04T13:42:37Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "@glennpj I'm rusty on my package writing, but I think this is okay form to indicate a range of package dependency:\r\n\r\nhttps://github.com/spack/spack/blob/09aae616c760a3abb782aa3353c3476851b6a590/var/spack/repos/builtin/packages/py-cutadapt/package.py#L32\r\n\r\n(this `@x.y.1:x.y.999` workaround is condoned in #8957)\r\n\r\nBut when I try to install py-cutadapt, it fails:\r\n```\r\n\u27eb spack install py-cutadapt@2.10                                                                                                                                                         \r\n==> Warning: Missing a source id for py-xopen@0.8.999\r\n==> Installing py-xopen-0.8.999-j7fo3zvjqzijaf5iapx5bkpt7m5jhyod\r\n==> No binary for py-xopen-0.8.999-j7fo3zvjqzijaf5iapx5bkpt7m5jhyod found: installing from source\r\n==> Warning: There is no checksum on file to fetch py-xopen@0.8.999 safely.\r\n==>   Fetch anyway? [y/N] y\r\n==> Fetching https://pypi.io/packages/source/x/xopen/xopen-0.8.999.tar.gz\r\n######################################################################## 100.0%\r\ncurl: (22) The requested URL returned error: 404 Not Found\r\n==> Error: FetchError: All fetchers failed\r\n```\r\n\r\n`py-xopen@0.8.999`, not surprisingly, is not a valid release number.  And the spec clearly shows it expects to find `py-xopen@0.8.999` (see last line):\r\n\r\n```\r\n\u27eb spack spec py-cutadapt@2.10                                                                                                                                                        \r\nInput spec\r\n--------------------------------\r\npy-cutadapt@2.10\r\n\r\nConcretized\r\n--------------------------------\r\npy-cutadapt@2.10%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n    ^py-dnaio@0.4.2%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n        ^py-setuptools@50.3.2%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n            ^python@3.8.6%gcc@8.4.0+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87 arch=linux-ubuntu14.04-broadwell\r\n                ^bzip2@1.0.8%gcc@8.4.0+shared arch=linux-ubuntu14.04-broadwell\r\n                    ^diffutils@3.7%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                        ^libiconv@1.16%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                ^expat@2.2.10%gcc@8.4.0+libbsd arch=linux-ubuntu14.04-broadwell\r\n                    ^libbsd@0.10.0%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                ^gdbm@1.18.1%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                    ^readline@8.0%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                        ^ncurses@6.2%gcc@8.4.0~symlinks+termlib arch=linux-ubuntu14.04-broadwell\r\n                            ^pkgconf@1.7.3%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                ^gettext@0.21%gcc@8.4.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-ubuntu14.04-broadwell\r\n                    ^libxml2@2.9.10%gcc@8.4.0~python arch=linux-ubuntu14.04-broadwell\r\n                        ^xz@5.2.5%gcc@8.4.0~pic arch=linux-ubuntu14.04-broadwell\r\n                        ^zlib@1.2.11%gcc@8.4.0+optimize+pic+shared arch=linux-ubuntu14.04-broadwell\r\n                    ^tar@1.32%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                ^libffi@3.3%gcc@8.4.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=linux-ubuntu14.04-broadwell\r\n                ^libuuid@1.0.3%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                ^openssl@1.1.1h%gcc@8.4.0+systemcerts arch=linux-ubuntu14.04-broadwell\r\n                    ^perl@5.32.0%gcc@8.4.0+cpanm+shared+threads arch=linux-ubuntu14.04-broadwell\r\n                        ^berkeley-db@18.1.40%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n                ^sqlite@3.33.0%gcc@8.4.0+column_metadata+fts~functions~rtree arch=linux-ubuntu14.04-broadwell\r\n        ^py-setuptools-scm@4.1.2%gcc@8.4.0~toml arch=linux-ubuntu14.04-broadwell\r\n        ^py-xopen@0.8.999%gcc@8.4.0 arch=linux-ubuntu14.04-broadwell\r\n```\r\n\r\nDebug report:\r\n```\r\n\u27eb spack debug report\r\n* **Spack:** 0.16.0\r\n* **Python:** 3.4.3\r\n* **Platform:** linux-ubuntu14.04-broadwell\r\n* **Concretizer:** original\r\n```",
    "performed_via_github_app": null
}