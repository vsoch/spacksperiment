{
    "url": "https://api.github.com/repos/spack/spack/issues/24476",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24476/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24476/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24476/events",
    "html_url": "https://github.com/spack/spack/issues/24476",
    "id": 927566354,
    "node_id": "MDU6SXNzdWU5Mjc1NjYzNTQ=",
    "number": 24476,
    "title": "Installation issue: hipcub-4.2.0 cannot be concretized",
    "user": {
        "login": "UweSauter",
        "id": 19325781,
        "node_id": "MDQ6VXNlcjE5MzI1Nzgx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19325781?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UweSauter",
        "html_url": "https://github.com/UweSauter",
        "followers_url": "https://api.github.com/users/UweSauter/followers",
        "following_url": "https://api.github.com/users/UweSauter/following{/other_user}",
        "gists_url": "https://api.github.com/users/UweSauter/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/UweSauter/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/UweSauter/subscriptions",
        "organizations_url": "https://api.github.com/users/UweSauter/orgs",
        "repos_url": "https://api.github.com/users/UweSauter/repos",
        "events_url": "https://api.github.com/users/UweSauter/events{/privacy}",
        "received_events_url": "https://api.github.com/users/UweSauter/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "srekolam",
        "id": 67086238,
        "node_id": "MDQ6VXNlcjY3MDg2MjM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/67086238?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/srekolam",
        "html_url": "https://github.com/srekolam",
        "followers_url": "https://api.github.com/users/srekolam/followers",
        "following_url": "https://api.github.com/users/srekolam/following{/other_user}",
        "gists_url": "https://api.github.com/users/srekolam/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/srekolam/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/srekolam/subscriptions",
        "organizations_url": "https://api.github.com/users/srekolam/orgs",
        "repos_url": "https://api.github.com/users/srekolam/repos",
        "events_url": "https://api.github.com/users/srekolam/events{/privacy}",
        "received_events_url": "https://api.github.com/users/srekolam/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "srekolam",
            "id": 67086238,
            "node_id": "MDQ6VXNlcjY3MDg2MjM4",
            "avatar_url": "https://avatars.githubusercontent.com/u/67086238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/srekolam",
            "html_url": "https://github.com/srekolam",
            "followers_url": "https://api.github.com/users/srekolam/followers",
            "following_url": "https://api.github.com/users/srekolam/following{/other_user}",
            "gists_url": "https://api.github.com/users/srekolam/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/srekolam/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/srekolam/subscriptions",
            "organizations_url": "https://api.github.com/users/srekolam/orgs",
            "repos_url": "https://api.github.com/users/srekolam/repos",
            "events_url": "https://api.github.com/users/srekolam/events{/privacy}",
            "received_events_url": "https://api.github.com/users/srekolam/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-06-22T19:30:11Z",
    "updated_at": "2021-06-24T08:39:11Z",
    "closed_at": "2021-06-24T08:39:10Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "@arjun-raj-kuppala  @srekolam\r\n\r\n### Steps to reproduce the issue\r\n\r\nI suspect changes made by #23859 to be the cause. Before I pulled these changes Spack was able to concretize and install `hipcub`.\r\n\r\n```console\r\n$ spack spec hipcub %gcc@10.3.0 ^cmake@3.17.5\r\nInput spec\r\n--------------------------------\r\nhipcub%gcc@10.3.0\r\n    ^cmake@3.17.5\r\n\r\nConcretized\r\n--------------------------------\r\n==> Error: An unsatisfiable variant constraint has been detected for spec:\r\n\r\n    llvm-amdgpu@4.2.0+rocm-device-libs\r\n        ^cmake@3.17.5%gcc@10.3.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=linux-centos7-zen2\r\n            ^ncurses+termlib\r\n                ^pkgconfig@0.9.0:\r\n            ^openssl\r\n                ^perl@5.14.0:\r\n                    ^berkeley-db\r\n                    ^gdbm\r\n                        ^readline\r\n                ^zlib\r\n        ^python@2.7:2.8,3.4:\r\n        ^z3\r\n\r\n\r\nwhile trying to concretize the partial spec:\r\n\r\n    rocm-device-libs@4.2.0\r\n        ^cmake@3.17.5%gcc@10.3.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=linux-centos7-zen2\r\n            ^ncurses+termlib\r\n                ^pkgconfig@0.9.0:\r\n            ^openssl\r\n                ^perl@5.14.0:\r\n                    ^berkeley-db\r\n                    ^gdbm\r\n                        ^readline\r\n                ^zlib\r\n        ^texinfo\r\n\r\n\r\nrocm-device-libs requires llvm-amdgpu variant ~rocm-device-libs, but spec asked for +rocm-device-libs\r\n```\r\n\r\nThese packages are currently installed by Spack:\r\n```\r\n$ spack find -v                                                                                          \r\n==> 108 installed packages           \r\n-- linux-centos7-x86_64_v3 / gcc@4.8.5 --------------------------\r\nautoconf@2.69\r\nautoconf-archive@2019.01.06\r\nautomake@1.16.3\r\nberkeley-db@18.1.40+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 \r\ncmake@3.20.3~doc+ncurses+openssl+ownlibs~qt build_type=Release\r\ndiffutils@3.7\r\ngcc@10.3.0~binutils+bootstrap~graphite~nvptx~piclibs~strip languages=c,c++,fortran patches=2c18531a23623596e1daf6f0dd963cf72c208945ecad90515640c3ab23991159\r\ngdbm@1.19\r\ngmp@6.2.1\r\nlibiconv@1.16\r\nlibsigsegv@2.13\r\nlibtool@2.4.6\r\nm4@1.4.19+sigsegv\r\nmpc@1.1.0\r\nmpfr@4.1.0\r\nncurses@6.2~symlinks+termlib abi=none\r\nopenssl@1.1.1k~docs+systemcerts\r\nperl@5.34.0+cpanm+shared+threads\r\npkgconf@1.7.4\r\nreadline@8.1\r\ntexinfo@6.5 patches=12f6edb0c6b270b8c8dba2ce17998c580db01182d871ee32b7b6e4129bd1d23a,1732115f651cff98989cb0215d8f64da5e0f7911ebf0c13b064920f088f2ffe1\r\nzlib@1.2.11+optimize+pic+shared\r\nzstd@1.5.0~ipo~legacy~lz4~lzma~multithread+programs+shared+static~zlib build_type=RelWithDebInfo\r\n\r\n-- linux-centos7-zen2 / gcc@10.3.0 ------------------------------\r\natmi@4.2.0~ipo build_type=Release\r\nautoconf@2.69\r\nautoconf-archive@2019.01.06\r\nautomake@1.16.3\r\nberkeley-db@18.1.40+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 \r\nbinutils@2.36.1~gas~gold~headers~interwork~ld~libiberty~lto+nls+plugins libs=shared,static\r\nbison@3.7.6\r\nbzip2@1.0.8~debug~pic+shared\r\ncmake@3.17.5~doc+ncurses+openssl+ownlibs~qt build_type=Release patches=bf695e3febb222da2ed94b3beea600650e4318975da90e4a71d6f31a6d5d8c3d\r\ncomgr@4.2.0~ipo build_type=Release patches=4dda4b3dcd61df74050076881e102c6f4ec637ea8f35a3a4e7079b8a4fa9af4c\r\ndiffutils@3.7\r\nexpat@2.3.0+libbsd\r\nfindutils@4.8.0\r\nflex@2.6.3+lex~nls\r\ngcc@10.3.0~binutils+bootstrap~graphite~nvptx~piclibs~strip languages=c,c++,fortran patches=2c18531a23623596e1daf6f0dd963cf72c208945ecad90515640c3ab23991159\r\ngdbm@1.19\r\ngettext@0.21+bzip2+curses+git~libunistring+libxml2+tar+xz\r\nglproto@1.4.17\r\ngmp@6.2.1\r\nhip@4.2.0~ipo build_type=RelWithDebInfo patches=2a4190477b7d9206b9cd8d70770ba0bc007273cbe54772efb12f9ca2e37c0392,e276c4acf3d37712b6bea306fea34f539d3c4f743471e9da208b5eb17b16ae67\r\nhip-rocclr@4.2.0~ipo build_type=RelWithDebInfo\r\nhipblas@4.2.0~ipo build_type=RelWithDebInfo\r\nhsa-rocr-dev@4.2.0+image~ipo+shared build_type=Release patches=71e6851d9be8113bfb8d71b66a3171e0d0401bae5e6f161c9e7fe32558261a46\r\nhsakmt-roct@4.2.0~ipo+shared build_type=Release\r\nhwloc@2.5.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml+pci+shared\r\ninputproto@2.3.2\r\nkbproto@1.0.7\r\nlibbsd@0.11.3\r\nlibelf@0.8.13\r\nlibffi@3.3 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0\r\nlibiconv@1.16\r\nlibmd@1.0.3\r\nlibpciaccess@0.16\r\nlibpthread-stubs@0.4\r\nlibsigsegv@2.13\r\nlibtool@2.4.6\r\nlibx11@1.7.0\r\nlibxau@1.0.8\r\nlibxcb@1.14\r\nlibxdmcp@1.1.2\r\nlibxext@1.3.3\r\nlibxml2@2.9.10~python\r\nlibyaml@0.2.5\r\nllvm-amdgpu@4.2.0~ipo+openmp+rocm-device-libs build_type=Release patches=d999f3b235e655ee07f6dd2590302082feaa06d32c5c6b53aae9c5cf1e45b644\r\nm4@1.4.19+sigsegv\r\nmesa18@18.3.6+glx~llvm~opengles+osmesa patches=55a5611ca9fcbe8324c4d68a07b338134954ff12c5b122dc78ff376f012a1414,e0a94aa728c233968137ca1314f6541745228a98d66822ad518b102f5a31b487 swr=none\r\nmpc@1.1.0\r\nmpfr@4.1.0\r\nmsgpack-c@3.1.1~ipo build_type=RelWithDebInfo\r\nncurses@6.2~symlinks+termlib abi=none\r\nnumactl@2.0.14 patches=4e1d78cbbb85de625bad28705e748856033eaafab92a66dffd383a3d7e00cc94,62fc8a8bf7665a60e8f4c93ebbd535647cebf74198f7afafec4c085a8825c006\r\nopenssl@1.1.1k~docs+systemcerts\r\nperl@5.34.0+cpanm+shared+threads\r\nperl-data-dumper@2.173\r\nperl-file-which@1.22\r\npkgconf@1.7.4\r\npy-mako@1.1.4\r\npy-markupsafe@1.1.1\r\npy-msgpack@1.0.2\r\npy-pip@21.1.2\r\npy-pyyaml@5.3.1+libyaml\r\npy-setuptools@50.3.2\r\npy-virtualenv@16.7.6\r\npy-wheel@0.36.2\r\npython@3.8.10+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8\r\ncf87\r\nreadline@8.1\r\nrocblas@4.2.0~ipo build_type=RelWithDebInfo tensile_architecture=all\r\nrocm-cmake@4.2.0~ipo+ldconfig build_type=Release\r\nrocm-smi-lib@4.2.0~ipo+shared build_type=Release\r\nrocminfo@4.2.0~ipo build_type=RelWithDebInfo\r\nrocsolver@4.2.0~ipo+optimal build_type=RelWithDebInfo\r\nsqlite@3.35.5+column_metadata+fts~functions~rtree\r\ntar@1.34\r\ntexinfo@6.5 patches=12f6edb0c6b270b8c8dba2ce17998c580db01182d871ee32b7b6e4129bd1d23a,1732115f651cff98989cb0215d8f64da5e0f7911ebf0c13b064920f088f2ffe1\r\nutil-linux-uuid@2.36.2\r\nutil-macros@1.19.1\r\nxcb-proto@1.14.1\r\nxextproto@7.3.0\r\nxproto@7.0.31\r\nxtrans@1.3.5\r\nxxd-standalone@8.2.1201\r\nxz@5.2.5~pic libs=shared,static\r\nz3@4.8.9~gmp~ipo+python build_type=RelWithDebInfo\r\nzlib@1.2.11+optimize+pic+shared\r\nzstd@1.5.0~ipo~legacy~lz4~lzma~multithread+programs+shared+static~zlib build_type=RelWithDebInfo\r\n```\r\n\r\n\r\n### Information on your system\r\n```\r\n$ spack debug report\r\n* **Spack:** 0.16.2-3213-7b6ca59\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos7-zen2\r\n* **Concretizer:** original\r\n```\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [x] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [ ] I have uploaded the build log and environment files\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}