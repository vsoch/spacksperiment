{
    "url": "https://api.github.com/repos/spack/spack/issues/846",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/846/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/846/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/846/events",
    "html_url": "https://github.com/spack/spack/issues/846",
    "id": 151359043,
    "node_id": "MDU6SXNzdWUxNTEzNTkwNDM=",
    "number": 846,
    "title": "openblas fails to pick up fortran compiler from Spack",
    "user": {
        "login": "davydden",
        "id": 8023934,
        "node_id": "MDQ6VXNlcjgwMjM5MzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8023934?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davydden",
        "html_url": "https://github.com/davydden",
        "followers_url": "https://api.github.com/users/davydden/followers",
        "following_url": "https://api.github.com/users/davydden/following{/other_user}",
        "gists_url": "https://api.github.com/users/davydden/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/davydden/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/davydden/subscriptions",
        "organizations_url": "https://api.github.com/users/davydden/orgs",
        "repos_url": "https://api.github.com/users/davydden/repos",
        "events_url": "https://api.github.com/users/davydden/events{/privacy}",
        "received_events_url": "https://api.github.com/users/davydden/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 9,
    "created_at": "2016-04-27T11:06:24Z",
    "updated_at": "2016-07-05T14:23:18Z",
    "closed_at": "2016-07-05T14:23:17Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "`openblas` really drives me nuts. Apparently, the solution of this PR https://github.com/LLNL/spack/pull/751 was not enough. It seems that if the fortran compiler is not in the path (i.e. build by Spack and is used as `f77: /path/to/spack/opt/spack/darwin-x86_64/clang-7.3.0-apple/gcc-5.3.0-ctakkbfikm76kcnssbb3gv53mlrwldbl/bin/gfortran`) then `openblas` does not pick it up\n\n```\nOpenBLAS: Detecting fortran compiler failed. Cannot compile LAPACK. Only compile BLAS.\n```\n\nPreviously it seemed to work for me because I had `gfortran` from `homebrew` in path. Now I removed homebrew completely and thereby discovered this issue.\n\nI noticed that `openblas` has `cmake` config, maybe it's time to use that to avoid the buggy make scripts?\n\n@tgamblin ideas?\n",
    "performed_via_github_app": null
}