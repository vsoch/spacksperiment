{
    "url": "https://api.github.com/repos/spack/spack/issues/12304",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12304/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12304/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12304/events",
    "html_url": "https://github.com/spack/spack/issues/12304",
    "id": 477947096,
    "node_id": "MDU6SXNzdWU0Nzc5NDcwOTY=",
    "number": 12304,
    "title": "Installation issue: hdf5-1.8.21 lib link can't find -liconv when building against external openmpi",
    "user": {
        "login": "bartlettroscoe",
        "id": 1959736,
        "node_id": "MDQ6VXNlcjE5NTk3MzY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1959736?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bartlettroscoe",
        "html_url": "https://github.com/bartlettroscoe",
        "followers_url": "https://api.github.com/users/bartlettroscoe/followers",
        "following_url": "https://api.github.com/users/bartlettroscoe/following{/other_user}",
        "gists_url": "https://api.github.com/users/bartlettroscoe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bartlettroscoe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bartlettroscoe/subscriptions",
        "organizations_url": "https://api.github.com/users/bartlettroscoe/orgs",
        "repos_url": "https://api.github.com/users/bartlettroscoe/repos",
        "events_url": "https://api.github.com/users/bartlettroscoe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bartlettroscoe/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 1651822417,
            "node_id": "MDU6TGFiZWwxNjUxODIyNDE3",
            "url": "https://api.github.com/repos/spack/spack/labels/snl-atdm",
            "name": "snl-atdm",
            "color": "e20ddb",
            "default": false,
            "description": "Issues for SNL ATDM usage of spack"
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 16,
    "created_at": "2019-08-07T13:59:12Z",
    "updated_at": "2019-11-01T14:12:35Z",
    "closed_at": "2019-08-27T15:29:02Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**snl-atdm-issue**\r\n\r\nCC @becker33, @fryeguy52\r\n\r\nWhen trying to build 'hdf5-1.8.21' using a pre-installed 'openmpi-1.10.1' (pulled in as an external package) the build of the 'libhdf5_cpp.so.16.0.0' library fails with the link error:\r\n\r\n```\r\n/usr/bin/ld: cannot find -liconv\r\n```\r\n\r\nHowever, if you build 'hdf5-1.8.21' with 'openmpi-1.10.1' in the same `spack install` command it works.   But we can't build 'openmpi' with the downstream TPL packages including 'hdf5' because we also want to build those with clang@5.0.1 and you can't build 'openmpi@1.10.1' with 'clang@5.0.1'.  Also, we should be able to point to a pre-installed MPI and spack should be able to build downstream packages using that MPI.\r\n\r\nThough a lot of investigative study (documented at the end of this comment), I was able to determine that some spack package is putting `-liconv` on the link line but id not putting `-L<dir>` pointing to the spack-installed location of this library.  Iif you manually remove `-liconv`, from the raw link command:\r\n\r\n<details>\r\n<summary><b>Raw Link Command with -liconv</b></summary>\r\n.\r\n\r\n`/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/bin/mpic++  -fPIC -DPIC -shared -nostdlib /usr/lib/../lib64/crti.o /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtbeginS.o  .libs/H5Exception.o .libs/H5IdComponent.o .libs/H5DataSpace.o .libs/H5PropList.o .libs/H5Library.o .libs/H5FaccProp.o .libs/H5FcreatProp.o .libs/H5LaccProp.o .libs/H5StrcreatProp.o .libs/H5LcreatProp.o .libs/H5AcreatProp.o .libs/H5DxferProp.o .libs/H5DcreatProp.o .libs/H5Location.o .libs/H5AbstractDs.o .libs/H5Attribute.o .libs/H5Object.o .libs/H5OcreatProp.o .libs/H5DataType.o .libs/H5AtomType.o .libs/H5PredType.o .libs/H5EnumType.o .libs/H5IntType.o .libs/H5FloatType.o .libs/H5StrType.o .libs/H5ArrayType.o .libs/H5VarLenType.o .libs/H5CompType.o .libs/H5DataSet.o .libs/H5CommonFG.o .libs/H5Group.o .libs/H5File.o   -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/src/.libs -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/lib ../../src/.libs/libhdf5.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../.. /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_cxx.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.so -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.so -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.so -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.so -lrt -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.so -lm -lpthread -lc -lgcc_s /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtendS.o /usr/lib/../lib64/crtn.o    -pthread -Wl,-soname -Wl,libhdf5_cpp.so.16 -o .libs/libhdf5_cpp.so.16.0.0`\r\n\r\n</details>\r\n\r\nthen that library links just fine.  Also, if you manually add the `-L<dir>` to the spack-installed location of the 'libiconv-1.15' lib dir in the raw link command:\r\n\r\n<details>\r\n<summary><b>Raw link command with -L libiconv-dir</b></summary>\r\n\r\n.\r\n\r\n`/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/bin/mpic++  -fPIC -DPIC -shared -nostdlib /usr/lib/../lib64/crti.o /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtbeginS.o  .libs/H5Exception.o .libs/H5IdComponent.o .libs/H5DataSpace.o .libs/H5PropList.o .libs/H5Library.o .libs/H5FaccProp.o .libs/H5FcreatProp.o .libs/H5LaccProp.o .libs/H5StrcreatProp.o .libs/H5LcreatProp.o .libs/H5AcreatProp.o .libs/H5DxferProp.o .libs/H5DcreatProp.o .libs/H5Location.o .libs/H5AbstractDs.o .libs/H5Attribute.o .libs/H5Object.o .libs/H5OcreatProp.o .libs/H5DataType.o .libs/H5AtomType.o .libs/H5PredType.o .libs/H5EnumType.o .libs/H5IntType.o .libs/H5FloatType.o .libs/H5StrType.o .libs/H5ArrayType.o .libs/H5VarLenType.o .libs/H5CompType.o .libs/H5DataSet.o .libs/H5CommonFG.o .libs/H5Group.o .libs/H5File.o   -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/src/.libs -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/lib ../../src/.libs/libhdf5.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../.. /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_cxx.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.so -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.so -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.so -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.so -lrt -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-bohu4az5xtxmslpnagcdwdr6oear4g5j/lib -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.so -lm -lpthread -lc -lgcc_s /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtendS.o /usr/lib/../lib64/crtn.o    -pthread -Wl,-soname -Wl,libhdf5_cpp.so.16 -o .libs/libhdf5_cpp.so.16.0.0`\r\n\r\n</details>\r\n\r\nit also links just fine.\r\n\r\nI can't figure out what spack package is putting `-liconv` on the link line for these 'hdf5' library.  There is no mention of `iconv` at all in any of the generated build files for 'hdf5' so it must be getting pulled in from one of its upstream dependencies.\r\n\r\n### Steps to reproduce the issue\r\n\r\nWe are using the multi-step process:\r\n\r\n1. Install gcc@7.2.0 with spack (using [spack.compiler.yaml.txt](https://github.com/spack/spack/files/3477286/spack.compiler.yaml.txt))\r\n2. Load the installed gcc@7.2.0 compiler as a spack compiler (which generates [compilers.yaml.txt](https://github.com/spack/spack/files/3477381/compilers.yaml.txt))\r\n3. Build a set of \"tools\" packages with gcc@7.2.0 (using [spack.tools.yaml.txt](https://github.com/spack/spack/files/3477291/spack.tools.yaml.txt))\r\n4. Build openmpi@1.10.1 using gcc@7.2.0 and pre-installed tools packages specified as external packages (using [spack.mpi.yaml.txt](https://github.com/spack/spack/files/3477296/spack.mpi.yaml.txt) and [packages_tools_for_mpi_build.yaml.txt](https://github.com/spack/spack/files/3477321/packages_tools_for_mpi_build.yaml.txt))\r\n5. Build TPL packages (which includes 'hdf5') using gcc@7.2.0 and pre-installed openmpi@1.10.1 and tools packages specified as external packages (using [spack.tpls.yaml.txt](https://github.com/spack/spack/files/3477297/spack.tpls.yaml.txt), [packages_tools_for_tpls_build.yaml.txt](https://github.com/spack/spack/files/3477324/packages_tools_for_tpls_build.yaml.txt) and \r\n[packages_mpi_for_tpls_build.yaml.txt](https://github.com/spack/spack/files/3477327/packages_mpi_for_tpls_build.yaml.txt))\r\n\r\nThese all pull in:\r\n\r\n* [common_options.yaml.txt](https://github.com/spack/spack/files/3477303/common_options.yaml.txt)\r\n\r\nTo really reproduce this, one should use the `install-trilinos-env.sh` script provided in the (currently protected repo):\r\n\r\n* https://gitlab.sandia.gov/atdm/atdm-spack\r\n\r\n(but I would need to push the branch 'cdofa-44-clang' for this work)\r\n\r\n### Platform and user environment\r\n\r\nCan report later ...\r\n\r\n### Additional information\r\n\r\nSomeone just really needs to run out script ...\r\n\r\n----\r\n\r\n<details>\r\n\r\n<summary><b>DETAILED NOTES:</b> (click to expand)</summary>\r\n\r\n. \r\n\r\n\r\nI want to go back and build a fresh Spack env from scratch for the default gcc@7.2.0 + openmpi@1.10.1 build to make sure it works:\r\n\r\n```\r\n$ sss crf450\r\n\r\n$ cd ~/Spack.base4/\r\n\r\n$ rm *.out\r\n\r\n$ . load-install-env.sh\r\n\r\n$ time ./atdm-spack/install-trilinos-env.sh \\\r\n  --wipe-clean -a -j20 \\\r\n  &> install-trilinos-env.out\r\n\r\nreal    50m54.216s\r\nuser    230m23.372s\r\nsys     26m46.407s\r\n```\r\n\r\nHold up, this gave a build error for 'hdf5' as well:\r\n\r\n```\r\n==> Installing hdf5\r\n==> Searching for binary cache of hdf5\r\n==> Finding buildcaches in /ascldap/users/rabartl/Spack.base4/atdm-spack/atdm-spack-tarball-mirror/build_cache\r\n==> No binary for hdf5 found: installing from source\r\n==> Fetching file:///ascldap/users/rabartl/Spack.base4/atdm-spack/atdm-spack-tarball-mirror/hdf5/hdf5-1.8.21.tar.gz\r\n==> Staging archive: /home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-ohmmzkjcpyq46a2yyrebk5px6xjxrw6b/hdf5-1.8.21.tar.gz\r\n==> Created stage in /home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-ohmmzkjcpyq46a2yyrebk5px6xjxrw6b\r\n==> No patches needed for hdf5\r\n==> Building hdf5 [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j20'\r\n\r\n5 errors found in build log:\r\n     12480      CXX      H5CompType.lo\r\n     12481      CXX      H5DataSet.lo\r\n     12482      CXX      H5CommonFG.lo\r\n     12483      CXX      H5Group.lo\r\n     12484      CXX      H5File.lo\r\n     12485      CXXLD    libhdf5_cpp.la\r\n  >> 12486    /usr/bin/ld: cannot find -liconv\r\n  >> 12487    collect2: error: ld returned 1 exit status\r\n  >> 12488    make[2]: *** [libhdf5_cpp.la] Error 1\r\n     12489    make[2]: Leaving directory `/tmp/rabartl/spack-stage/spack-stage-s_TBDI/hdf5-1.8.21/c++/src'\r\n  >> 12490    make[1]: *** [all-recursive] Error 1\r\n     12491    make[1]: Leaving directory `/tmp/rabartl/spack-stage/spack-stage-s_TBDI/hdf5-1.8.21/c++'\r\n  >> 12492    make: *** [all-recursive] Error 1\r\n\r\nSee build log for details:\r\n  /home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-ohmmzkjcpyq46a2yyrebk5px6xjxrw6b/hdf5-1.8.21/spack-build.out\r\n```\r\n\r\nSo this may not be something wrong with clang@5.0.1 building 'hdf5'.  Something in the configurations settings that impacts 'hdf5'.  Could it be something different about the way that 'openmpi' is built?  Let's look into this in more detail.\r\n\r\nLet's go back and build from scratch with the 'snl-atdm' branch and see what happens.  The repo versions are:\r\n\r\n```\r\n*** Base Git Repo: atdm-spack\r\nb0bdb0c [Fri Aug 2 19:19:29 2019 -0600] <wg-atdm-devops-admins@sandia.gov>\r\nAdd back include of packages_tools.yaml in spack.tpls.yaml (CDOFA-52)\r\n*** Git Repo: atdm-spack-tarball-mirror\r\nd8a7c92 [Thu Aug 1 16:51:14 2019 -0600] <rabartl@sandia.gov>\r\nMerge branch 'improvements-20190716-cleanup' into snl-atdm\r\n*** Git Repo: spack\r\na8c458b [Thu Aug 1 16:51:15 2019 -0600] <rabartl@sandia.gov>\r\nMerge branch 'improvements-20190716-cleanup' into snl-atdm\r\n```\r\n\r\nThen we do:\r\n\r\n```\r\n$ ssh crf450\r\n\r\n$ cd ~/Spack.base5/\r\n\r\n$ . load-install-env.sh\r\n\r\n$ time ./atdm-spack/install-trilinos-env.sh \\\r\n  --wipe-clean -a -j20 \\\r\n  &> install-trilinos-env.out\r\n\r\nreal    56m48.757s\r\nuser    256m9.421s\r\nsys     35m28.843s\r\n```\r\n\r\nNow to compare the conretizations of 'openmpi' and 'hdf5'.\r\n\r\nHere is the concretization of 'openmpi' for the 'snl-atdm' branch:\r\n\r\n```\r\n -   x2ipjvm              ^openmpi@1.10.1%gcc@7.2.0 cppflags=\"-fPIC\" ~cuda+cxx_exceptions fabrics=auto ~java~legacylaunchers~memchecker patches=6c825b161b01c00d4069d002db9c43a1d8a658672e40b87d2415b228e040981d ~pmi schedulers=auto ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64 \r\n -   2eoyo6v                  ^hwloc@1.11.11%gcc@7.2.0 cppflags=\"-fPIC\" ~cairo~cuda~gl+libxml2~nvml+pci+shared arch=linux-rhel6-x86_64 \r\n -   zk2jyll                      ^libpciaccess@0.13.5%gcc@7.2.0 cppflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n -   5u4ppqm                          ^util-macros@1.19.1%gcc@7.2.0 cppflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n```\r\n\r\nHere is the concretization of 'openmi' for the 'cdofa-44-clang' branch:\r\n\r\n```\r\n -   znrfpnz  openmpi@1.10.1%gcc@7.2.0~cuda+cxx_exceptions fabrics=auto ~java~legacylaunchers~memchecker patches=6c825b161b01c00d4069d002db9c43a1d8a658672e40b87d2415b228e040981d ~pmi schedulers=auto ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64 \r\n -   dnaqlgt      ^hwloc@1.11.11%gcc@7.2.0~cairo~cuda~gl+libxml2~nvml+pci+shared arch=linux-rhel6-x86_64 \r\n -   q4netje          ^libpciaccess@0.13.5%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   yhum7yr              ^libtool@2.4.6%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  dgpidmj              ^pkgconf@1.5.4%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   rjakshk              ^util-macros@1.19.1%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  qckwa5f          ^libxml2@2.9.8%gcc@7.2.0~python arch=linux-rhel6-x86_64 \r\n[+]  pnczpyw              ^libiconv@1.15%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  4mfrw3e              ^xz@5.2.4%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  aqhxxoj              ^zlib@1.2.11%gcc@7.2.0+optimize+pic+shared arch=linux-rhel6-x86_64 \r\n -   yl2h3h7          ^numactl@2.0.12%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   5hnreg6              ^autoconf@2.69%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   cbkyjff              ^automake@1.16.1%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   un6zokx              ^m4@1.4.18%gcc@7.2.0 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-rhel6-x86_64 \r\n```\r\n\r\nLet's compare these two specs a little more directly:\r\n\r\n*'openmpi' for 'snl-atdm' branch:*\r\n\r\n```\r\nopenmpi@1.10.1%gcc@7.2.0 cppflags=\"-fPIC\" ~cuda+cxx_exceptions fabrics=auto ~java~legacylaunchers~memchecker patches=6c825b161b01c00d4069d002db9c43a1d8a658672e40b87d2415b228e040981d ~pmi schedulers=auto ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64 \r\n```\r\n\r\n*'openmpi' for 'cdofa-44-clang' branch:*\r\n\r\n```\r\nopenmpi@1.10.1%gcc@7.2.0 ~cuda+cxx_exceptions fabrics=auto ~java~legacylaunchers~memchecker patches=6c825b161b01c00d4069d002db9c43a1d8a658672e40b87d2415b228e040981d ~pmi schedulers=auto ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64 \r\n```\r\n\r\nSo the only difference that I can see is that 'cppflags=-fPIC' is used on the 'snl-atdm' branch and not the 'cdofa-44-clang' branch.  There are more dependencies built into the 'cdofa-44-clang' branch but I don't know if that is real or not.  It may just be that Spack does not show the full dependency tree.  I bet that Spack is only showing the unique conretizations and does not show every dependency over and over.\r\n\r\nTherefore, other than 'cppflags=-fPIC', I don't see a difference between how 'openmpi' is concretized.\r\n\r\nLet's move on to 'hdf5' concretization.\r\n\r\nHere is how 'hdf5' is concretized on the 'snl-atdm' branch:\r\n\r\n```\r\n-   tmyizpm          ^hdf5@1.8.21%gcc@7.2.0+cxx~debug+fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-rhel6-x86_64 \r\n -   yl2h3h7              ^numactl@2.0.12%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   jpc636j                  ^autoconf@2.69%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   xruokvr                  ^automake@1.16.1%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n -   vdu6ks6                  ^libtool@2.4.6%gcc@7.2.0 cppflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n -   zjo7etn                  ^m4@1.4.18%gcc@7.2.0\r\n```\r\n\r\nHere is how 'hdf5' is concretized on the 'snl-atdm' branch:\r\n\r\n```\r\n -   ohmmzkj          ^hdf5@1.8.21%gcc@7.2.0+cxx~debug+fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-rhel6-x86_64 \r\n[+]  yl2h3h7              ^numactl@2.0.12%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  5hnreg6                  ^autoconf@2.69%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  cbkyjff                  ^automake@1.16.1%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  yhum7yr                  ^libtool@2.4.6%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n[+]  un6zokx                  ^m4@1.4.18%gcc@7.2.0\r\n```\r\n\r\nComparing just the 'hdf5' conretization.\r\n\r\n\r\n*'hdf5' for 'snl-atdm' branch:*\r\n\r\n```\r\nhdf5@1.8.21%gcc@7.2.0+cxx~debug+fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-rhel6-x86_64 \r\n```\r\n\r\n*'hdf5' for 'cdofa-44-clang' branch:*\r\n\r\n```\r\nhdf5@1.8.21%gcc@7.2.0+cxx~debug+fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-rhel6-x86_64 \r\n```\r\n\r\nCrap, I don't see any difference in the conretization for 'hdf5'.  The only difference is using -fPIC for 'openmpi'.\r\n\r\nSo let's go back and put in 'cppflags=-fPIC' for building 'openmpi' on the 'cdofa-44-clang' branch.\r\n\r\nI tried building again in ~/Spack.base4 on the updated 'cdofa-44-clang' branch:\r\n\r\n```\r\n$ cd ~/Spack.base4/\r\n\r\n$ time ./atdm-spack/install-trilinos-env.sh -a -j20 \\\r\n  &> install-trilinos-env.3.out\r\n\r\nreal    9m10.853s\r\nuser    23m28.446s\r\nsys     6m54.172s\r\n```\r\n\r\nbut that failed again with the same error:\r\n\r\n```\r\n==> Installing hdf5\r\n==> Searching for binary cache of hdf5\r\n==> Finding buildcaches in /ascldap/users/rabartl/Spack.base4/atdm-spack/atdm-spack-tarball-mirror/build_cache\r\n==> No binary for hdf5 found: installing from source\r\n==> Using cached archive: /home/rabartl/Spack.base4/atdm-spack/spack/var/spack/cache/hdf5/hdf5-1.8.21.tar.gz\r\n==> Staging archive: /home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21.tar.gz\r\n==> Created stage in /home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b\r\n==> No patches needed for hdf5\r\n==> Building hdf5 [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j20'\r\n\r\n5 errors found in build log:\r\n     12480      CXX      H5CompType.lo\r\n     12481      CXX      H5DataSet.lo\r\n     12482      CXX      H5CommonFG.lo\r\n     12483      CXX      H5Group.lo\r\n     12484      CXX      H5File.lo\r\n     12485      CXXLD    libhdf5_cpp.la\r\n  >> 12486    /usr/bin/ld: cannot find -liconv\r\n  >> 12487    collect2: error: ld returned 1 exit status\r\n  >> 12488    make[2]: *** [libhdf5_cpp.la] Error 1\r\n     12489    make[2]: Leaving directory `/tmp/rabartl/spack-stage/spack-stage-qVQQPe/hdf5-1.8.21/c++/src'\r\n  >> 12490    make[1]: *** [all-recursive] Error 1\r\n     12491    make[1]: Leaving directory `/tmp/rabartl/spack-stage/spack-stage-qVQQPe/hdf5-1.8.21/c++'\r\n  >> 12492    make: *** [all-recursive] Error 1\r\n```\r\n\r\nSo what is up with not fiking 'liconv'?  How can that be?  Let's try to directly debug this build error and see what happens.\r\n\r\n```\r\n$ ssh crf450\r\n\r\n$ cd ~/Spack.base4/\r\n\r\n$ . atdm-spack/spack/share/spack/setup-env.sh\r\n\r\n$ spack build-env hdf5 bash\r\n\r\n$ spack cd hdf5\r\n```\r\n\r\nSo here is the raw command:\r\n\r\n```\r\n$ cd c++/src/\r\n\r\n$ make -n\r\n```\r\n\r\nFrom that I got the libtool command for which I removed the {{--silent}} option and ran and it produced:\r\n\r\n```\r\n/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/bin/mpic++  -fPIC -DPIC -shared -nostdlib /usr/lib/../lib64/crti.o /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtbeginS.o  .libs/H5Exception.o .libs/H5IdComponent.o .libs/H5DataSpace.o .libs/H5PropList.o .libs/H5Library.o .libs/H5FaccProp.o .libs/H5FcreatProp.o .libs/H5LaccProp.o .libs/H5StrcreatProp.o .libs/H5LcreatProp.o .libs/H5AcreatProp.o .libs/H5DxferProp.o .libs/H5DcreatProp.o .libs/H5Location.o .libs/H5AbstractDs.o .libs/H5Attribute.o .libs/H5Object.o .libs/H5OcreatProp.o .libs/H5DataType.o .libs/H5AtomType.o .libs/H5PredType.o .libs/H5EnumType.o .libs/H5IntType.o .libs/H5FloatType.o .libs/H5StrType.o .libs/H5ArrayType.o .libs/H5VarLenType.o .libs/H5CompType.o .libs/H5DataSet.o .libs/H5CommonFG.o .libs/H5Group.o .libs/H5File.o   -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/src/.libs -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/lib ../../src/.libs/libhdf5.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../.. /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_cxx.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.so -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.so -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.so -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.so -lrt -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.so -lm -lpthread -lc -lgcc_s /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtendS.o /usr/lib/../lib64/crtn.o    -pthread -Wl,-soname -Wl,libhdf5_cpp.so.16 -o .libs/libhdf5_cpp.so.16.0.0\r\n```\r\n\r\nSo we can see {{-liconv}}.  So where is that library?  Let's find it:\r\n\r\n```\r\n$ find atdm-spack/spack/opt/spack/linux-rhel6-x86_64/ -type f -name \"libiconv.so*\"\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-pnczpywuj4rnkqxkrsqo6fnehku4kqnr/lib/libiconv.so.2.6.0\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-bohu4az5xtxmslpnagcdwdr6oear4g5j/lib/libiconv.so.2.6.0\r\n```\r\n\r\nThe library {{libiconv-1.15-pnczpywuj4rnkqxkrsqo6fnehku4kqnr}} is created in the building of the tools packages while building CMake:\r\n\r\n```\r\n[+]  rikhkft      ^cmake@3.13.4%gcc@7.2.0~doc+ncurses+openssl~ownlibs~qt arch=linux-rhel6-x86_64\r\n...\r\n[+]  gfsvl7p          ^libarchive@3.3.2%gcc@7.2.0 arch=linux-rhel6-x86_64\r\n[+]  qckwa5f              ^libxml2@2.9.8%gcc@7.2.0~python arch=linux-rhel6-x86_64 \r\n[+]  pnczpyw                  ^libiconv@1.15%gcc@7.2.0 arch=linux-rhel6-x86_64 \r\n```\r\n\r\nThe libray {{libiconv-1.15-bohu4az5xtxmslpnagcdwdr6oear4g5j}} is created in the building of 'openmpi@1.10.1':\r\n\r\n```\r\n -   gtxczlm  openmpi@1.10.1%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\" ~cuda+cxx_exceptions fabrics=auto ~java~legacylaunchers~memchecker patches=6c825b161b01c00d4069d002db9c43a1d8a658672e40b87d2415b228e040981d ~pmi schedulers=auto ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64 \r\n -   agnjvnf      ^hwloc@1.11.11%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\" ~cairo~cuda~gl+libxml2~nvml+pci+shared arch=linux-rhel6-x86_64 \r\n -   fatkcjg          ^libpciaccess@0.13.5%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n -   jn77ea5              ^libtool@2.4.6%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n -   uf5tave              ^pkgconf@1.5.4%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n -   pvadxl3              ^util-macros@1.19.1%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n -   7pamd47          ^libxml2@2.9.8%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\" ~python arch=linux-rhel6-x86_64 \r\n -   bohu4az              ^libiconv@1.15%gcc@7.2.0 cppflags=\"-fPIC\" cxxflags=\"-fPIC\" fflags=\"-fPIC\"  arch=linux-rhel6-x86_64 \r\n```\r\n\r\nThe problem is that if you look above, you will not see any a {{-L}} entry for the 'libiconv' library.\r\n\r\nIf you take out '-libiconv' from the link line and run:\r\n\r\n```\r\n/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/bin/mpic++  -fPIC -DPIC -shared -nostdlib /usr/lib/../lib64/crti.o /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtbeginS.o  .libs/H5Exception.o .libs/H5IdComponent.o .libs/H5DataSpace.o .libs/H5PropList.o .libs/H5Library.o .libs/H5FaccProp.o .libs/H5FcreatProp.o .libs/H5LaccProp.o .libs/H5StrcreatProp.o .libs/H5LcreatProp.o .libs/H5AcreatProp.o .libs/H5DxferProp.o .libs/H5DcreatProp.o .libs/H5Location.o .libs/H5AbstractDs.o .libs/H5Attribute.o .libs/H5Object.o .libs/H5OcreatProp.o .libs/H5DataType.o .libs/H5AtomType.o .libs/H5PredType.o .libs/H5EnumType.o .libs/H5IntType.o .libs/H5FloatType.o .libs/H5StrType.o .libs/H5ArrayType.o .libs/H5VarLenType.o .libs/H5CompType.o .libs/H5DataSet.o .libs/H5CommonFG.o .libs/H5Group.o .libs/H5File.o   -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/src/.libs -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/lib ../../src/.libs/libhdf5.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../.. /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_cxx.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.so -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.so -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.so -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.so -lrt /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.so -lm -lpthread -lc -lgcc_s /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtendS.o /usr/lib/../lib64/crtn.o    -pthread -Wl,-soname -Wl,libhdf5_cpp.so.16 -o .libs/libhdf5_cpp.so.16.0.0\r\n```\r\n\r\nthen running that command in:\r\n\r\n```\r\n/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/c++/src\r\n```\r\n\r\nproduces:\r\n\r\n```\r\n/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/c++/src/.libs/libhdf5_cpp.so.16.0.0\r\n```\r\n\r\nAlso, if I manually add:\r\n\r\n```\r\n-L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-bohu4az5xtxmslpnagcdwdr6oear4g5j/lib\r\n```\r\n\r\nto the link command:\r\n\r\n```\r\n/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/bin/mpic++  -fPIC -DPIC -shared -nostdlib /usr/lib/../lib64/crti.o /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtbeginS.o  .libs/H5Exception.o .libs/H5IdComponent.o .libs/H5DataSpace.o .libs/H5PropList.o .libs/H5Library.o .libs/H5FaccProp.o .libs/H5FcreatProp.o .libs/H5LaccProp.o .libs/H5StrcreatProp.o .libs/H5LcreatProp.o .libs/H5AcreatProp.o .libs/H5DxferProp.o .libs/H5DcreatProp.o .libs/H5Location.o .libs/H5AbstractDs.o .libs/H5Attribute.o .libs/H5Object.o .libs/H5OcreatProp.o .libs/H5DataType.o .libs/H5AtomType.o .libs/H5PredType.o .libs/H5EnumType.o .libs/H5IntType.o .libs/H5FloatType.o .libs/H5StrType.o .libs/H5ArrayType.o .libs/H5VarLenType.o .libs/H5CompType.o .libs/H5DataSet.o .libs/H5CommonFG.o .libs/H5Group.o .libs/H5File.o   -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/src/.libs -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -Wl,-rpath -Wl,/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/lib ../../src/.libs/libhdf5.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/../../.. /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_cxx.so -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64 /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.so -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.so -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.so /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.so -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.so -lrt -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-bohu4az5xtxmslpnagcdwdr6oear4g5j/lib -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.so -lm -lpthread -lc -lgcc_s /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/gcc/x86_64-pc-linux-gnu/7.2.0/crtendS.o /usr/lib/../lib64/crtn.o    -pthread -Wl,-soname -Wl,libhdf5_cpp.so.16 -o .libs/libhdf5_cpp.so.16.0.0\r\n```\r\n\r\nI ran that and it also linked just fine.\r\n\r\nThis shows that something in Spack or one of the intermediate package build systems is messed up and is adding `-liconv` without adding `-L<dir>` for its location.\r\n\r\n*(8/6/2019)*\r\n\r\nSo what do I do about this?  First, it would be good to verify that the spack build where 'openmpi' is built along with 'hdf5' adds the proper `-L<dir>` option for `libiconv`.  So how do I do that?  That type of thing is so hard to do with spack ...\r\n\r\nI did the uninstall of 'hdf5' using:\r\n\r\n```\r\n$ ssh crf450\r\n\r\n$ cd ~/Spack.base5/\r\n\r\n$ . load-install-env.sh\r\n\r\n$ mv spack.yaml spack.yaml.moved\r\n\r\n$ ./atdm-spack/spack/bin/spack uninstall -f hdf5\r\n$ ./atdm-spack/spack/bin/spack uninstall -f snl-atdm-deps\r\n```\r\n\r\nI then tried to use the 'spack setup' function using:\r\n\r\n```\r\n$ mv spack.yaml.moved spack.yaml\r\n\r\n$ . setup-env.sh\r\n\r\n$  spack setup hdf5\r\n==> Error: spack setup spec must have a single, concrete version. Did you forget a package version number?\r\n\r\n$ spack setup  hdf5@1.8.21%gcc@7.2.0+cxx~debug+fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-rhel6-x86_64\r\n==> Error: Support for AutotoolsPackage derived packages not yet implemented\r\n```\r\n\r\nSo you can't use the 'spack setup' function :-(\r\n\r\nOnce again, it looks like I have to temporaroly break the hdf5 configuration so that I can introspect the build of the library 'libhdf5_cpp.so.16.0.0' and see what happens.\r\n\r\nSo I made the change:\r\n\r\n```\r\ndiff --git a/var/spack/repos/builtin/packages/hdf5/package.py b/var/spack/repos/builtin/packages/hdf5/package.py\r\nindex 4b5a09d..ce32dc2 100644\r\n--- a/var/spack/repos/builtin/packages/hdf5/package.py\r\n+++ b/var/spack/repos/builtin/packages/hdf5/package.py\r\n@@ -248,6 +248,8 @@ class Hdf5(AutotoolsPackage):\r\n \r\n         extra_args.append('--with-zlib=%s' % self.spec['zlib'].prefix)\r\n \r\n+        extra_args.append('--this-argument-does-not-exist')\r\n+\r\n         return extra_args\r\n \r\n     @run_after('configure')\r\n```\r\n\r\nThen I ran it with:\r\n\r\n```\r\n$ ./atdm-spack/spack/bin/spack -d install\r\n\r\n...\r\n\r\n'/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/configure' '--prefix=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw' '--enable-unsupported' '--disable-threadsafe' '--enable-cxx' '--enable-hl' '--enable-fortran' '--without-szlib' '--enable-production' '--enable-fortran2003' '--enable-shared' 'CFLAGS=-fPIC' 'CXXFLAGS=-fPIC' 'FCFLAGS=-fPIC' '--enable-parallel' 'CC=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpicc' 'CXX=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpic++' 'FC=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpif90' '--with-zlib=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg' '--this-argument-does-not-exist'\r\n\r\n1 error found in build log:\r\n     3    ==> [2019-08-06-15:49:29.066393] '/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/configure' '--prefix=/home/\r\n          rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw' '--enable-unsupported' '--disable-threadsafe' '--enable\r\n          -cxx' '--enable-hl' '--enable-fortran' '--without-szlib' '--enable-production' '--enable-fortran2003' '--enable-shared' 'CFLAGS=-fPIC' 'CXXFLAGS=-fPIC' 'FCFLAGS=-fPIC' '--enable\r\n          -parallel' 'CC=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpicc' 'CXX=/home/rabartl/Sp\r\n          ack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpic++' 'FC=/home/rabartl/Spack.base5/atdm-spack/spack/opt/\r\n          spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpif90' '--with-zlib=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_\r\n          64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg' '--this-argument-does-not-exist'\r\n  >> 4    configure: error: unrecognized option: `--this-argument-does-not-exist'\r\n     5    Try `/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/configure --help' for more information\r\n\r\nSee build log for details:\r\n  /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/spack-build.out\r\nTraceback (most recent call last):\r\n  File \"/home/rabartl/Spack.base5/atdm-spack/spack/lib/spack/spack/build_environment.py\", line 767, in child_process\r\n    return_value = function()\r\n  File \"/home/rabartl/Spack.base5/atdm-spack/spack/lib/spack/spack/package.py\", line 1497, in build_process\r\n    phase(self.spec, self.prefix)\r\n  File \"/home/rabartl/Spack.base5/atdm-spack/spack/lib/spack/spack/package.py\", line 101, in phase_wrapper\r\n    phase(spec, prefix)\r\n  File \"/home/rabartl/Spack.base5/atdm-spack/spack/lib/spack/spack/build_systems/autotools.py\", line 256, in configure\r\n    inspect.getmodule(self).configure(*options)\r\n  File \"/home/rabartl/Spack.base5/atdm-spack/spack/lib/spack/spack/util/executable.py\", line 188, in __call__\r\n    proc.returncode, long_msg)\r\nProcessError: Command exited with status 1:\r\n    '/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/configure' '--prefix=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw' '--enable-unsupported' '--disable-threadsafe' '--enable-cxx' '--enable-hl' '--enable-fortran' '--without-szlib' '--enable-production' '--enable-fortran2003' '--enable-shared' 'CFLAGS=-fPIC' 'CXXFLAGS=-fPIC' 'FCFLAGS=-fPIC' '--enable-parallel' 'CC=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpicc' 'CXX=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpic++' 'FC=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/bin/mpif90' '--with-zlib=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg' '--this-argument-does-not-exist'\r\n```\r\n\r\nNow to debug this:\r\n\r\n```\r\n$  spack build-env hdf5 bash\r\n==> Error: Query of package 'openmpi' for 'headers' failed\r\n        prefix : /home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-3.1.3-rqcvehp3elb6t5ojxkze453wz5yfq6qs\r\n        spec : openmpi@3.1.3%gcc@7.2.0~cuda+cxx_exceptions fabrics=auto ~java~legacylaunchers~memchecker~pmi schedulers=auto ~sqlite3~thread_multiple+vt arch=linux-rhel6-x86_64  ^autoconf@2.69%gcc@7.2.0 arch=linux-rhel6-x86_64  ^automake@1.16.1%gcc@7.2.0 arch=linux-rhel6-x86_64  ^hwloc@1.11.11%gcc@7.2.0~cairo~cuda~gl+libxml2~nvml+pci+shared arch=linux-rhel6-x86_64  ^libiconv@1.15%gcc@7.2.0 arch=linux-rhel6-x86_64  ^libpciaccess@0.13.5%gcc@7.2.0 arch=linux-rhel6-x86_64  ^libtool@2.4.6%gcc@7.2.0 arch=linux-rhel6-x86_64  ^libxml2@2.9.8%gcc@7.2.0~python arch=linux-rhel6-x86_64  ^m4@1.4.18%gcc@7.2.0 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-rhel6-x86_64  ^numactl@2.0.12%gcc@7.2.0 arch=linux-rhel6-x86_64  ^pkgconf@1.5.4%gcc@7.2.0 arch=linux-rhel6-x86_64  ^util-macros@1.19.1%gcc@7.2.0 arch=linux-rhel6-x86_64  ^xz@5.2.4%gcc@7.2.0 arch=linux-rhel6-x86_64  ^zlib@1.2.11%gcc@7.2.0+optimize+pic+shared arch=linux-rhel6-x86_64\r\n        queried as : openmpi\r\n        extra parameters : []\r\n```\r\n\r\nDarn, I can't even debug the build of hdf5 :-(\r\n\r\nTo try to debug this, I ran:\r\n\r\n```\r\n$ ./atdm-spack/spack/bin/spack -d install\r\n```\r\n\r\nand then killed it when it was doing the build:\r\n\r\n```\r\n==> [2019-08-06-15:59:26.655364] Using cached archive: /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/cache/hdf5/hdf5-1.8.21.tar.gz\r\n==> [2019-08-06-15:59:26.692931] Staging archive: /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21.tar.gz\r\n==> [2019-08-06-15:59:26.693752] '/bin/tar' '-xf' '/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21.tar.gz'\r\n==> [2019-08-06-15:59:27.385925] Created stage in /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw\r\n==> [2019-08-06-15:59:27.386403] No patches needed for hdf5\r\n==> [2019-08-06-15:59:27.386459] Building hdf5 [AutotoolsPackage]\r\n==> [2019-08-06-15:59:27.386571] WRITE LOCK: /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/.lock[1672467032832099954:1] [Acquiring]\r\n==> [2019-08-06-15:59:27.386750] WRITE LOCK: /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/.lock[1672467032832099954:1] [Acquired]\r\n==> [2019-08-06-15:59:27.387201] WRITE LOCK: /home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/.spack-db/prefix_lock[5591296310307041496:1] [Acquiring]\r\n==> [2019-08-06-15:59:27.387318] WRITE LOCK: /home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/.spack-db/prefix_lock[5591296310307041496:1] [Acquired]\r\n==> [2019-08-06-15:59:27.389339] Executing phase: 'autoreconf'\r\n==> [2019-08-06-15:59:27.392168] Executing phase: 'configure'\r\n==> [2019-08-06-15:59:46.443968] Executing phase: 'build'\r\nSignal received : entering python shell.\r\n```\r\n\r\nNow to look the stage space:\r\n\r\n```\r\n/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw\r\n```\r\n\r\nwhich is a symlink:\r\n\r\n```\r\n$ ls -ld /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw\r\nlrwxrwxrwx. 1 rabartl rabartl 43 Aug  6 15:59 /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw -> /tmp/rabartl/spack-stage/spack-stage-PNlUHR\r\n```\r\n\r\nNow I will try to introspect this thing:\r\n\r\n```\r\n$ cd /home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/\r\n\r\n$ find . -type f -exec grep -l libiconv {} \\;\r\n./c++/src/cpp_doc_config\r\n./spack-build.env\r\n./config.log\r\n```\r\n\r\nThe file:\r\n\r\n```\r\n/home/rabartl/Spack.base5/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-tmyizpmttnq3d3lpjq3usvuhksngh3zw/hdf5-1.8.21/config.log\r\n```\r\n\r\nit shows:\r\n\r\n```\r\nCMAKE_PREFIX_PATH=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-zk2jyll4kclh6jtxpchjtx2nyzfmadsk:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-4mfrw3eoatxttabiyummdif5cfbx6kxo:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-2eoyo6vq3jatiet2ifbl6vbutbp5znij:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/numactl-2.0.12-yl2h3h7icf2ts3mrnndckbmz7wc4ql5o:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-qckwa5f4brssbbwbbtxe7tvdy4dnhwlw:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-pnczpywuj4rnkqxkrsqo6fnehku4kqnr:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj\r\n\r\n...\r\n\r\nSPACK_INCLUDE_DIRS=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-zk2jyll4kclh6jtxpchjtx2nyzfmadsk/include:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-4mfrw3eoatxttabiyummdif5cfbx6kxo/include:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-2eoyo6vq3jatiet2ifbl6vbutbp5znij/include:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/include:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/numactl-2.0.12-yl2h3h7icf2ts3mrnndckbmz7wc4ql5o/include:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-qckwa5f4brssbbwbbtxe7tvdy4dnhwlw/include/libxml2:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-pnczpywuj4rnkqxkrsqo6fnehku4kqnr/include:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/include\r\n\r\n...\r\n\r\nSPACK_LINK_DIRS=/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-zk2jyll4kclh6jtxpchjtx2nyzfmadsk/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-4mfrw3eoatxttabiyummdif5cfbx6kxo/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-2eoyo6vq3jatiet2ifbl6vbutbp5znij/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-aqhxxoj2tgtjgdkqpxtdyzo6sfwsi6vg/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/numactl-2.0.12-yl2h3h7icf2ts3mrnndckbmz7wc4ql5o/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-qckwa5f4brssbbwbbtxe7tvdy4dnhwlw/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-pnczpywuj4rnkqxkrsqo6fnehku4kqnr/lib:/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-x2ipjvmrhhgydtcpz5i6s2ln6zjuzvqj/lib\r\n```\r\n\r\nSo those show that Spack is putting in the stuff to to find `-liconv` under the directory:\r\n\r\n```\r\n/home/rabartl/Spack.base5/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-pnczpywuj4rnkqxkrsqo6fnehku4kqnr/\r\n```\r\n\r\nGoing back to the 'cdofa-44-clang' branch build dir staging area for 'hdf5':\r\n\r\n```\r\n/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21\r\n```\r\n\r\nlooking for any mention of 'libiconv':\r\n\r\n```\r\n$ find . -type f -exec grep -l libiconv {} \\;\r\n./c++/src/cpp_doc_config\r\n```\r\n\r\nThat file:\r\n\r\n```\r\n/ascldap/users/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/c++/src/cpp_doc_config\r\n```\r\n\r\njust shows:\r\n\r\n```\r\n$ find . -type f -exec grep -nH libiconv {} \\;\r\n./c++/src/cpp_doc_config:22:# before the first occurrence of this tag. Doxygen uses libiconv (or the iconv\r\n./c++/src/cpp_doc_config:23:# built into libc) for the transcoding. See http://www.gnu.org/software/libiconv\r\n./c++/src/cpp_doc_config:751:# libiconv (or the iconv built into libc) for the transcoding. See the libiconv\r\n./c++/src/cpp_doc_config:752:# documentation (see: http://www.gnu.org/software/libiconv) for the list of\r\n```\r\n\r\nSo this shows that Spack is **NOT** putting in any links to the correct links to the directory:\r\n\r\n```\r\n/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libiconv-1.15-bohu4az5xtxmslpnagcdwdr6oear4g5j/lib\r\n```\r\n\r\nto find `-liconv`.\r\n\r\nSo where the heck is `-liconv` comming from?  It is not coming from the hdf5 build system as shown by:\r\n\r\n```\r\n$ cd /ascldap/users/rabartl/Spack.base4/atdm-spack/spack/var/spack/stage/hdf5-1.8.21-d7t4gzu4w4iacxm7dbfe46773g7euf7b/hdf5-1.8.21/\r\n\r\n$ find . -type f -exec grep -l iconv {} \\;\r\n./c++/src/cpp_doc_config\r\n./spack-build.out\r\n```\r\n\r\nSo one of the package that 'hdf5' is using must be putting in a bad `-liconv` without supplying the `-L<dir>` argument to find it.  What packages are doing that?\r\n\r\nWhat packages does `hdf5' directly use?\r\n\r\n```\r\n$ ./atdm-spack/spack/bin/spack info hdf5\r\n\r\n...\r\n\r\nLink Dependencies:\r\n    mpi  numactl  szip  zlib\r\n```\r\n\r\nLooking for the presents of 'iconv' in the installed package:\r\n\r\n```\r\n$ cd ~/Spack.base4/\r\n\r\n$ find atdm-spack/spack/opt/spack/linux-rhel6-x86_64/ -type f -exec grep -l \"iconv\" {} \\; | wc -l\r\n809\r\n```\r\n\r\nDarn, 809 files.  That is too many files to try to search manually.  So what about looking for '-liconv':\r\n\r\n```\r\n$ cd ~/Spack.base4/\r\n\r\n$ find atdm-spack/spack/opt/spack/linux-rhel6-x86_64/ -type f -exec grep -l \"[-]liconv\" {} \\; | wc -l\r\n61\r\n```\r\n\r\nLooking at those files, I am finding disturbing vars like:\r\n\r\n```\r\n$ find atdm-spack/spack/opt/spack/linux-rhel6-x86_64/ -type f -exec grep -nH \"LIBICONV\" {} \\; | grep \"\\-liconv\"\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/gdbm-1.18.1-scud3a6ekkn4ctjygv64fsm6u6gleyir/.spack/archived-files/config.log:8271:LIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/gdbm-1.18.1-scud3a6ekkn4ctjygv64fsm6u6gleyir/.spack/archived-files/config.log:8278:LTLIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-4mfrw3eoatxttabiyummdif5cfbx6kxo/.spack/archived-files/config.log:4064:LIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-4mfrw3eoatxttabiyummdif5cfbx6kxo/.spack/archived-files/config.log:4072:LTLIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/.spack/archived-files/config.log:4063:LIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/.spack/archived-files/config.log:4071:LTLIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libarchive-3.3.2-gfsvl7pvs7gkl4cxru4ilwblxehv443n/.spack/archived-files/config.log:48643:LIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libarchive-3.3.2-gfsvl7pvs7gkl4cxru4ilwblxehv443n/.spack/archived-files/config.log:48651:LTLIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gdbm-1.18.1-5tlzkazidylvnzafdeef5o7gm2ul4zry/.spack/archived-files/config.log:8258:LIBICONV='-liconv'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gdbm-1.18.1-5tlzkazidylvnzafdeef5o7gm2ul4zry/.spack/archived-files/config.log:8265:LTLIBICONV='-liconv'\r\n```\r\n\r\nThis makes me concerned that these build systems are injecting `-liconv` without also injecting `-L<dir>` to find that library.\r\n\r\nBut I don't think that 'hdf5' has any direct dependencies on those TPLs.\r\n\r\nBut my bigger concern is actually 'openmp' itself as I see hits like:\r\n\r\n```\r\n$ find atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227 -type f -exec grep -nH \"\\-liconv\" {} \\;\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_usempi_ignore_tkr.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libgfortran.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libquadmath.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libquadmath.la'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/openmpi/libompi_dbg_msgq.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/liboshmem.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_mpifh.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libgfortran.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libquadmath.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libquadmath.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_cxx.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.la'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_usempif08.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi_mpifh.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libgfortran.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libquadmath.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libquadmath.la'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libvt-mpi.la:20:dependency_libs=' -L/tmp/rabartl/spack-stage/spack-stage-Bz5hag/openmpi-1.10.1/ompi/.libs -L/tmp/rabartl/spack-stage/spack-stage-Bz5hag/openmpi-1.10.1/ompi/contrib/vt/vt/../../../.libs /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libvt-mpi-unify.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libotfaux.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-trace-format.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libvt-mpi-unify.la:20:dependency_libs=' -L/tmp/rabartl/spack-stage/spack-stage-Bz5hag/openmpi-1.10.1/ompi/.libs -L/tmp/rabartl/spack-stage/spack-stage-Bz5hag/openmpi-1.10.1/ompi/contrib/vt/vt/../../../.libs /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libotfaux.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-trace-format.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.la'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libompitrace.la:20:dependency_libs=' -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\natdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libvt-hyb.la:20:dependency_libs=' -L/tmp/rabartl/spack-stage/spack-stage-Bz5hag/openmpi-1.10.1/ompi/.libs -L/tmp/rabartl/spack-stage/spack-stage-Bz5hag/openmpi-1.10.1/ompi/contrib/vt/vt/../../../.libs /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libvt-mpi-unify.la -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib -L/home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/zlib-1.2.11-sasjkfmh7fe56scibugcgvlrszr2i4bv/lib /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libotfaux.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-trace-format.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-4.4.7/gcc-7.2.0-ekndq5n53c7zwwn2fa7njakoi6atm4ss/lib/../lib64/libstdc++.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libmpi.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-rte.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/openmpi-1.10.1-gtxczlm3wtr7xm2gkuwmnk4s4vsjd227/lib/libopen-pal.la -lutil /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/hwloc-1.11.11-agnjvnfloiz5azhjr7s26icfejtoy5lp/lib/libhwloc.la -lnuma /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libpciaccess-0.13.5-fatkcjgscemiv5xuparjkrkwpu2owadt/lib/libpciaccess.la /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/libxml2-2.9.8-7pamd475wc4lpzwjnfcw7cvekgtpfizg/lib/libxml2.la -ldl -lz /home/rabartl/Spack.base4/atdm-spack/spack/opt/spack/linux-rhel6-x86_64/gcc-7.2.0/xz-5.2.4-vek6eren3xarnbj6h5lqut7rykzhwllu/lib/liblzma.la -lrt -liconv -lm'\r\n```\r\n\r\nSo what you see is that it looks like 'openmpi' itself?\r\n\r\nI am not sure how `-liconv` is getting onto the link line but it is clear that something is not also adding the proper `-L<dir>` argument to make this work :-(\r\n\r\n</details>\r\n\r\n",
    "performed_via_github_app": null
}