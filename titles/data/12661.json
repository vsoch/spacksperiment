{
    "url": "https://api.github.com/repos/spack/spack/issues/12661",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12661/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12661/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12661/events",
    "html_url": "https://github.com/spack/spack/issues/12661",
    "id": 487276376,
    "node_id": "MDU6SXNzdWU0ODcyNzYzNzY=",
    "number": 12661,
    "title": "spack load -r portability across all supported shells",
    "user": {
        "login": "tylerjereddy",
        "id": 7903078,
        "node_id": "MDQ6VXNlcjc5MDMwNzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7903078?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tylerjereddy",
        "html_url": "https://github.com/tylerjereddy",
        "followers_url": "https://api.github.com/users/tylerjereddy/followers",
        "following_url": "https://api.github.com/users/tylerjereddy/following{/other_user}",
        "gists_url": "https://api.github.com/users/tylerjereddy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tylerjereddy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tylerjereddy/subscriptions",
        "organizations_url": "https://api.github.com/users/tylerjereddy/orgs",
        "repos_url": "https://api.github.com/users/tylerjereddy/repos",
        "events_url": "https://api.github.com/users/tylerjereddy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tylerjereddy/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 1433532775,
            "node_id": "MDU6TGFiZWwxNDMzNTMyNzc1",
            "url": "https://api.github.com/repos/spack/spack/labels/triage",
            "name": "triage",
            "color": "ed9793",
            "default": false,
            "description": "The issue needs to be prioritized"
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "tgamblin",
        "id": 299842,
        "node_id": "MDQ6VXNlcjI5OTg0Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/299842?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tgamblin",
        "html_url": "https://github.com/tgamblin",
        "followers_url": "https://api.github.com/users/tgamblin/followers",
        "following_url": "https://api.github.com/users/tgamblin/following{/other_user}",
        "gists_url": "https://api.github.com/users/tgamblin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tgamblin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tgamblin/subscriptions",
        "organizations_url": "https://api.github.com/users/tgamblin/orgs",
        "repos_url": "https://api.github.com/users/tgamblin/repos",
        "events_url": "https://api.github.com/users/tgamblin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tgamblin/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "tgamblin",
            "id": 299842,
            "node_id": "MDQ6VXNlcjI5OTg0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/299842?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tgamblin",
            "html_url": "https://github.com/tgamblin",
            "followers_url": "https://api.github.com/users/tgamblin/followers",
            "following_url": "https://api.github.com/users/tgamblin/following{/other_user}",
            "gists_url": "https://api.github.com/users/tgamblin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tgamblin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tgamblin/subscriptions",
            "organizations_url": "https://api.github.com/users/tgamblin/orgs",
            "repos_url": "https://api.github.com/users/tgamblin/repos",
            "events_url": "https://api.github.com/users/tgamblin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tgamblin/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-08-30T04:13:32Z",
    "updated_at": "2019-09-12T17:11:27Z",
    "closed_at": "2019-09-12T17:11:27Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I just have an informal reproducer for now, but I can use command sequences like the following on hpc nodes and local Ubuntu machines to produce different results with different shells--bash seems to properly recurse through the `spack load -r package` module loads, while `tcsh` and `csh` appear to only load the target and not recurse though the dependent modules.\r\n\r\nIn reproducer.sh (with i.e., appropriate .tcshrc / .bashrc files to make spack shell commands available)\r\n\r\n```\r\n/bin/bash -c \"module purge && spack load -r gdbm && module list\"\r\n/bin/tcsh -c \"module purge; spack load -r gdbm; module list\"\r\n```\r\n\r\n```\r\ntreddy@adobe:/mnt/c/Users/treddy/rough_work/spack$ ./reproducer.sh\r\nCurrently Loaded Modulefiles:\r\n  1) ncurses-6.1-gcc-5.4.0-3o765ou    2) readline-7.0-gcc-5.4.0-nxhwrg7   3) gdbm-1.18.1-gcc-5.4.0-4t5z44k\r\nCurrently Loaded Modulefiles:\r\n  1) gdbm-1.18.1-gcc-5.4.0-4t5z44k\r\n```\r\n\r\nIs `spack load -r package` currently being tested for functional parity on the different shells? A visual inspection of the sourcing scripts seems to show quite a bit more parsing / handling in the bash vs. c-shell variant setup script. If there's no intention to have feature parity, I suppose a warning might be in order?",
    "performed_via_github_app": null
}