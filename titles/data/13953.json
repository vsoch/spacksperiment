{
    "url": "https://api.github.com/repos/spack/spack/issues/13953",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13953/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13953/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13953/events",
    "html_url": "https://github.com/spack/spack/issues/13953",
    "id": 531352858,
    "node_id": "MDU6SXNzdWU1MzEzNTI4NTg=",
    "number": 13953,
    "title": "RFC: improvements for \"resource\" documentation",
    "user": {
        "login": "hartzell",
        "id": 312978,
        "node_id": "MDQ6VXNlcjMxMjk3OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/312978?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hartzell",
        "html_url": "https://github.com/hartzell",
        "followers_url": "https://api.github.com/users/hartzell/followers",
        "following_url": "https://api.github.com/users/hartzell/following{/other_user}",
        "gists_url": "https://api.github.com/users/hartzell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hartzell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hartzell/subscriptions",
        "organizations_url": "https://api.github.com/users/hartzell/orgs",
        "repos_url": "https://api.github.com/users/hartzell/repos",
        "events_url": "https://api.github.com/users/hartzell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hartzell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-12-02T17:47:35Z",
    "updated_at": "2019-12-02T17:51:22Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I'm adding resources to packages in pursuit of a GoPackage class (#13023) and have found that the documentation isn't as useful as it could be.\r\n\r\nI'd like to improve the situation, hopefully without falling too deeply into the rabbit hole.  \r\n\r\n- Here's the [Resources bit from the Packaging Guide](https://spack.readthedocs.io/en/latest/packaging_guide.html#resources-expanding-extra-tarballs).\r\n- Here's the bit [for the resource module from the API documentation](https://spack.readthedocs.io/en/latest/spack.html#module-spack.resource).\r\n- Here's the bit [for the resource directive from the API documentation](https://spack.readthedocs.io/en/latest/spack.html#spack.directives.resource)\r\n\r\nThe union of the possible keywords from those sources is\r\n\r\n- when (directive)\r\n- destination (guide, directive)\r\n- placement (directive)\r\n- name (guide)\r\n- git (guide)\r\n- tag (guide)\r\n\r\nSome things I found to be missing include:\r\n\r\n- Fetcher strategies add their own main keyword (e.g. `git`) and drag along various other keywords (`tag`, `branch`, `commit`, and ???).\r\n- There are other fetch strategies....\r\n- Defining a destination causes things to be unpacked into `destination/spack-src`, while defining `placement` avoids the `spack-src` (details [in the code](https://github.com/spack/spack/blob/develop/lib/spack/spack/stage.py#L572-L616)).\r\n\r\nI think that the solution is to add documentation to the Packaging Guide.  I'd like to refer to the docs for the various fetch strategies, but I'm not seeing any on the readthedocs site.\r\n\r\nI'd appreciate feedback before I dive in.  Particularly, are their any doc rewrites in progress that I'd be duplicating (or invalidating, or ...)?\r\n\r\nThanks!",
    "performed_via_github_app": null
}