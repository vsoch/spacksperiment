{
    "url": "https://api.github.com/repos/spack/spack/issues/16269",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16269/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16269/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16269/events",
    "html_url": "https://github.com/spack/spack/issues/16269",
    "id": 605906491,
    "node_id": "MDU6SXNzdWU2MDU5MDY0OTE=",
    "number": 16269,
    "title": "Installation issue: ncurses fails to build with XL compiler on ORNL ascent power system",
    "user": {
        "login": "jgalarowicz",
        "id": 630197,
        "node_id": "MDQ6VXNlcjYzMDE5Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/630197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgalarowicz",
        "html_url": "https://github.com/jgalarowicz",
        "followers_url": "https://api.github.com/users/jgalarowicz/followers",
        "following_url": "https://api.github.com/users/jgalarowicz/following{/other_user}",
        "gists_url": "https://api.github.com/users/jgalarowicz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jgalarowicz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jgalarowicz/subscriptions",
        "organizations_url": "https://api.github.com/users/jgalarowicz/orgs",
        "repos_url": "https://api.github.com/users/jgalarowicz/repos",
        "events_url": "https://api.github.com/users/jgalarowicz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jgalarowicz/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-04-23T22:09:57Z",
    "updated_at": "2020-10-15T17:50:53Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install ncurses %xl@16.1\r\nNote:  ncurses-6.1 builds, but ncurses-6.2 does not.\r\n```\r\n### Information on your system\r\n\r\n* **Spack:** 0.11.2-6823-0c0f11c\r\n* **Python:** 2.7.5\r\n* **Platform:** linux-rhel7-power9le\r\n\r\nno special package or module details.\r\n\r\n### Additional information\r\n\r\n[ncurses.console-out.txt](https://github.com/spack/spack/files/4525559/ncurses.console-out.txt)\r\n[ncurses-spack-build-out.txt](https://github.com/spack/spack/files/4525560/ncurses-spack-build-out.txt)\r\n[ncurses-spack-env.out.txt](https://github.com/spack/spack/files/4529246/ncurses-spack-env.out.txt)\r\n\r\n\r\n\r\nNo ncurses maintainers were listed\r\n\r\n### General information\r\n```[jgalarowicz@login1.ascent spack]$ spack install ncurses%xl@16.1\r\n==> 117968: Installing pkgconf\r\n==> Fetching http://distfiles.dereferenced.org/pkgconf/pkgconf-1.6.3.tar.xz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/jgalarowicz/spack-stage/spack-stage-pkgconf-1.6.3-awpimum6skyuvi2hbjaunqbyffeyjofm/pkgconf-1.6.3.tar.xz\r\n==> Created stage in /tmp/jgalarowicz/spack-stage/spack-stage-pkgconf-1.6.3-awpimum6skyuvi2hbjaunqbyffeyjofm\r\n==> No patches needed for pkgconf\r\n==> 117968: pkgconf: Building pkgconf [AutotoolsPackage]\r\n==> 117968: pkgconf: Executing phase: 'autoreconf'\r\n==> 117968: pkgconf: Executing phase: 'configure'\r\n==> 117968: pkgconf: Executing phase: 'build'\r\n==> 117968: pkgconf: Executing phase: 'install'\r\n==> 117968: pkgconf: Successfully installed pkgconf\r\n  Fetch: 0.49s.  Build: 6.12s.  Total: 6.61s.\r\n[+] /autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/pkgconf-1.6.3-awpimum6skyuvi2hbjaunqbyffeyjofm\r\n==> 117968: Installing ncurses\r\n==> Fetching https://ftpmirror.gnu.org/ncurses/ncurses-6.2.tar.gz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/jgalarowicz/spack-stage/spack-stage-ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g/ncurses-6.2.tar.gz\r\n==> Created stage in /tmp/jgalarowicz/spack-stage/spack-stage-ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g\r\n==> No patches needed for ncurses\r\n==> 117968: ncurses: Building ncurses [AutotoolsPackage]\r\n==> 117968: ncurses: Executing phase: 'autoreconf'\r\n==> 117968: ncurses: Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '../configure' '--prefix=/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g' '--disable-stripping' '--with-shared' '--with-cxx-shared' '--enable-overwrite' '--without-ada' '--enable-pc-files' '--with-pkg-config-libdir=/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g/lib/pkgconfig' '--with-termlib' '--enable-termcap' '--enable-getcap' '--enable-tcap-names' '--disable-widec' '--without-manpages' '--without-tests'\r\n\r\n2 errors found in build log:\r\n     220    checking whether time.h and sys/time.h may both be included... yes\r\n     221    checking for regcomp... no\r\n     222    checking for regcomp in -lregex... no\r\n     223    checking for regcomp in -lre... no\r\n     224    checking for compile... no\r\n     225    checking for compile in -lgen... no\r\n  >> 226    configure: WARNING: cannot find regular expression library\r\n     227    checking for regular-expression headers... no\r\n     228    configure: WARNING: no regular expression header found\r\n     229    checking for fcntl.h... yes\r\n     230    checking for getopt.h... yes\r\n     231    checking for limits.h... yes\r\n     232    checking for locale.h... yes\r\n\r\n     ...\r\n\r\n     281    checking for strstr... no\r\n     282    checking for sysconf... no\r\n     283    checking for tcgetpgrp... no\r\n     284    checking for times... no\r\n     285    checking for tsearch... no\r\n     286    checking for vsnprintf... no\r\n  >> 287    configure: error: getopt is required for building programs\r\n\r\nSee build log for details:\r\n  /tmp/jgalarowicz/spack-stage/spack-stage-ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g/spack-build-out.txt\r\n\r\n==> Error: Failed to install ncurses due to ChildError: ProcessError: Command exited with status 1:\r\n    '../configure' '--prefix=/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g' '--disable-stripping' '--with-shared' '--with-cxx-shared' '--enable-overwrite' '--without-ada' '--enable-pc-files' '--with-pkg-config-libdir=/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g/lib/pkgconfig' '--with-termlib' '--enable-termcap' '--enable-getcap' '--enable-tcap-names' '--disable-widec' '--without-manpages' '--without-tests'\r\n2 errors found in build log:\r\n     220    checking whether time.h and sys/time.h may both be included... yes\r\n     221    checking for regcomp... no\r\n     222    checking for regcomp in -lregex... no\r\n     223    checking for regcomp in -lre... no\r\n     224    checking for compile... no\r\n     225    checking for compile in -lgen... no\r\n  >> 226    configure: WARNING: cannot find regular expression library\r\n     227    checking for regular-expression headers... no\r\n     228    configure: WARNING: no regular expression header found\r\n     229    checking for fcntl.h... yes\r\n     230    checking for getopt.h... yes\r\n     231    checking for limits.h... yes\r\n     232    checking for locale.h... yes\r\n\r\n     ...\r\n\r\n     281    checking for strstr... no\r\n     282    checking for sysconf... no\r\n     283    checking for tcgetpgrp... no\r\n     284    checking for times... no\r\n     285    checking for tsearch... no\r\n     286    checking for vsnprintf... no\r\n  >> 287    configure: error: getopt is required for building programs\r\n\r\nSee build log for details:\r\n  /tmp/jgalarowicz/spack-stage/spack-stage-ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/lib/spack/spack/build_environment.py\", line 802, in child_process\r\n    return_value = function()\r\n  File \"/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/lib/spack/spack/installer.py\", line 1113, in build_process\r\n    phase(pkg.spec, pkg.prefix)\r\n  File \"/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/lib/spack/spack/package.py\", line 108, in phase_wrapper\r\n    phase(spec, prefix)\r\n  File \"/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/var/spack/repos/builtin/packages/ncurses/package.py\", line 84, in configure\r\n  File \"/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n    proc.returncode, long_msg)\r\nProcessError: Command exited with status 1:\r\n    '../configure' '--prefix=/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g' '--disable-stripping' '--with-shared' '--with-cxx-shared' '--enable-overwrite' '--without-ada' '--enable-pc-files' '--with-pkg-config-libdir=/autofs/nccsopen-svm1_home/jgalarowicz/new.spack/spack/opt/spack/linux-rhel7-power9le/xl-16.1/ncurses-6.2-qa7hyuehtwfmio64azsq2zl6ndmfso6g/lib/pkgconfig' '--with-termlib' '--enable-termcap' '--enable-getcap' '--enable-tcap-names' '--disable-widec' '--without-manpages' '--without-tests'\r\n\r\n[jgalarowicz@login1.ascent spack]$ spack --version\r\n0.11.2-6824-a844467\r\n```\r\n\r\n",
    "performed_via_github_app": null
}