{
    "url": "https://api.github.com/repos/spack/spack/issues/23198",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/23198/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/23198/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/23198/events",
    "html_url": "https://github.com/spack/spack/issues/23198",
    "id": 864617987,
    "node_id": "MDU6SXNzdWU4NjQ2MTc5ODc=",
    "number": 23198,
    "title": " Error: Cannot find directory sc/config when spack install --keep-stage -v p4est",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-04-22T07:07:58Z",
    "updated_at": "2021-06-11T06:46:22Z",
    "closed_at": "2021-06-11T06:46:22Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Thanks for taking the time to report this build failure. To proceed with the report please:\r\n\r\n1. Title the issue \"Installation issue: <name-of-the-package>\".\r\n2. Provide the information required below.\r\n\r\nWe encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively! -->\r\nI meet a problem about error: cannot find directory sc/config when spack install --keep-stage -v p4est.\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n[root@centos8 p4est]# git diff\r\ndiff --git a/__pycache__/package.cpython-36.pyc b/__pycache__/package.cpython-36.pyc\r\nindex 00cbdd1..54a829c 100644\r\nBinary files a/__pycache__/package.cpython-36.pyc and b/__pycache__/package.cpython-36.pyc differ\r\ndiff --git a/package.py b/package.py\r\nindex b7c2a80..85337b0 100644\r\n--- a/package.py\r\n+++ b/package.py\r\n@@ -10,13 +10,15 @@ class P4est(AutotoolsPackage):\r\n     \"\"\"Dynamic management of a collection (a forest) of adaptive octrees in\r\n     parallel\"\"\"\r\n     homepage = \"http://www.p4est.org\"\r\n-    url      = \"http://p4est.github.io/release/p4est-2.2.tar.gz\"\r\n+    url      = \"https://github.com/cburstedde/p4est/archive/refs/tags/v2.3.1.tar.gz\"\r\n\r\n     maintainers = ['davydden']\r\n\r\n-    version('2.2', sha256='1549cbeba29bee2c35e7cc50a90a04961da5f23b6eada9c8047f511b90a8e438')\r\n-    version('2.0', sha256='c522c5b69896aab39aa5a81399372a19a6b03fc6200d2d5d677d9a22fe31029a')\r\n-    version('1.1', sha256='0b5327a35f0c869bf920b8cab5f20caa4eb55692eaaf1f451d5de30285b25139')\r\n+    version('2.3.1', sha256='8acd592863f440656f8a97561f323b7e888fd82127203c06ae2e14753dea66a2')\r\n+    version('2.3',   sha256='3fa2471888e07152d77e002d216d109c0d8bbc144fe3fd89833845883e28d3b8')\r\n+    version('2.2',   sha256='7df0e9a161b6ea680324dfdbc0ffc6e0d0a6c9c9b0ea5b37c973e71a054226c2')\r\n+    version('2.1',   sha256='83938a46a016f1836e63b63800366b8c9906f246bc8340aaebb6e74fd9de590b')\r\n+    version('2.0',   sha256='1533989c089253372bf3a134740a06cad3fff6c6e9969c09dc31ee14b27f1efe')\r\n\r\n     variant('mpi', default=True, description='Enable MPI')\r\n     variant('openmp', default=False, description='Enable OpenMP')\r\n[root@centos8 p4est]# spack install --keep-stage -v p4est\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libiconv-1.16-dx2c372kkymixiwrw6jtba3gruhddu2d\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/pkgconf-1.7.4-ikffkz6hwfns2buce5tud6347cqoqvmo\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/xz-5.2.5-n6x7ibnlnr5sovxoy5kjhhglcjerbgyy\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/zlib-1.2.11-4jtfw6w6w3p7fk6kmewvik22samcjo6c\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/berkeley-db-18.1.40-3iikdjqje7xysxuarta4utetdcastamc\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libsigsegv-2.12-hlg3277qpi5cifqonc2bnetgdfdphdiz\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/util-macros-1.19.1-qfkzudf2vypexlneptcntzr6pio3dqga\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/diffutils-3.7-gnxhse3mokojswxuezy564565dydg2dk\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/tar-1.34-iofxsdlyeidhhmnwjxgo7re7bmotcsnd\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/ncurses-6.2-izz664uhnirqbradwycfl4t3fmvspqoh\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libxml2-2.9.10-ufo5plslr5ucnhxrhv4a5iuyuzbh6vh3\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/m4-1.4.18-hqb7zucblvvteuesapp37gfak3biyh7s\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/bzip2-1.0.8-corln5kph65itvn6xbh3qdtx4aemcwmd\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/readline-8.1-ub23eamogfdea4hlpltmsawi7ruaj7dl\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libedit-3.1-20210216-pxtfofimtus3iwnvj2wv7qjaatyjvd2g\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libtool-2.4.6-6w2yuvybjmm6amwr7ydluafb3tgtnacx\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/gettext-0.21-nain2gv5tap5zyzepj6ixm24mye6r35q\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/gdbm-1.19-iljm5hybzvpmb37ksmxoiqokwyi4gsy7\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libpciaccess-0.16-t5wplngigwwetserfoefxgufneuvngcz\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/perl-5.32.1-qcuhfwae7o6bqouwvwnohfsqiazet2xo\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/hwloc-2.4.1-jy354ker4ydbxe34zmguqegdptyz6x3z\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/openssl-1.1.1k-md4i3kcjdpija6oxvrkub3uwju6guonc\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/help2man-1.47.16-k3y7dgufyol3splvwhqxlwguriyhkiuj\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/libevent-2.1.12-k2zwaz536ffznr75l2gfrlbsiwb5364y\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/openssh-8.5p1-67vztjfqx2d3ly5lxsp3xbkzzs4sr6fe\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/autoconf-2.69-fjucuvzpdplzq3frxgqkgsmr5m5mtazs\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/automake-1.16.3-mk32b2yjmnlcelep7hstxzjvqjfu3mgv\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/numactl-2.0.14-rkccr7zomsdfg42x4ey2ibrjygeecp4n\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.3.1/openmpi-4.0.5-zxif3uzbw7ptczcmc3k7weeukc4h5v56\r\n==> Installing p4est-2.3.1-rkclnjl3n6mz2ysx75crfcq2x4qsaxg4\r\n==> No binary for p4est-2.3.1-rkclnjl3n6mz2ysx75crfcq2x4qsaxg4 found: installing from source\r\n==> Fetching https://github.com/cburstedde/p4est/archive/refs/tags/v2.3.1.tar.gz\r\n################################################################################################################################################################################################## 100.0%  -=O=-   #        #         #           #\r\n==> No patches needed for p4est\r\n==> p4est: Executing phase: 'autoreconf'\r\n==> [2021-04-22-14:54:29.444474] './bootstrap'\r\nError: Cannot find directory sc/config\r\n   If you just called ./bootstrap from a fresh clone of p4est\r\n   you may need to checkout the submodule sc:\r\n   $ git submodule init && git submodule update\r\n==> Error: ProcessError: Command exited with status 1:\r\n    './bootstrap'\r\n\r\n1 error found in build log:\r\n  >> 3    Error: Cannot find directory sc/config\r\n     4       If you just called ./bootstrap from a fresh clone of p4est\r\n     5       you may need to checkout the submodule sc:\r\n     6       $ git submodule init && git submodule update\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-p4est-2.3.1-rkclnjl3n6mz2ysx75crfcq2x4qsaxg4/spack-build-out.txt\r\n```\r\nI wanted to update the p4est version, but the old website: https://github.com/p4est/p4est.github.io/tree/master/release/. was updated to version 2.2. Now, according to the official documentation, the latest version has been submitted to the new website: https://github.com/cburstedde/p4est., but I had an accident here. The SC submodule of the release version used by the p4EST is empty. The error is as follows.\r\nI used another method to change:\r\n```console\r\ndiff --git a/var/spack/repos/builtin/packages/p4est/package.py b/var/spack/repos/builtin/packages/p4est/package.py\r\nindex b7c2a80da3..8366edf368 100644\r\n--- a/var/spack/repos/builtin/packages/p4est/package.py\r\n+++ b/var/spack/repos/builtin/packages/p4est/package.py\r\n@@ -10,10 +10,12 @@ class P4est(AutotoolsPackage):\r\n     \"\"\"Dynamic management of a collection (a forest) of adaptive octrees in\r\n     parallel\"\"\"\r\n     homepage = \"http://www.p4est.org\"\r\n-    url      = \"http://p4est.github.io/release/p4est-2.2.tar.gz\"\r\n+    url      = \"https://github.com/cburstedde/p4est/archive/refs/tags/v2.3.1.tar.gz\"\r\n+    git      = \"https://github.com/cburstedde/p4est.git\"\r\n \r\n     maintainers = ['davydden']\r\n \r\n+    version('2.3.1', tag='v2.3.1', submodules=True)\r\n     version('2.2', sha256='1549cbeba29bee2c35e7cc50a90a04961da5f23b6eada9c8047f511b90a8e438')\r\n     version('2.0', sha256='c522c5b69896aab39aa5a81399372a19a6b03fc6200d2d5d677d9a22fe31029a')\r\n     version('1.1', sha256='0b5327a35f0c869bf920b8cab5f20caa4eb55692eaaf1f451d5de30285b25139')\r\n```\r\nAlthough this approach allows the p4est compilation to be installed through, and even the sc submodules can be downloaded, doing so would destroy previous users' content. I hope you can provide a good p4est modification, compilation and installation can pass, sc submodules can also be updated to the corresponding version.\r\n### Information on your system\r\n[root@centos8 p4est]# spack debug report\r\n* **Spack:** 0.16.1-2263-181341c8b3\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n* **Concretizer:** original\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- Please upload the following files. They should be present in the stage directory of the failing build. Also upload any config.log or similar file if one exists. -->\r\n* [spack-build-out.txt]()\r\n* [spack-build-env.txt]()\r\n\r\n<!-- Some packages have maintainers who have volunteered to debug build failures. Run `spack maintainers <name-of-the-package>` and @mention them here if they exist. -->\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [ ] I have uploaded the build log and environment files\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}