{
    "url": "https://api.github.com/repos/spack/spack/issues/7665",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/7665/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/7665/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/7665/events",
    "html_url": "https://github.com/spack/spack/issues/7665",
    "id": 311043336,
    "node_id": "MDU6SXNzdWUzMTEwNDMzMzY=",
    "number": 7665,
    "title": "\"zlib.h: No such file or directory\" but zlib is installed and confirmed via Spack. Help? ",
    "user": {
        "login": "j-ogas",
        "id": 9555241,
        "node_id": "MDQ6VXNlcjk1NTUyNDE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9555241?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/j-ogas",
        "html_url": "https://github.com/j-ogas",
        "followers_url": "https://api.github.com/users/j-ogas/followers",
        "following_url": "https://api.github.com/users/j-ogas/following{/other_user}",
        "gists_url": "https://api.github.com/users/j-ogas/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/j-ogas/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/j-ogas/subscriptions",
        "organizations_url": "https://api.github.com/users/j-ogas/orgs",
        "repos_url": "https://api.github.com/users/j-ogas/repos",
        "events_url": "https://api.github.com/users/j-ogas/events{/privacy}",
        "received_events_url": "https://api.github.com/users/j-ogas/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2018-04-04T00:26:04Z",
    "updated_at": "2018-04-06T20:44:54Z",
    "closed_at": "2018-04-06T20:44:54Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "When attempting to install the `serf` package via Spack, it fails saying that zlib.h cannot be found. However, when I type `spack find zlib` I see it is indeed installed. Furthermore, at the beginning of the serf package install it says `zlib is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/zlib-1.2.11-lgevn3ckxbm4sxwjdoq3k5qfgmpsjt7o`.\r\n\r\nI apologize if I have missed something trivial but I have been unable to move past this issue. Please let me know if there is something I did wrong!\r\n\r\n### Expected Result\r\n\r\n`spack install serf`\r\ninstalls without error\r\n\r\n### Actual Result\r\n\r\n```$ /spack/share/spack$ spack install serf\r\n==> apr is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapuia5wsx3qaj57z7m\r\n==> libbsd is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/libbsd-0.8.6-kbcxkq2bbidrapfst4wpcnsictq2irx4\r\n==> expat is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo\r\n==> libiconv is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse\r\n==> **zlib is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/zlib-1.2.11-lgevn3ckxbm4sxwjdoq3k5qfgmpsjt7o**\r\n==> openssl is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v\r\n==> apr-util is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c\r\n==> bzip2 is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/bzip2-1.0.6-pkzuknqz57o4x4riltavgvi56e4bkkvs\r\n==> pkgconf is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/pkgconf-1.4.0-5elovbvlolf2qem6dyvmxvvkom23unkb\r\n==> ncurses is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/ncurses-6.0-l6eyrwifxfv3akoimxvhkq7rdfoganol\r\n==> readline is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/readline-7.0-qxxrlvhtch3ch5z5pvqvk6zgnz44zuaa\r\n==> gdbm is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/gdbm-1.14.1-ghicvnjqeyecj5pfobqw5ohn7dn5wemo\r\n==> sqlite is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/sqlite-3.22.0-ytrwvm2e6wssqy2mpopkuipewg7lxjnf\r\n==> python is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/python-2.7.14-wqv2wxmakqkscbp22ylhgdufiilnay3d\r\n==> scons is already installed in /spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/scons-3.0.1-wld5wum4o3moc6nyx5hjwlohlrbse5bk\r\n==> Installing serf\r\n==> Using cached archive: /spack/var/spack/cache/serf/serf-1.3.9.tar.bz2\r\n==> Staging archive: /spack/var/spack/stage/serf-1.3.9-34o6k34f3eyy4jq4p7vg3yr6kjp2gsxc/serf-1.3.9.tar.bz2\r\n==> Created stage in /spack/var/spack/stage/serf-1.3.9-34o6k34f3eyy4jq4p7vg3yr6kjp2gsxc\r\n==> No patches needed for serf\r\n==> Building serf [SConsPackage]\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'scons' 'PREFIX=/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/serf-1.3.9-34o6k34f3eyy4jq4p7vg3yr6kjp2gsxc' 'APR=/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapuia5wsx3qaj57z7m' 'APU=/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c' 'OPENSSL=/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v' 'ZLIB=/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/zlib-1.2.11-lgevn3ckxbm4sxwjdoq3k5qfgmpsjt7o' 'DEBUG=no' 'CC=/usr/bin/gcc-6'\r\n\r\n1 error found in build log:\r\n     13    /usr/bin/gcc-6 -o buckets/barrier_buckets.o -c -std=c89 -Wdeclaration-after-statement -Wmissing-prototypes -Wall -g -O2 -pthrea\r\n           d -DNDEBUG -DLINUX -D_REENTRANT -D_GNU_SOURCE -I. -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapu\r\n           ia5wsx3qaj57z7m/include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c\r\n           /include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include -I/spa\r\n           ck/opt/spack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo/include -I/spack/opt/spack/linux-debia\r\n           n9-x86_64/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse/include -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/op\r\n           enssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include buckets/barrier_buckets.c\r\n     14    /usr/bin/gcc-6 -o buckets/buckets.o -c -std=c89 -Wdeclaration-after-statement -Wmissing-prototypes -Wall -g -O2 -pthread -DNDEB\r\n           UG -DLINUX -D_REENTRANT -D_GNU_SOURCE -I. -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapuia5wsx3q\r\n           aj57z7m/include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c/include\r\n           /apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include -I/spack/opt/s\r\n           pack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo/include -I/spack/opt/spack/linux-debian9-x86_6\r\n           4/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse/include -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.\r\n           0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include buckets/buckets.c\r\n     15    /usr/bin/gcc-6 -o buckets/bwtp_buckets.o -c -std=c89 -Wdeclaration-after-statement -Wmissing-prototypes -Wall -g -O2 -pthread -\r\n           DNDEBUG -DLINUX -D_REENTRANT -D_GNU_SOURCE -I. -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapuia5\r\n           wsx3qaj57z7m/include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c/in\r\n           clude/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include -I/spack/\r\n           opt/spack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo/include -I/spack/opt/spack/linux-debian9-\r\n           x86_64/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse/include -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/opens\r\n           sl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include buckets/bwtp_buckets.c\r\n     16    /usr/bin/gcc-6 -o buckets/chunk_buckets.o -c -std=c89 -Wdeclaration-after-statement -Wmissing-prototypes -Wall -g -O2 -pthread \r\n           -DNDEBUG -DLINUX -D_REENTRANT -D_GNU_SOURCE -I. -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapuia\r\n           5wsx3qaj57z7m/include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c/i\r\n           nclude/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include -I/spack\r\n           /opt/spack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo/include -I/spack/opt/spack/linux-debian9\r\n           -x86_64/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse/include -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/open\r\n           ssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include buckets/chunk_buckets.c\r\n     17    /usr/bin/gcc-6 -o buckets/dechunk_buckets.o -c -std=c89 -Wdeclaration-after-statement -Wmissing-prototypes -Wall -g -O2 -pthrea\r\n           d -DNDEBUG -DLINUX -D_REENTRANT -D_GNU_SOURCE -I. -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapu\r\n           ia5wsx3qaj57z7m/include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c\r\n           /include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include -I/spa\r\n           ck/opt/spack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo/include -I/spack/opt/spack/linux-debia\r\n           n9-x86_64/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse/include -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/op\r\n           enssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include buckets/dechunk_buckets.c\r\n     18    /usr/bin/gcc-6 -o buckets/deflate_buckets.o -c -std=c89 -Wdeclaration-after-statement -Wmissing-prototypes -Wall -g -O2 -pthrea\r\n           d -DNDEBUG -DLINUX -D_REENTRANT -D_GNU_SOURCE -I. -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-1.6.2-uwes5lcvwrh42wapu\r\n           ia5wsx3qaj57z7m/include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/apr-util-1.6.0-e6fghlzggrpkg3esillio4vo2lw46f3c\r\n           /include/apr-1 -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/openssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include -I/spa\r\n           ck/opt/spack/linux-debian9-x86_64/gcc-6.3.0/expat-2.2.2-64q5ajsmgvlfjkuajo444hcddunymgpo/include -I/spack/opt/spack/linux-debia\r\n           n9-x86_64/gcc-6.3.0/libiconv-1.15-3slxs7noyeqoifg574ewtwfkgwo64bse/include -I/spack/opt/spack/linux-debian9-x86_64/gcc-6.3.0/op\r\n           enssl-1.0.2n-qq7fsrjt276e77ml6v3kj7nvz7v4ag5v/include buckets/deflate_buckets.c\r\n  >> 19    buckets/deflate_buckets.c:23:18: fatal error: zlib.h: No such file or directory\r\n     20     #include <zlib.h>\r\n     21                      ^\r\n     22    compilation terminated.\r\n     23    scons: *** [buckets/deflate_buckets.o] Error 1\r\n     24    scons: building terminated because of errors.\r\n```\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ git clone $SPACK_URL\r\n$ export PATH=$PATH:/spack/bin\r\n$ spack install libelf\r\n$ spack install curl\r\n$ spack bootstrap\r\n$ . /spack/share/spack/setup-env.sh\r\n$ spack install serf\r\n```\r\n\r\n### Information on your system\r\n\r\n * Debian 9\r\n * Followed the \"Getting Started\" tutorial from the Spack documentation (no custom modules or scriptfu). \r\n\r\n",
    "performed_via_github_app": null
}