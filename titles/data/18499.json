{
    "url": "https://api.github.com/repos/spack/spack/issues/18499",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/18499/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/18499/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/18499/events",
    "html_url": "https://github.com/spack/spack/issues/18499",
    "id": 692678679,
    "node_id": "MDU6SXNzdWU2OTI2Nzg2Nzk=",
    "number": 18499,
    "title": "Installation issue: opencascade fails because depends (indirectly?) on libsm  ",
    "user": {
        "login": "michaelkarlcoleman",
        "id": 5120,
        "node_id": "MDQ6VXNlcjUxMjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5120?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelkarlcoleman",
        "html_url": "https://github.com/michaelkarlcoleman",
        "followers_url": "https://api.github.com/users/michaelkarlcoleman/followers",
        "following_url": "https://api.github.com/users/michaelkarlcoleman/following{/other_user}",
        "gists_url": "https://api.github.com/users/michaelkarlcoleman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/michaelkarlcoleman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/michaelkarlcoleman/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelkarlcoleman/orgs",
        "repos_url": "https://api.github.com/users/michaelkarlcoleman/repos",
        "events_url": "https://api.github.com/users/michaelkarlcoleman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/michaelkarlcoleman/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-09-04T03:57:29Z",
    "updated_at": "2020-09-04T03:57:46Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Thanks for taking the time to report this build failure. To proceed with the report please:\r\n\r\n1. Title the issue \"Installation issue: <name-of-the-package>\".\r\n2. Provide the information required below.\r\n\r\nWe encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively! -->\r\n\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n\r\n$spack install -j 12 gmsh +compression +fltk +hdf5 +metis +mpi +netgen +opencascade +openmp +petsc +privateapi +shared +slepc +tetgen\r\n...\r\n6 errors found in build log:\r\n     13113    make[2]: Entering directory `/tmp/swmgr/spack-stage/spack-stage-opencascade-7.4.0p1-qje63djgl3dbw33yfup5rz2yzan2vivy/spack-build'\r\n     13114    [100%] Building CXX object src/DRAWEXE/CMakeFiles/DRAWEXE.dir/DRAWEXE.cxx.o\r\n     13115    cd /tmp/swmgr/spack-stage/spack-stage-opencascade-7.4.0p1-qje63djgl3dbw33yfup5rz2yzan2vivy/spack-build/src/DRAWEXE && /gpfs/packages/spack/spack/lib/spack/env/gcc/g++ -DOC\r\n              C_CONVERT_SIGNALS -I/gpfs/packages/spack/spack/opt/spack/linux-rhel7-broadwell/gcc-8.2.0/tcl-8.6.10-i3lyeofynlib7d3no5uiuswybtlycy2w/include -I/gpfs/packages/spack/spack/o\r\n              pt/spack/linux-rhel7-broadwell/gcc-8.2.0/tk-8.6.8-dl5fc3jenngqq4vqqejxo6ttlpaair2x/include -I/gpfs/packages/spack/spack/opt/spack/linux-rhel7-broadwell/gcc-8.2.0/freetype-\r\n              2.10.1-6rorwxsiz7ev2rqffldtcp2wnnniez3a/include/freetype2 -I/tmp/swmgr/spack-stage/spack-stage-opencascade-7.4.0p1-qje63djgl3dbw33yfup5rz2yzan2vivy/spack-build/include/ope\r\n              ncascade -std=c++0x  -fexceptions -fPIC -Wall -Wextra -O2 -g -DNDEBUG -o CMakeFiles/DRAWEXE.dir/DRAWEXE.cxx.o -c /tmp/swmgr/spack-stage/spack-stage-opencascade-7.4.0p1-qje\r\n              63djgl3dbw33yfup5rz2yzan2vivy/spack-src/src/DRAWEXE/DRAWEXE.cxx\r\n     13116    [100%] Linking CXX executable ../../lin64/gcc/bini/DRAWEXE\r\n     13117    cd /tmp/swmgr/spack-stage/spack-stage-opencascade-7.4.0p1-qje63djgl3dbw33yfup5rz2yzan2vivy/spack-build/src/DRAWEXE && /gpfs/packages/spack/spack/opt/spack/linux-rhel7-broa\r\n              dwell/gcc-8.2.0/cmake-3.18.2-c7yyfswabl45pn2gxusualjljpgnaiqw/bin/cmake -E cmake_link_script CMakeFiles/DRAWEXE.dir/link.txt --verbose=1\r\n     13118    /gpfs/packages/spack/spack/lib/spack/env/gcc/g++ -std=c++0x  -fexceptions -fPIC -Wall -Wextra -O2 -g -DNDEBUG -rdynamic @CMakeFiles/DRAWEXE.dir/objects1.rsp -o ../../lin64\r\n              /gcc/bini/DRAWEXE-7.4.0   -L/gpfs/packages/spack/spack/opt/spack/linux-rhel7-broadwell/gcc-8.2.0/freetype-2.10.1-6rorwxsiz7ev2rqffldtcp2wnnniez3a/lib  -Wl,-rpath,/gpfs/pac\r\n              kages/spack/spack/opt/spack/linux-rhel7-broadwell/gcc-8.2.0/freetype-2.10.1-6rorwxsiz7ev2rqffldtcp2wnnniez3a/lib:/tmp/swmgr/spack-stage/spack-stage-opencascade-7.4.0p1-qje\r\n              63djgl3dbw33yfup5rz2yzan2vivy/spack-build/lin64/gcc/libi:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n              ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: ../../lin64/gcc/libi/libTKDraw.so.7.4.0 .\r\n              ./../lin64/gcc/libi/libTKMesh.so.7.4.0 ../../lin64/gcc/libi/libTKShHealing.so.7.4.0 ../../lin64/gcc/libi/libTKHLR.so.7.4.0 ../../lin64/gcc/libi/libTKService.so.7.4.0 ../..\r\n              /lin64/gcc/libi/libTKTopAlgo.so.7.4.0 ../../lin64/gcc/libi/libTKGeomAlgo.so.7.4.0 ../../lin64/gcc/libi/libTKBRep.so.7.4.0 ../../lin64/gcc/libi/libTKGeomBase.so.7.4.0 ../..\r\n              /lin64/gcc/libi/libTKG3d.so.7.4.0 ../../lin64/gcc/libi/libTKG2d.so.7.4.0 ../../lin64/gcc/libi/libTKMath.so.7.4.0 ../../lin64/gcc/libi/libTKernel.so.7.4.0 -lpthread -lrt -l\r\n              stdc++ -ldl -lGL -lfontconfig /gpfs/packages/spack/spack/opt/spack/linux-rhel7-broadwell/gcc-8.2.0/freetype-2.10.1-6rorwxsiz7ev2rqffldtcp2wnnniez3a/lib/libfreetype.so -ltc\r\n              l -ltk -lX11 -lXext -lXmu -lXi\r\n  >> 13119    //usr/lib64/libSM.so.6: undefined reference to `uuid_unparse_lower@@UUID_1.0'\r\n  >> 13120    //usr/lib64/libSM.so.6: undefined reference to `uuid_generate@@UUID_1.0'\r\n  >> 13121    collect2: error: ld returned 1 exit status\r\n```\r\n\r\nI added a `depends_on` of `libsm` to the `opencascade` recipe and it successfully built.  There no direct dependency, but I suspect this is actually an undeclared (possibly indirect) dependency of `tk` or `vtk` (as a guess).  Not sure how to efficiently narrow it down.\r\n\r\n### Information on your system\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n* **Spack:** 0.15.4-850-6fcec1d\r\n* **Python:** 3.7.1\r\n* **Platform:** linux-rhel7-broadwell\r\n\r\nThis is on the head of `develop` pulled sometime today.\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- Please upload the following files. They should be present in the stage directory of the failing build. Also upload any config.log or similar file if one exists. -->\r\n* [spack-build-out.txt]()\r\n* [spack-build-env.txt]()\r\n\r\n<!-- Some packages have maintainers who have volunteered to debug build failures. Run `spack maintainers <name-of-the-package>` and @mention them here if they exist. -->\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [x] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [ ] I have uploaded the build log and environment files\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}