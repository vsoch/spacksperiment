{
    "url": "https://api.github.com/repos/spack/spack/issues/10504",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10504/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10504/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10504/events",
    "html_url": "https://github.com/spack/spack/pull/10504",
    "id": 406470867,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjUwMTYxMjky",
    "number": 10504,
    "title": "Make yaml-cpp build with libc++",
    "user": {
        "login": "becker33",
        "id": 13971568,
        "node_id": "MDQ6VXNlcjEzOTcxNTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/13971568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/becker33",
        "html_url": "https://github.com/becker33",
        "followers_url": "https://api.github.com/users/becker33/followers",
        "following_url": "https://api.github.com/users/becker33/following{/other_user}",
        "gists_url": "https://api.github.com/users/becker33/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/becker33/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/becker33/subscriptions",
        "organizations_url": "https://api.github.com/users/becker33/orgs",
        "repos_url": "https://api.github.com/users/becker33/repos",
        "events_url": "https://api.github.com/users/becker33/events{/privacy}",
        "received_events_url": "https://api.github.com/users/becker33/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-02-04T18:58:34Z",
    "updated_at": "2019-10-23T06:36:45Z",
    "closed_at": "2019-06-26T21:29:09Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/10504",
        "html_url": "https://github.com/spack/spack/pull/10504",
        "diff_url": "https://github.com/spack/spack/pull/10504.diff",
        "patch_url": "https://github.com/spack/spack/pull/10504.patch"
    },
    "body": "When built with tests, yaml-cpp vendors gtest. gtest (at least how it is built within yaml-cpp) does not properly understand clang's libc++, and includes `cxxabi.h` headers that are only for use with libstdc++.\r\n\r\nThis PR does not fix the issue of yaml-cpp vendoring a test dependency. It merely presents a `tests` variant for yaml-cpp and expresses the conflict between that variant and `cxxflags=-stdlib=libc++`.\r\n\r\nBecause `cxxflags=-stdlib=libc++` is not satisfied by `cxxflags=-stdlib=libc++ -O3` or any other spec that includes the problem flag along with others, I've added handling in the flag handler to catch those situations and throw an error. It's not as good as a conflict, but it's a workaround until we think of something better.\r\n\r\nThis will allow users to build yaml-cpp with libc++, as long as they don't require the tests, and it presents usable, if not ideal, error handling.",
    "performed_via_github_app": null
}