{
    "url": "https://api.github.com/repos/spack/spack/issues/8637",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8637/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8637/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8637/events",
    "html_url": "https://github.com/spack/spack/issues/8637",
    "id": 337917016,
    "node_id": "MDU6SXNzdWUzMzc5MTcwMTY=",
    "number": 8637,
    "title": "spack fetch does not fetch patches",
    "user": {
        "login": "zephyr111",
        "id": 6502157,
        "node_id": "MDQ6VXNlcjY1MDIxNTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6502157?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zephyr111",
        "html_url": "https://github.com/zephyr111",
        "followers_url": "https://api.github.com/users/zephyr111/followers",
        "following_url": "https://api.github.com/users/zephyr111/following{/other_user}",
        "gists_url": "https://api.github.com/users/zephyr111/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zephyr111/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zephyr111/subscriptions",
        "organizations_url": "https://api.github.com/users/zephyr111/orgs",
        "repos_url": "https://api.github.com/users/zephyr111/repos",
        "events_url": "https://api.github.com/users/zephyr111/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zephyr111/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446643530,
            "node_id": "MDU6TGFiZWw0NDY2NDM1MzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/fetching",
            "name": "fetching",
            "color": "fbca04",
            "default": false,
            "description": null
        },
        {
            "id": 446756736,
            "node_id": "MDU6TGFiZWw0NDY3NTY3MzY=",
            "url": "https://api.github.com/repos/spack/spack/labels/mirrors",
            "name": "mirrors",
            "color": "ade2f2",
            "default": false,
            "description": null
        },
        {
            "id": 620268714,
            "node_id": "MDU6TGFiZWw2MjAyNjg3MTQ=",
            "url": "https://api.github.com/repos/spack/spack/labels/patch",
            "name": "patch",
            "color": "5319e7",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2018-07-03T14:10:55Z",
    "updated_at": "2018-12-16T18:15:23Z",
    "closed_at": "2018-12-16T18:15:23Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Expected Result\r\n\r\nThe command \"spack fetch [package]\" fetches an archive, but not patches required for its installation.\r\nSince some supercomputers block any direct access to the internet, the user must download each patch file manually (in addition to upload prefetched packages). Otherwise, the command \"spack install\" will freeze, waiting for fetching required patches.\r\nThus, it would be better to download patch files during a fetch (or to add an option to retrieve them).\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack fetch perl\r\n==> Using cached archive: /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/cache/perl/perl-5.26.2.tar.gz\r\n==> Using cached archive: /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/cache/perl/cpanm-5.26.2.tar.gz\r\n$ spack install perl\r\n==> pkgconf is already installed in /panfs/panasas/cnt0041/cvt1605/jrichard/spack/opt/spack/linux-rhel7-x86_64/gcc-6.2.0/pkgconf-1.4.2-ee3vfl4nwkiyh3d4kjxnd35g4k4iiuq2\r\n==> ncurses is already installed in /panfs/panasas/cnt0041/cvt1605/jrichard/spack/opt/spack/linux-rhel7-x86_64/gcc-6.2.0/ncurses-6.1-ebsk7waunygpogrdjpdz66vjejqu3sym\r\n==> readline is already installed in /panfs/panasas/cnt0041/cvt1605/jrichard/spack/opt/spack/linux-rhel7-x86_64/gcc-6.2.0/readline-7.0-be7rllfeh3aoruimktzxv57b5vsesbiv\r\n==> gdbm is already installed in /panfs/panasas/cnt0041/cvt1605/jrichard/spack/opt/spack/linux-rhel7-x86_64/gcc-6.2.0/gdbm-1.14.1-j3hi4vxq5ftk7ablb2wftqo5di23j6tw\r\n==> Installing perl\r\n==> Using cached archive: /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/cache/perl/perl-5.26.2.tar.gz\r\n==> Using cached archive: /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/cache/perl/cpanm-5.26.2.tar.gz\r\n==> Staging archive: /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/stage/perl-5.26.2-nuce4hn4ijcs72zlhd3aaz36kctrxtsc/perl-5.26.2.tar.gz\r\n==> Created stage in /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/stage/perl-5.26.2-nuce4hn4ijcs72zlhd3aaz36kctrxtsc\r\n==> Staging archive: /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/stage/resource-cpanm-nuce4hn4ijcs72zlhd3aaz36kctrxtsc/App-cpanminus-1.7042.tar.gz\r\n==> Created stage in /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/stage/resource-cpanm-nuce4hn4ijcs72zlhd3aaz36kctrxtsc\r\n==> Moving resource stage\r\n\tsource : /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/stage/resource-cpanm-nuce4hn4ijcs72zlhd3aaz36kctrxtsc/App-cpanminus-1.7042/\r\n\tdestination : /panfs/panasas/cnt0041/cvt1605/jrichard/spack/var/spack/stage/perl-5.26.2-nuce4hn4ijcs72zlhd3aaz36kctrxtsc/perl-5.26.2/cpanm/cpanm\r\n==> Fetching https://src.fedoraproject.org/rpms/perl/raw/004cea3a67df42e92ffdf4e9ac36d47a3c6a05a4/f/perl-5.26.1-guard_old_libcrypt_fix.patch\r\n...\r\n```\r\n",
    "performed_via_github_app": null
}