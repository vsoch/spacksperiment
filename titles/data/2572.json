{
    "url": "https://api.github.com/repos/spack/spack/issues/2572",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2572/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2572/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2572/events",
    "html_url": "https://github.com/spack/spack/issues/2572",
    "id": 195296005,
    "node_id": "MDU6SXNzdWUxOTUyOTYwMDU=",
    "number": 2572,
    "title": "Spack on Cray KNL system and module detection error",
    "user": {
        "login": "pramodk",
        "id": 666852,
        "node_id": "MDQ6VXNlcjY2Njg1Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/666852?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pramodk",
        "html_url": "https://github.com/pramodk",
        "followers_url": "https://api.github.com/users/pramodk/followers",
        "following_url": "https://api.github.com/users/pramodk/following{/other_user}",
        "gists_url": "https://api.github.com/users/pramodk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pramodk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pramodk/subscriptions",
        "organizations_url": "https://api.github.com/users/pramodk/orgs",
        "repos_url": "https://api.github.com/users/pramodk/repos",
        "events_url": "https://api.github.com/users/pramodk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pramodk/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446615268,
            "node_id": "MDU6TGFiZWw0NDY2MTUyNjg=",
            "url": "https://api.github.com/repos/spack/spack/labels/compilers",
            "name": "compilers",
            "color": "f9d0c4",
            "default": false,
            "description": null
        },
        {
            "id": 446614485,
            "node_id": "MDU6TGFiZWw0NDY2MTQ0ODU=",
            "url": "https://api.github.com/repos/spack/spack/labels/cray",
            "name": "cray",
            "color": "b60205",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 15,
    "created_at": "2016-12-13T16:12:58Z",
    "updated_at": "2017-01-09T18:37:19Z",
    "closed_at": "2017-01-09T18:37:19Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Hello,\r\n\r\nAs posted on [google group](https://groups.google.com/forum/#!topic/spack/WdbtdkZb6lk), I am trying Spack on Cray KNL system. On other Cray systems (XK-7/XC-30), `spack compiler find` auto-detects **PrgEnv-***.  On this KNL system, this auto-detection isn't working.\r\n\r\nI am looking at `lib/spack/spack/operating_systems/cnl.py`, line 56:\r\n\r\n```\r\n            output = modulecmd(\r\n                'avail', cmp_cls.PrgEnv_compiler, output=str, error=str)\r\n\r\n            # added this debug line\r\n            print \"DEBUG ===> : \", cmp_cls, paths, cmp_cls.PrgEnv_compiler, \"OUTPUT : =>\", output\r\n```\r\nWith this, `spack compiler find` gives : \r\n\r\n```\r\nDEBUG ===> :  <class 'spack.compilers.Gcc'> ('/home/kumbhar/spack/bin', '/opt/cray/pe/mpt/7.5.0......................................................................./misc', '/usr/lib/mit/bin', '/usr/lib/mit/sbin', '/opt/cray/pe/bin') gcc OUTPUT : => ModuleCmd_Avail.c(821):ERROR:64: Directory '/usr/bin/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/jdb' not found\r\nutility.c(2263):ERROR:50: Cannot open file '/usr/bin/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/keygen' for 'reading'\r\nModuleCmd_Avail.c(821):ERROR:64: Directory '/usr/bin/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/X11/ControlPanel' not found\r\nutility.c(2263):ERROR:50: Cannot open file\r\n..............................................\r\n\r\n```\r\n\r\nBefore looking into further details, anything obviously wrong here?\r\n\r\nThanks!\r\n",
    "performed_via_github_app": null
}