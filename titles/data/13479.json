{
    "url": "https://api.github.com/repos/spack/spack/issues/13479",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13479/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13479/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13479/events",
    "html_url": "https://github.com/spack/spack/issues/13479",
    "id": 513738771,
    "node_id": "MDU6SXNzdWU1MTM3Mzg3NzE=",
    "number": 13479,
    "title": ".F90(498): error #7002: Error in opening the compiled module file.  Check INCLUDE paths.",
    "user": {
        "login": "SheraLee",
        "id": 33297023,
        "node_id": "MDQ6VXNlcjMzMjk3MDIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33297023?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SheraLee",
        "html_url": "https://github.com/SheraLee",
        "followers_url": "https://api.github.com/users/SheraLee/followers",
        "following_url": "https://api.github.com/users/SheraLee/following{/other_user}",
        "gists_url": "https://api.github.com/users/SheraLee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/SheraLee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/SheraLee/subscriptions",
        "organizations_url": "https://api.github.com/users/SheraLee/orgs",
        "repos_url": "https://api.github.com/users/SheraLee/repos",
        "events_url": "https://api.github.com/users/SheraLee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/SheraLee/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-10-29T07:27:06Z",
    "updated_at": "2019-11-12T02:10:47Z",
    "closed_at": "2019-11-12T02:10:47Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "My package can be installed successfully when using exactly the same configuration when not using Spack. \r\n`./configure --enable-intel --enable-fftw --with-fftw=$FFTWHOME FC=mpif90 CC=mpicc`\r\nHowever, when using  `spack install p3dfft %intel ^intel-mpi +fftw `  , I got following error message :\r\n\r\n```\r\n==> fftw@3.3.4 : has external module in fftw/3.3.4\r\n==> fftw@3.3.4 : is actually installed in /opt/fftw/3.3.4/intel/mvapich2_ib\r\n==> fftw@3.3.4 : already registered in DB\r\n==> intel-mpi@2016.3.210 : has external module in intelmpi/2016.3.210\r\n==> intel-mpi@2016.3.210 : is actually installed in /opt/intel/2016.3.210/compilers_and_libraries/linux/mpi/intel64\r\n==> intel-mpi@2016.3.210 : already registered in DB\r\n==> Installing p3dfft\r\n==> Searching for binary cache of p3dfft\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for p3dfft found: installing from source\r\n==> Warning: Suspicious requests to set or unset 'CC' found\r\n==> Warning: \t    \tenv.set('CC', os.path.join(link_dir, compiler.link_paths['cc'])) at /home/shera/spack/spack/lib/spack/spack/build_environment.py:185\r\n==> Warning: \t--->\tspack_env.set('FC', spec['mpi'].mpifc) at /home/shera/spack-private-repo/p3dfft-3/packages/p3dfft/package.py:56\r\n==> Warning: Suspicious requests to set or unset 'CXX' found\r\n==> Warning: \t    \tenv.set('CXX', os.path.join(link_dir, compiler.link_paths['cxx'])) at /home/shera/spack/spack/lib/spack/spack/build_environment.py:188\r\n==> Warning: \t--->\t at /home/shera/spack-private-repo/p3dfft-3/packages/p3dfft/package.py:58\r\n==> Warning: Suspicious requests to set or unset 'FC' found\r\n==> Warning: \t    \tenv.set('FC', os.path.join(link_dir, compiler.link_paths['fc'])) at /home/shera/spack/spack/lib/spack/spack/build_environment.py:194\r\n==> Warning: \t--->\tspack_env.set('CXX', spec['mpi'].mpicxx) at /home/shera/spack-private-repo/p3dfft-3/packages/p3dfft/package.py:57\r\n==> Using cached archive: /home/shera/spack/spack/var/spack/cache/p3dfft/p3dfft-2.7.9.tar.gz\r\n==> Staging archive: /home/shera/spack/spack/var/spack/stage/p3dfft-2.7.9-6eik3aj47n3i5aosqrbcuqqyu2djw6sn/master.tar.gz\r\n==> Created stage in /home/shera/spack/spack/var/spack/stage/p3dfft-2.7.9-6eik3aj47n3i5aosqrbcuqqyu2djw6sn\r\n==> No patches needed for p3dfft\r\n==> Building p3dfft [Package]\r\n==> Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n79 errors found in build log:\r\n     79     /opt/intel/2016.3.210/compilers_and_libraries_2016.3.210/linux/mpi/\r\n            intel64/bin/mpiifort -DHAVE_CONFIG_H -I. -I.. -I/opt/fftw/3.3.4/int\r\n            el/mvapich2_ib/include   -DMEASURE -DFFTW -g -c -o fft_spec.o fft_s\r\n            pec.F90\r\n     80     /opt/intel/2016.3.210/compilers_and_libraries_2016.3.210/linux/mpi/\r\n            intel64/bin/mpiifort -DHAVE_CONFIG_H -I. -I.. -I/opt/fftw/3.3.4/int\r\n            el/mvapich2_ib/include   -DMEASURE -DFFTW -g -c -o module.o module.\r\n            F90\r\n     81     /opt/intel/2016.3.210/compilers_and_libraries_2016.3.210/linux/mpi/\r\n            intel64/bin/mpiifort -DHAVE_CONFIG_H -I. -I.. -I/opt/fftw/3.3.4/int\r\n            el/mvapich2_ib/include   -DMEASURE -DFFTW -g -c -o fft_init.o fft_i\r\n            nit.F90\r\n     82     /opt/intel/2016.3.210/compilers_and_libraries_2016.3.210/linux/mpi/\r\n            intel64/bin/mpiifort -DHAVE_CONFIG_H -I. -I.. -I/opt/fftw/3.3.4/int\r\n            el/mvapich2_ib/include   -DMEASURE -DFFTW -g -c -o fft_exec.o fft_e\r\n            xec.F90\r\n     83     /opt/intel/2016.3.210/compilers_and_libraries_2016.3.210/linux/mpi/\r\n            intel64/bin/mpiifort -DHAVE_CONFIG_H -I. -I.. -I/opt/fftw/3.3.4/int\r\n            el/mvapich2_ib/include   -DMEASURE -DFFTW -g -c -o wrap.o wrap.F90\r\n     84     make[2]: [all-local] Error 1 (ignored)\r\n  >> 85     fft_init.F90(90): error #7002: Error in opening the compiled module\r\n             file.  Check INCLUDE paths.   [P3DFFT]\r\n  >> 86     wrap.F90(84): error #7002: Error in opening the compiled module fil\r\n            e.  Check INCLUDE paths.   [P3DFFT]\r\n  >> 87     fft_exec.F90(88): error #7002: Error in opening the compiled module\r\n             file.  Check INCLUDE paths.   [P3DFFT]\r\n     88           use p3dfft\r\n     89           use p3dfft\r\n     90           use p3dfft\r\n     91     ----------^\r\n     92     ----------^\r\n     93     ----------^\r\n  >> 94     fft_init.F90(95): error #6683: A kind type parameter must be a comp\r\n            ile-time constant.   [P3DFFT_TYPE]\r\n     95           complex(p3dfft_type) X(N*m),Y(N*m)\r\n     96     --------------^\r\n  >> 97     fft_exec.F90(93): error #6683: A kind type parameter must be a comp\r\n            ile-time constant.   [P3DFFT_TYPE]\r\n  >> 98     wrap.F90(87): error #6683: A kind type parameter must be a compile-\r\n            time constant.   [P3DFFT_TYPE]\r\n     99           complex(p3dfft_type) In(xsize_in,ny,0:zsize_in-1),Out(xsize_o\r\n            ut,ny,0:zsize_out-1)\r\n     100    --------------^\r\n     101          real(p3dfft_type), TARGET :: IN(dim_in,nv)\r\n     102    -----------^\r\n  >> 103    wrap.F90(88): error #6683: A kind type parameter must be a compile-\r\n            time constant.   [P3DFFT_TYPE]\r\n     104          complex(p3dfft_type), TARGET :: OUT(dim_out,nv)\r\n     105    --------------^\r\n  >> 106    fft_init.F90(113): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     107          use p3dfft\r\n     108    ----------^\r\n  >> 109    fft_exec.F90(105): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n  >> 110    wrap.F90(102): error #7002: Error in opening the compiled module fi\r\n            le.  Check INCLUDE paths.   [P3DFFT]\r\n     111          use p3dfft\r\n     112          use p3dfft\r\n     113    ----------^\r\n     114    ----------^\r\n  >> 115    fft_exec.F90(110): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n  >> 116    wrap.F90(105): error #6683: A kind type parameter must be a compile\r\n            -time constant.   [P3DFFT_TYPE]\r\n     117          complex(p3dfft_type) In(xsize_in,ny,0:zsize_in-1),Out(xsize_o\r\n            ut,ny,0:zsize_out-1)\r\n     118    --------------^\r\n     119          real(p3dfft_type), TARGET :: OUT(dim_out,nv)\r\n     120    -----------^\r\n  >> 121    wrap.F90(106): error #6683: A kind type parameter must be a compile\r\n            -time constant.   [P3DFFT_TYPE]\r\n     122          complex(p3dfft_type), TARGET :: IN(dim_in,nv)\r\n     123    --------------^\r\n  >> 124    fft_init.F90(118): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     125          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     126    --------------^\r\n  >> 127    wrap.F90(120): error #7002: Error in opening the compiled module fi\r\n            le.  Check INCLUDE paths.   [P3DFFT]\r\n     128          use p3dfft\r\n     129    ----------^\r\n  >> 130    fft_init.F90(136): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     131          use p3dfft\r\n     132    ----------^\r\n  >> 133    wrap.F90(122): error #6683: A kind type parameter must be a compile\r\n            -time constant.   [P3DFFT_TYPE]\r\n     134          real(p3dfft_type), TARGET :: IN(1,1,*)\r\n     135    -----------^\r\n  >> 136    wrap.F90(123): error #6683: A kind type parameter must be a compile\r\n            -time constant.   [P3DFFT_TYPE]\r\n     137          complex(p3dfft_type), TARGET :: OUT(1,1,*)\r\n     138    --------------^\r\n  >> 139    fft_exec.F90(124): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     140          use p3dfft\r\n     141    ----------^\r\n  >> 142    fft_exec.F90(129): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     143          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     144    --------------^\r\n  >> 145    fft_init.F90(141): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     146          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     147    --------------^\r\n  >> 148    wrap.F90(137): error #7002: Error in opening the compiled module fi\r\n            le.  Check INCLUDE paths.   [P3DFFT]\r\n     149          use p3dfft\r\n     150    ----------^\r\n  >> 151    fft_init.F90(161): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     152          use p3dfft\r\n     153    ----------^\r\n  >> 154    wrap.F90(139): error #6683: A kind type parameter must be a compile\r\n            -time constant.   [P3DFFT_TYPE]\r\n     155          real(p3dfft_type), TARGET :: OUT(1,1,*)\r\n     156    -----------^\r\n  >> 157    wrap.F90(140): error #6683: A kind type parameter must be a compile\r\n            -time constant.   [P3DFFT_TYPE]\r\n     158          complex(p3dfft_type), TARGET :: IN(1,1,*)\r\n     159    --------------^\r\n  >> 160    fft_init.F90(167): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     161          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     162    --------------^\r\n  >> 163    fft_exec.F90(172): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     164          use p3dfft\r\n     165    ----------^\r\n  >> 166    fft_exec.F90(177): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     167          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     168    --------------^\r\n  >> 169    fft_init.F90(190): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     170          use p3dfft\r\n     171    ----------^\r\n  >> 172    fft_init.F90(195): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     173          complex(p3dfft_type) X((N/2+1)*m)\r\n     174    --------------^\r\n  >> 175    fft_exec.F90(208): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     176          use p3dfft\r\n     177    ----------^\r\n  >> 178    fft_init.F90(196): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     179          real(p3dfft_type) Y(N*m)\r\n     180    -----------^\r\n  >> 181    fft_exec.F90(213): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     182          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     183    --------------^\r\n     184    compilation aborted for wrap.F90 (code 1)\r\n  >> 185    fft_init.F90(214): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     186          use p3dfft\r\n     187    ----------^\r\n  >> 188    fft_init.F90(219): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     189          complex(p3dfft_type) X((N/2+1)*m)\r\n     190    --------------^\r\n  >> 191    fft_exec.F90(254): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n  >> 192    fft_init.F90(220): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     193          use p3dfft\r\n     194    ----------^\r\n     195          real(p3dfft_type) Y(N*m)\r\n     196    -----------^\r\n  >> 197    fft_exec.F90(260): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     198          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     199    --------------^\r\n  >> 200    fft_init.F90(241): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     201          use p3dfft\r\n     202    ----------^\r\n  >> 203    fft_init.F90(246): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     204          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     205    --------------^\r\n  >> 206    fft_exec.F90(301): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     207          use p3dfft\r\n     208    ----------^\r\n  >> 209    fft_exec.F90(306): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     210          complex(p3dfft_type) X((N/2+1)*m)\r\n     211    --------------^\r\n  >> 212    fft_exec.F90(307): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     213          real(p3dfft_type) Y(N*m)\r\n     214    -----------^\r\n  >> 215    fft_init.F90(266): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     216          use p3dfft\r\n     217    ----------^\r\n  >> 218    fft_init.F90(271): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     219          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     220    --------------^\r\n  >> 221    fft_exec.F90(349): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     222          use p3dfft\r\n     223    ----------^\r\n  >> 224    fft_exec.F90(355): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     225          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     226    --------------^\r\n  >> 227    fft_init.F90(290): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     228          use p3dfft\r\n     229    ----------^\r\n  >> 230    make[2]: *** [wrap.o] Error 1\r\n     231    make[2]: *** Waiting for unfinished jobs....\r\n  >> 232    fft_init.F90(295): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     233          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     234    --------------^\r\n  >> 235    fft_exec.F90(404): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     236          use p3dfft\r\n     237    ----------^\r\n  >> 238    fft_exec.F90(410): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     239          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     240    --------------^\r\n  >> 241    fft_init.F90(315): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     242          use p3dfft\r\n     243    ----------^\r\n  >> 244    fft_init.F90(320): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     245          complex(p3dfft_type) X(N*m),Y(N*m)\r\n     246    --------------^\r\n  >> 247    fft_exec.F90(450): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     248          use p3dfft\r\n     249    ----------^\r\n  >> 250    fft_exec.F90(455): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     251          complex(p3dfft_type) X(N*stride_x1+m*stride_x2),Y(N*stride_y1\r\n            +m*stride_y2)\r\n     252    --------------^\r\n  >> 253    fft_init.F90(343): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     254          use p3dfft\r\n     255    ----------^\r\n  >> 256    fft_init.F90(347): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     257          real(p3dfft_type) X(N*m)\r\n     258    -----------^\r\n  >> 259    fft_init.F90(348): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     260          complex(p3dfft_type) Y((N/2+1)*m)\r\n     261    --------------^\r\n  >> 262    fft_exec.F90(498): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     263          use p3dfft\r\n     264    ----------^\r\n  >> 265    fft_exec.F90(502): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     266          real(p3dfft_type) X(N*m)\r\n     267    -----------^\r\n  >> 268    fft_exec.F90(503): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     269          complex(p3dfft_type) Y((N/2+1)*m)\r\n  >> 270    fft_init.F90(366): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     271    --------------^\r\n     272          use p3dfft\r\n     273    ----------^\r\n  >> 274    fft_init.F90(370): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     275          real(p3dfft_type) X(N*m)\r\n     276    -----------^\r\n  >> 277    fft_init.F90(371): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     278          complex(p3dfft_type) Y((N/2+1)*m)\r\n     279    --------------^\r\n  >> 280    fft_exec.F90(549): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     281        use p3dfft\r\n     282    --------^\r\n  >> 283    fft_exec.F90(554): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     284        real (p3dfft_type) :: X (N*m), Y (N*m)\r\n     285    ----------^\r\n  >> 286    fft_exec.F90(598): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     287        use p3dfft\r\n     288    --------^\r\n  >> 289    fft_exec.F90(602): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     290        real (p3dfft_type) :: X (N*m), Y (N*m)\r\n     291    ----------^\r\n  >> 292    fft_exec.F90(648): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n  >> 293    fft_init.F90(533): error #7002: Error in opening the compiled modul\r\n            e file.  Check INCLUDE paths.   [P3DFFT]\r\n     294        use p3dfft\r\n     295    --------^\r\n     296        use p3dfft\r\n     297    --------^\r\n  >> 298    fft_exec.F90(652): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     299        real (p3dfft_type) :: X (N*m), Y (N*m)\r\n     300    ----------^\r\n  >> 301    /tmp/ifortaJ3kjZ.i90(541): catastrophic error: Too many errors, exi\r\n            ting\r\n  >> 302    fft_init.F90(538): error #6683: A kind type parameter must be a com\r\n            pile-time constant.   [P3DFFT_TYPE]\r\n     303        real (p3dfft_type) :: X (N*m), Y (N*m)\r\n     304    ----------^\r\n  >> 305    /tmp/ifortghrijZ.i90(441): catastrophic error: Too many errors, exi\r\n            ting\r\n     306    compilation aborted for fft_exec.F90 (code 1)\r\n     307    compilation aborted for fft_init.F90 (code 1)\r\n  >> 308    make[2]: *** [fft_exec.o] Error 1\r\n  >> 309    make[2]: *** [fft_init.o] Error 1\r\n     310    make[2]: Leaving directory `/tmp/shera/spack-stage/spack-stage-_LwM\r\n            cO/spack-src/build'\r\n  >> 311    make[1]: *** [all-recursive] Error 1\r\n     312    make[1]: Leaving directory `/tmp/shera/spack-stage/spack-stage-_LwM\r\n            cO/spack-src'\r\n  >> 313    make: *** [all] Error 2\r\n```\r\n**python.py:**\r\n```\r\n    homepage = \"https://www.p3dfft.net\"\r\n    url      = \"https://github.com/sdsc/p3dfft.3/archive/master.tar.gz\"\r\n    git = \"https://github.com/sdsc/p3dfft.3\"\r\n\r\n    version('develop', branch = 'master')\r\n    version('2.7.9', sha256='c61b4705be59f20f06ef2fa11971f3648f82560c1078311c464c12f581b36ed1')\r\n\r\n    variant('fftw', default = True,\r\n            description='Builds with FFTW library')\r\n    variant('essl', default=False,\r\n            description='Builds with ESSL library')\r\n    variant('mpi', default = True,\r\n            description=\"Enable MPI support.\")\r\n    variant('openmp', default=False,\r\n            description=\"Enable OpenMP support.\")\r\n\r\n    depends_on('mpi',when = '+mpi')\r\n    depends_on('fftw',when = '+fftw')\r\n    depends_on('essl',when = '+essl')\r\n    depends_on('openmp',when = '+openmp')\r\n\r\n\r\n    def setup_environment(self, spack_env, run_env):\r\n        spec = self.spec\r\n\r\n        spack_env.set('CC', spec['mpi'].mpicc)\r\n        spack_env.set('FC', spec['mpi'].mpifc)\r\n        spack_env.set('CXX', spec['mpi'].mpicxx)\r\n\r\n    def install(self, spec, prefix):\r\n        config_args = ['--prefix={0}'.format(prefix)]\r\n\r\n        if '+fftw' in spec:\r\n            config_args.append('--enable-fftw')\r\n            config_args.append ('--with-fftw=%s' % spec['fftw'].prefix)\r\n\r\n        if '+essl' in spec:\r\n            config_args.append('--enable-essl')\r\n        #    config_args.append ('--with-fftw-lib= %s' % spec['essl'].prefix.lib)\r\n        #    config_args.append ('--with-fftw-inc= %s' % spec['essl'].prefix.include)\r\n\r\n        configure( *config_args)\r\n\r\n        make()\r\n        make('install')\r\n```\r\n\r\n**My packages.yaml:**\r\n```\r\npackages:\r\n    fftw:\r\n        modules:\r\n             fftw@3.3.4: fftw/3.3.4\r\n        buildable: False\r\n\r\n    mvapich2:\r\n        modules:\r\n             mvapich2@2.1: mvapich2_ib/2.1\r\n        buildable: False\r\n\r\n    openmpi:\r\n        modules:\r\n             openmpi@1.8.4: openmpi_ib/1.8.4\r\n        buildable: False\r\n\r\n    intel-mpi:\r\n        modules:\r\n             intel-mpi@2016.3.210: intelmpi/2016.3.210\r\n        buildable: False\r\n```\r\n",
    "performed_via_github_app": null
}