{
    "url": "https://api.github.com/repos/spack/spack/issues/2055",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2055/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2055/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2055/events",
    "html_url": "https://github.com/spack/spack/issues/2055",
    "id": 184051717,
    "node_id": "MDU6SXNzdWUxODQwNTE3MTc=",
    "number": 2055,
    "title": "Compiler Wrappers Erroneously in Path for `spack setup`; breaks things sometimes.",
    "user": {
        "login": "pramodk",
        "id": 666852,
        "node_id": "MDQ6VXNlcjY2Njg1Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/666852?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pramodk",
        "html_url": "https://github.com/pramodk",
        "followers_url": "https://api.github.com/users/pramodk/followers",
        "following_url": "https://api.github.com/users/pramodk/following{/other_user}",
        "gists_url": "https://api.github.com/users/pramodk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pramodk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pramodk/subscriptions",
        "organizations_url": "https://api.github.com/users/pramodk/orgs",
        "repos_url": "https://api.github.com/users/pramodk/repos",
        "events_url": "https://api.github.com/users/pramodk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pramodk/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "citibeth",
        "id": 1924215,
        "node_id": "MDQ6VXNlcjE5MjQyMTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1924215?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/citibeth",
        "html_url": "https://github.com/citibeth",
        "followers_url": "https://api.github.com/users/citibeth/followers",
        "following_url": "https://api.github.com/users/citibeth/following{/other_user}",
        "gists_url": "https://api.github.com/users/citibeth/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/citibeth/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/citibeth/subscriptions",
        "organizations_url": "https://api.github.com/users/citibeth/orgs",
        "repos_url": "https://api.github.com/users/citibeth/repos",
        "events_url": "https://api.github.com/users/citibeth/events{/privacy}",
        "received_events_url": "https://api.github.com/users/citibeth/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "citibeth",
            "id": 1924215,
            "node_id": "MDQ6VXNlcjE5MjQyMTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1924215?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/citibeth",
            "html_url": "https://github.com/citibeth",
            "followers_url": "https://api.github.com/users/citibeth/followers",
            "following_url": "https://api.github.com/users/citibeth/following{/other_user}",
            "gists_url": "https://api.github.com/users/citibeth/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/citibeth/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/citibeth/subscriptions",
            "organizations_url": "https://api.github.com/users/citibeth/orgs",
            "repos_url": "https://api.github.com/users/citibeth/repos",
            "events_url": "https://api.github.com/users/citibeth/events{/privacy}",
            "received_events_url": "https://api.github.com/users/citibeth/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2016-10-19T19:24:29Z",
    "updated_at": "2020-09-02T01:07:51Z",
    "closed_at": "2020-09-02T01:07:51Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I am following [Developing Software with Spack](https://spack.readthedocs.io/en/latest/workflows.html#build-with-spack) section from documentation and see following error:\n\n``` bash\n$ mkdir build; cd build\n$ ../spconfig.py ..\n-- The C compiler identification is GNU 4.9.3\n-- The CXX compiler identification is GNU 4.9.3\n-- Checking whether C compiler has -isysroot\n-- Checking whether C compiler has -isysroot - yes\n-- Checking whether C compiler supports OSX deployment target flag\n-- Checking whether C compiler supports OSX deployment target flag - yes\n-- Check for working C compiler: /Users/kumbhar/workarena/software/sources/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/gcc-4.9.3-3yghgmzvmbiqmem7lpu2dmcqz6qoqcjd/bin/gcc\n-- Check for working C compiler: /Users/kumbhar/workarena/software/sources/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/gcc-4.9.3-3yghgmzvmbiqmem7lpu2dmcqz6qoqcjd/bin/gcc -- broken\n\u2026.\n  /Users/kumbhar/workarena/software/sources/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/gcc-4.9.3-3yghgmzvmbiqmem7lpu2dmcqz6qoqcjd/bin/gcc\n  -Wl,-search_paths_first -Wl,-headerpad_max_install_names\n  CMakeFiles/cmTC_afeb5.dir/testCCompiler.c.o -o cmTC_afeb5\n\n  Spack compiler must be run from Spack! Input 'SPACK_PREFIX' is\n  missing.collect2: error: ld returned 1 exit status\n```\n\nIn some other thread (#1111) I came across `spack env`. Using this I get all environment as:\n\n```\nspack env mylib@develop bash\n```\n\nand then it works fine. Is above the missing step from the workflow document? \n\nI have another question related to extending `CMakePackage` and  `spconfig.py`:\n\nWhen I started writing packages for CMake based projects, I have extended packages from `Package`. Now when I do `spack setup my_spec` in the source directory of the project, `spconfig.py` is not generated. But I have `install` method defined in the `package.py` with `spack-build` as build directory. So when I invoke`spack setup`, it build and install the package. And then for development purpose I just do:\n\n``` bash\ncd speck-build\nspack env spec_with_spaces - -  bash  \n\n# change code - make - change code .....\n```\n\nwhich works fine! Is there any drawback of this compared to having `spconfig.py`?\n\n@citibeth : any suggestion?\n",
    "performed_via_github_app": null
}