{
    "url": "https://api.github.com/repos/spack/spack/issues/16392",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16392/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16392/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16392/events",
    "html_url": "https://github.com/spack/spack/issues/16392",
    "id": 610164048,
    "node_id": "MDU6SXNzdWU2MTAxNjQwNDg=",
    "number": 16392,
    "title": "Installation issue: kokkos-kernels",
    "user": {
        "login": "eugeneswalker",
        "id": 38933153,
        "node_id": "MDQ6VXNlcjM4OTMzMTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugeneswalker",
        "html_url": "https://github.com/eugeneswalker",
        "followers_url": "https://api.github.com/users/eugeneswalker/followers",
        "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
        "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
        "repos_url": "https://api.github.com/users/eugeneswalker/repos",
        "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-04-30T15:43:00Z",
    "updated_at": "2020-04-30T16:36:51Z",
    "closed_at": "2020-04-30T16:36:51Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Trying to build `kokkos-kernels` is failing using gcc@7.3.0 on x86_64 for:\r\n* Ubuntu 18.04\r\n* RHEL 7, RHEL 8\r\n\r\nUsing spack@develop, commit id `3a3f87171858` from 30 April 2020, the build fails with the following error message:\r\n```\r\n$> spack install kokkos-kernels%gcc@7.3.0\r\n\r\n==> Error: Failed to install kokkos-kernels due to ChildError: ValueError: too many values to unpack (expected 2)\r\n/opt/spack/var/spack/repos/builtin/packages/kokkos-kernels/package.py:125, in cmake_args:\r\n        122                    options.append(\"-D%s=OFF\" % cmake_option)\r\n        123\r\n        124        for eti in self.space_etis:\r\n  >>    125            deflt, descr = self.space_etis[eti]\r\n        126            if deflt == \"auto\":\r\n        127                value = spec.variants[eti].value\r\n        128                # spack does these as strings, not reg booleans\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-kokkos-kernels-3.1-kspudgkm52bb64kvyywhqog2it5ivsz2/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/opt/spack/lib/spack/spack/build_environment.py\", line 802, in child_process\r\n    return_value = function()\r\n  File \"/opt/spack/lib/spack/spack/installer.py\", line 1123, in build_process\r\n    phase(pkg.spec, pkg.prefix)\r\n  File \"/opt/spack/lib/spack/spack/package.py\", line 108, in phase_wrapper\r\n    phase(spec, prefix)\r\n  File \"/opt/spack/lib/spack/spack/build_systems/cmake.py\", line 336, in cmake\r\n    options += self.cmake_args()\r\n  File \"/opt/spack/var/spack/repos/builtin/packages/kokkos-kernels/package.py\", line 126, in cmake_args\r\n    if deflt == \"auto\":\r\nValueError: too many values to unpack (expected 2)\r\n```\r\n\r\n[spack-build-out.txt](https://github.com/spack/spack/files/4559340/spack-build-out.txt)\r\n\r\n@junghans @jjwilke \r\n",
    "performed_via_github_app": null
}