{
    "url": "https://api.github.com/repos/spack/spack/issues/16333",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16333/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16333/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16333/events",
    "html_url": "https://github.com/spack/spack/pull/16333",
    "id": 607822414,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDA5NzIxNTE4",
    "number": 16333,
    "title": "spack dev-build: Do not mark -u builds in database",
    "user": {
        "login": "becker33",
        "id": 13971568,
        "node_id": "MDQ6VXNlcjEzOTcxNTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/13971568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/becker33",
        "html_url": "https://github.com/becker33",
        "followers_url": "https://api.github.com/users/becker33/followers",
        "following_url": "https://api.github.com/users/becker33/following{/other_user}",
        "gists_url": "https://api.github.com/users/becker33/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/becker33/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/becker33/subscriptions",
        "organizations_url": "https://api.github.com/users/becker33/orgs",
        "repos_url": "https://api.github.com/users/becker33/repos",
        "events_url": "https://api.github.com/users/becker33/events{/privacy}",
        "received_events_url": "https://api.github.com/users/becker33/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1566617052,
            "node_id": "MDU6TGFiZWwxNTY2NjE3MDUy",
            "url": "https://api.github.com/repos/spack/spack/labels/bugfix",
            "name": "bugfix",
            "color": "c4aaef",
            "default": false,
            "description": ""
        },
        {
            "id": 1634941846,
            "node_id": "MDU6TGFiZWwxNjM0OTQxODQ2",
            "url": "https://api.github.com/repos/spack/spack/labels/dev",
            "name": "dev",
            "color": "c9ed7b",
            "default": false,
            "description": ""
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-04-27T20:13:21Z",
    "updated_at": "2020-06-30T23:37:17Z",
    "closed_at": "2020-06-05T07:35:17Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/16333",
        "html_url": "https://github.com/spack/spack/pull/16333",
        "diff_url": "https://github.com/spack/spack/pull/16333.diff",
        "patch_url": "https://github.com/spack/spack/pull/16333.patch"
    },
    "body": "Fixes #16329 \r\n\r\nBuilds can be stopped before the final install phase due to user requests. Those builds should not be registered as installed in the database.\r\n\r\nWe had code intended to handle this but:\r\n\r\n1. It caught the wrong type of exception\r\n2. We were catching these exceptions to suppress them at a lower level in the stack\r\n\r\nThis PR allows the StopIteration to propagate through a ChildError, and catches it properly. Also added to an existing test to prevent regression.",
    "performed_via_github_app": null
}