{
    "url": "https://api.github.com/repos/spack/spack/issues/24928",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24928/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24928/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24928/events",
    "html_url": "https://github.com/spack/spack/issues/24928",
    "id": 946389909,
    "node_id": "MDU6SXNzdWU5NDYzODk5MDk=",
    "number": 24928,
    "title": "Clingo bootstrap doesn't work on Gentoo",
    "user": {
        "login": "robertu94",
        "id": 7604212,
        "node_id": "MDQ6VXNlcjc2MDQyMTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7604212?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robertu94",
        "html_url": "https://github.com/robertu94",
        "followers_url": "https://api.github.com/users/robertu94/followers",
        "following_url": "https://api.github.com/users/robertu94/following{/other_user}",
        "gists_url": "https://api.github.com/users/robertu94/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/robertu94/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/robertu94/subscriptions",
        "organizations_url": "https://api.github.com/users/robertu94/orgs",
        "repos_url": "https://api.github.com/users/robertu94/repos",
        "events_url": "https://api.github.com/users/robertu94/events{/privacy}",
        "received_events_url": "https://api.github.com/users/robertu94/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 512483390,
            "node_id": "MDU6TGFiZWw1MTI0ODMzOTA=",
            "url": "https://api.github.com/repos/spack/spack/labels/impact-medium",
            "name": "impact-medium",
            "color": "fef2c0",
            "default": false,
            "description": ""
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 12,
    "created_at": "2021-07-16T15:22:58Z",
    "updated_at": "2021-08-02T20:37:16Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Gentoo has a python launcher to support it's slot system that gets used that seems to break clingo's bootstrap.  Specifically, it uses https://github.com/mgorny/python-exec.   The \"real\" pythons are installed to\r\n\r\n```\r\n/usr/lib/python-exec/python3.8/python\r\n/usr/lib/python-exec/python3.9/python\r\n```\r\n\r\nI tried to override this by providing an external python with a path to the \"real\" python that doesn't use the wrapper, but that didn't work either.  I'm at a loss at how to work around this.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\nspack env create -d .\r\nspack env activate\r\n# modify spack.yaml to set conretizer to clingo\r\nspack install zlib\r\n...\r\n```\r\n\r\n### Error Message\r\n\r\n<!-- If Spack reported an error, provide the error message. If it did not report an error but the output appears incorrect, provide the incorrect output. If there was no error message and no output but the result is incorrect, describe how it does not match what you expect. -->\r\n```console\r\n[runderwood@voyager z-checker2]$ spack --debug --stacktrace install zlib\r\nlib/spack/spack/cmd/__init__.py:121 ==> [2021-07-16-11:13:21.836383] Imported install from built-in commands\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:21.840660] Reading config file /home/runderwood/git/play/z-checker2/spack.yaml\r\nlib/spack/spack/cmd/__init__.py:121 ==> [2021-07-16-11:13:21.842890] Imported install from built-in commands\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:21.846059] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/bootstrap.yaml\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:21.849286] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/config.yaml\r\nlib/spack/spack/database.py:371 ==> [2021-07-16-11:13:21.867635] DATABASE LOCK TIMEOUT: 3s\r\nlib/spack/spack/database.py:375 ==> [2021-07-16-11:13:21.867820] PACKAGE LOCK TIMEOUT: No timeout\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:21.868322] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/bootstrap.yaml\r\nlib/spack/spack/database.py:371 ==> [2021-07-16-11:13:21.870098] DATABASE LOCK TIMEOUT: 3s\r\nlib/spack/spack/database.py:375 ==> [2021-07-16-11:13:21.870261] PACKAGE LOCK TIMEOUT: No timeout\r\nlib/spack/spack/bootstrap.py:201 ==> [2021-07-16-11:13:21.870435] [BOOTSTRAP CONFIG SCOPE] name=_builtin\r\nlib/spack/spack/bootstrap.py:213 ==> [2021-07-16-11:13:21.870835] [BOOTSTRAP CONFIG SCOPE] name=defaults, path=/home/runderwood/git/contrib/spack/etc/spack/defaults\r\nlib/spack/spack/bootstrap.py:214 ==> [2021-07-16-11:13:21.870988] [BOOTSTRAP CONFIG SCOPE] name=defaults/linux, path=/home/runderwood/git/contrib/spack/etc/spack/defaults/linux\r\nlib/spack/spack/bootstrap.py:213 ==> [2021-07-16-11:13:21.871151] [BOOTSTRAP CONFIG SCOPE] name=system, path=/etc/spack\r\nlib/spack/spack/bootstrap.py:214 ==> [2021-07-16-11:13:21.871330] [BOOTSTRAP CONFIG SCOPE] name=system/linux, path=/etc/spack/linux\r\nlib/spack/spack/bootstrap.py:213 ==> [2021-07-16-11:13:21.871649] [BOOTSTRAP CONFIG SCOPE] name=site, path=/home/runderwood/git/contrib/spack/etc/spack\r\nlib/spack/spack/bootstrap.py:214 ==> [2021-07-16-11:13:21.871871] [BOOTSTRAP CONFIG SCOPE] name=site/linux, path=/home/runderwood/git/contrib/spack/etc/spack/linux\r\nlib/spack/spack/bootstrap.py:213 ==> [2021-07-16-11:13:21.872074] [BOOTSTRAP CONFIG SCOPE] name=user, path=/home/runderwood/.spack\r\nlib/spack/spack/bootstrap.py:214 ==> [2021-07-16-11:13:21.872231] [BOOTSTRAP CONFIG SCOPE] name=user/linux, path=/home/runderwood/.spack/linux\r\nlib/spack/spack/bootstrap.py:268 ==> [2021-07-16-11:13:21.876701] [BOOTSTRAP ROOT SPEC] clingo: clingo-bootstrap@spack+python %gcc target=x86_64\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:21.877895] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/config.yaml\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.941592] diffutils applying constraint iconv\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.952648] ncurses applying constraint pkgconfig\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.954302] readline applying constraint ncurses\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.956690] gdbm applying constraint readline\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.960950] bzip2 applying constraint diffutils\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.963320] perl applying constraint gdbm\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.964517] perl applying constraint berkeley-db\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.965639] perl applying constraint bzip2+shared\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.966716] perl applying constraint zlib+shared\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.967988] bison applying constraint diffutils\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.970728] bison applying constraint m4\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.973103] bison applying constraint perl\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.974835] python applying constraint pkgconfig@0.9.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.976131] python applying constraint pkgconfig@0.9.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.978049] clingo-bootstrap applying constraint cmake@3.16.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.979282] clingo-bootstrap applying constraint re2c@0.13:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.980793] clingo-bootstrap applying constraint bison@2.5:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:21.981883] clingo-bootstrap applying constraint python\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:21.983878] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/packages.yaml\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:22.023630] Reading config file /home/runderwood/.spack/packages.yaml\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.057308] clingo-bootstrap applying constraint cmake@3.16.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.058938] clingo-bootstrap applying constraint re2c@0.13:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.059929] clingo-bootstrap applying constraint bison@2.5:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.060875] clingo-bootstrap applying constraint python\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.061438] python applying constraint pkgconfig@0.9.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.066315] clingo-bootstrap applying constraint cmake@3.16.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.067270] clingo-bootstrap applying constraint re2c@0.13:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.068254] clingo-bootstrap applying constraint bison@2.5:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.069135] clingo-bootstrap applying constraint python\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.069690] python applying constraint pkgconfig@0.9.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.073763] clingo-bootstrap applying constraint cmake@3.16.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.074641] clingo-bootstrap applying constraint re2c@0.13:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.075545] clingo-bootstrap applying constraint bison@2.5:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.076333] clingo-bootstrap applying constraint python\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:22.080690] Reading config file /home/runderwood/.spack/linux/compilers.yaml\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.133970] clingo-bootstrap applying constraint cmake@3.16.0:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.135174] clingo-bootstrap applying constraint re2c@0.13:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.136343] clingo-bootstrap applying constraint bison@2.5:\r\nlib/spack/spack/spec.py:2813 ==> [2021-07-16-11:13:22.137266] clingo-bootstrap applying constraint python\r\nlib/spack/spack/spec.py:2488 ==> [2021-07-16-11:13:22.146638] Ordered hashes [cmake]: cmake/23/b48396c0e4f61756248156b6cebe9bc0d7a22228639b47b5aa77c9330588ce88\r\nlib/spack/spack/spec.py:2488 ==> [2021-07-16-11:13:22.146861] Ordered hashes [python]: python/6/0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:22.215956] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/config.yaml\r\nlib/spack/spack/installer.py:1406 ==> [2021-07-16-11:13:22.268842] Initializing the build queue from the build requests\r\nlib/spack/spack/installer.py:1020 ==> [2021-07-16-11:13:22.269017] Initializing the build queue for clingo-bootstrap\r\nlib/spack/spack/installer.py:2147 ==> [2021-07-16-11:13:22.270963] Processing dependencies for clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he: ('build', 'link', 'run')\r\nlib/spack/spack/installer.py:1885 ==> [2021-07-16-11:13:22.271175] Pkg id bison-3.7.1-unkbbf6hnv22mtzfrokpalc3eat5rbwq has the following dependents:\r\nlib/spack/spack/installer.py:1888 ==> [2021-07-16-11:13:22.271325] - clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/installer.py:1885 ==> [2021-07-16-11:13:22.284071] Pkg id cmake-3.19.7-n5hux5ukgvkn3crkk2n6tox4mu76fqlu has the following dependents:\r\nlib/spack/spack/installer.py:1888 ==> [2021-07-16-11:13:22.284706] - clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/installer.py:1885 ==> [2021-07-16-11:13:22.298703] Pkg id python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y has the following dependents:\r\nlib/spack/spack/installer.py:1888 ==> [2021-07-16-11:13:22.298897] - clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/installer.py:1885 ==> [2021-07-16-11:13:22.327835] Pkg id re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt has the following dependents:\r\nlib/spack/spack/installer.py:1888 ==> [2021-07-16-11:13:22.328239] - clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/database.py:476 ==> [2021-07-16-11:13:22.341519] Removing failure marking for clingo-bootstrap\r\nlib/spack/spack/installer.py:1885 ==> [2021-07-16-11:13:22.342036] Pkg id clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he has the following dependents:\r\nlib/spack/spack/installer.py:1412 ==> [2021-07-16-11:13:22.343251] Ensure all dependencies know all dependents across specs\r\nlib/spack/spack/installer.py:323 ==> [2021-07-16-11:13:22.345730] bison@3.7.1 : externally installed in /usr\r\nlib/spack/spack/installer.py:329 ==> [2021-07-16-11:13:22.346118] bison@3.7.1 : already registered in DB\r\n[+] /usr (external bison-3.7.1-unkbbf6hnv22mtzfrokpalc3eat5rbwq)\r\nlib/spack/spack/installer.py:1384 ==> [2021-07-16-11:13:22.346419] Flagging bison-3.7.1-unkbbf6hnv22mtzfrokpalc3eat5rbwq as installed\r\nlib/spack/spack/installer.py:1391 ==> [2021-07-16-11:13:22.346624] Removing bison-3.7.1-unkbbf6hnv22mtzfrokpalc3eat5rbwq from clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he's uninstalled dependencies.\r\nlib/spack/spack/installer.py:1992 ==> [2021-07-16-11:13:22.346841] clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he: Removed bison-3.7.1-unkbbf6hnv22mtzfrokpalc3eat5rbwq from uninstalled deps list: {'python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y', 're2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt', 'cmake-3.19.7-n5hux5ukgvkn3crkk2n6tox4mu76fqlu'}\r\nlib/spack/spack/installer.py:323 ==> [2021-07-16-11:13:22.347078] cmake@3.19.7 : externally installed in /usr\r\nlib/spack/spack/installer.py:329 ==> [2021-07-16-11:13:22.347224] cmake@3.19.7 : already registered in DB\r\n[+] /usr (external cmake-3.19.7-n5hux5ukgvkn3crkk2n6tox4mu76fqlu)\r\nlib/spack/spack/installer.py:1384 ==> [2021-07-16-11:13:22.347487] Flagging cmake-3.19.7-n5hux5ukgvkn3crkk2n6tox4mu76fqlu as installed\r\nlib/spack/spack/installer.py:1391 ==> [2021-07-16-11:13:22.347634] Removing cmake-3.19.7-n5hux5ukgvkn3crkk2n6tox4mu76fqlu from clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he's uninstalled dependencies.\r\nlib/spack/spack/installer.py:1992 ==> [2021-07-16-11:13:22.347820] clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he: Removed cmake-3.19.7-n5hux5ukgvkn3crkk2n6tox4mu76fqlu from uninstalled deps list: {'python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y', 're2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt'}\r\nlib/spack/spack/installer.py:323 ==> [2021-07-16-11:13:22.348046] python@3.9 : externally installed in /usr/lib/python-exec\r\nlib/spack/spack/installer.py:329 ==> [2021-07-16-11:13:22.348194] python@3.9 : already registered in DB\r\n[+] /usr/lib/python-exec (external python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y)\r\nlib/spack/spack/installer.py:1384 ==> [2021-07-16-11:13:22.348385] Flagging python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y as installed\r\nlib/spack/spack/installer.py:1391 ==> [2021-07-16-11:13:22.348550] Removing python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y from clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he's uninstalled dependencies.\r\nlib/spack/spack/installer.py:1992 ==> [2021-07-16-11:13:22.348738] clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he: Removed python-3.9-cwu7hmf6jfwszsbpphpomv7drbfvh32y from uninstalled deps list: {'re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt'}\r\nlib/spack/spack/installer.py:966 ==> [2021-07-16-11:13:22.349895] Acquiring a write lock on re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt with timeout 1e-09\r\nlib/spack/spack/installer.py:1384 ==> [2021-07-16-11:13:22.350705] Flagging re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt as installed\r\nlib/spack/spack/installer.py:1391 ==> [2021-07-16-11:13:22.350855] Removing re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt from clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he's uninstalled dependencies.\r\nlib/spack/spack/installer.py:1992 ==> [2021-07-16-11:13:22.351023] clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he: Removed re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt from uninstalled deps list: set()\r\nlib/spack/spack/stage.py:327 ==> [2021-07-16-11:13:22.352034] Creating stage lock spack-stage-re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt\r\nlib/spack/spack/installer.py:982 ==> [2021-07-16-11:13:22.352241] Downgrading to a read lock on re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt with timeout 1e-09\r\n[+] /home/runderwood/.spack/bootstrap/store/linux-gentoo2-x86_64/gcc-10.3.0/re2c-1.2.1-d4ai3o6hw7aw6lkcnc4nuj24zlrmxtgt\r\nlib/spack/spack/installer.py:966 ==> [2021-07-16-11:13:22.352729] Acquiring a write lock on clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he with timeout 1e-09\r\nlib/spack/spack/installer.py:1126 ==> [2021-07-16-11:13:22.354616] Installing clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/installer.py:394 ==> [2021-07-16-11:13:22.354771] Searching for binary cache of clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/config.py:989 ==> [2021-07-16-11:13:22.355315] Reading config file /home/runderwood/git/contrib/spack/etc/spack/defaults/mirrors.yaml\r\nlib/spack/spack/binary_distribution.py:1430 ==> [2021-07-16-11:13:22.745648] Did not find linux-gentoo2-x86_64-gcc-10.3.0-clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he.spec.yaml on https://mirror.spack.io/build_cache/linux-gentoo2-x86_64-gcc-10.3.0-clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he.spec.yaml\r\n  Download failed: HTTP Error 404: Not Found\r\nlib/spack/spack/installer.py:282 ==> [2021-07-16-11:13:22.746939] No binary for clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he found: installing from source\r\nlib/spack/spack/util/executable.py:190 ==> [2021-07-16-11:13:22.823209] '/usr/bin/git' 'describe' '--tags' '--match' 'v*'\r\nlib/spack/spack/compilers/__init__.py:741 ==> [2021-07-16-11:13:22.954372] [TOOLCHAIN] MATCH Gcc\r\nlib/spack/spack/build_environment.py:365 ==> [2021-07-16-11:13:22.956773] Adding compiler bin/ paths: /home/runderwood/git/contrib/spack/lib/spack/env /home/runderwood/git/contrib/spack/lib/spack/env/case-insensitive /home/runderwood/git/contrib/spack/lib/spack/env/gcc\r\nlib/spack/spack/stage.py:327 ==> [2021-07-16-11:13:22.967005] Creating stage lock spack-stage-clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/error.py:54 ==> [2021-07-16-11:13:22.969505] Error: RuntimeError: Unable to locate python command in /usr/lib/python-exec/bin\r\n\r\n/home/runderwood/git/contrib/spack/var/spack/repos/builtin/packages/python/package.py:660, in command:\r\n        657                return Executable(path)\r\n        658        else:\r\n        659            msg = 'Unable to locate {0} command in {1}'\r\n  >>    660            raise RuntimeError(msg.format(self.name, self.prefix.bin))\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/runderwood/git/contrib/spack/lib/spack/spack/build_environment.py\", line 1011, in _setup_pkg_and_run\r\n    setup_package(pkg, dirty=kwargs.get('dirty', False),\r\n  File \"/home/runderwood/git/contrib/spack/lib/spack/spack/build_environment.py\", line 768, in setup_package\r\n    set_wrapper_variables(pkg, env)\r\n  File \"/home/runderwood/git/contrib/spack/lib/spack/spack/build_environment.py\", line 424, in set_wrapper_variables\r\n    update_compiler_args_for_dep(dspec)\r\n  File \"/home/runderwood/git/contrib/spack/lib/spack/spack/build_environment.py\", line 403, in update_compiler_args_for_dep\r\n    dep_link_dirs.extend(query.libs.directories)\r\n  File \"/home/runderwood/git/contrib/spack/lib/spack/spack/spec.py\", line 949, in __get__\r\n    value = f()\r\n  File \"/home/runderwood/git/contrib/spack/lib/spack/spack/spec.py\", line 938, in <lambda>\r\n    callbacks_chain.append(lambda: getattr(pkg, self.attribute_name))\r\n  File \"/home/runderwood/git/contrib/spack/var/spack/repos/builtin/packages/python/package.py\", line 777, in libs\r\n  File \"/home/runderwood/git/contrib/spack/var/spack/repos/builtin/packages/python/package.py\", line 695, in get_config_var\r\n  File \"/home/runderwood/git/contrib/spack/var/spack/repos/builtin/packages/python/package.py\", line 661, in command\r\nRuntimeError: Unable to locate python command in /usr/lib/python-exec/bin\r\nlib/spack/spack/installer.py:1336 ==> [2021-07-16-11:13:22.970121] Flagging clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he as failed: RuntimeError: Unable to locate python command in /usr/lib/python-exec/bin\r\nlib/spack/spack/stage.py:327 ==> [2021-07-16-11:13:22.972865] Creating stage lock spack-stage-clingo-bootstrap-spack-rygx3hggm5itz37tbf2wptnhggikt2he\r\nlib/spack/spack/cmd/install.py:397 ==> [2021-07-16-11:13:22.973130] ChildError: RuntimeError: Unable to locate python command in /usr/lib/python-exec/bin\r\nlib/spack/spack/main.py:777 ==> [2021-07-16-11:13:22.973268] ChildError: RuntimeError: Unable to locate python command in /usr/lib/python-exec/bin\r\n\r\n```\r\n\r\n### Information on your system\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n\r\n```console\r\n[runderwood@voyager z-checker2]$ spack debug report\r\n* **Spack:** 0.16.2-3541-64f31c4579\r\n* **Python:** 3.9.5\r\n* **Platform:** linux-gentoo2-skylake\r\n* **Concretizer:** clingo\r\n```\r\n\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n- [x] I have run the failing commands in debug mode and reported the output\r\n",
    "performed_via_github_app": null
}