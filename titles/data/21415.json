{
    "url": "https://api.github.com/repos/spack/spack/issues/21415",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21415/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21415/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21415/events",
    "html_url": "https://github.com/spack/spack/issues/21415",
    "id": 798091145,
    "node_id": "MDU6SXNzdWU3OTgwOTExNDU=",
    "number": 21415,
    "title": "java.lang.NullPointerException : in fastjson@1.2.68 when use mvn test",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-02-01T08:13:12Z",
    "updated_at": "2021-03-12T12:41:26Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Explain, in a clear and concise way, the command you ran and the result you were trying to achieve.\r\nExample: \"I ran `spack find` to list all the installed packages and ...\" -->\r\nI am having trouble about  in fastjson@1.2.68 when use **mvn test** but there was an error: java.lang.NullPointerException .\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n[suse:~]$spack install --keep-stage -v fastjson@1.2.68\r\n[suse:~]$spack cd fastjson@1.2.68\r\n[suse:spack-src]$source ../spack-build-env.txt\r\n[suse:spack-src]$mvn test\r\n\u2026\u2026\r\nRunning com.alibaba.json.bvt.awt.FontTest\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.029 sec <<< FAILURE!\r\ntest_color(com.alibaba.json.bvt.awt.FontTest)  Time elapsed: 0.029 sec  <<< ERROR!\r\njava.lang.NullPointerException\r\n        at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\r\n        at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219)\r\n        at sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n        at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:774)\r\n        at sun.font.SunFontManager$2.run(SunFontManager.java:431)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at sun.font.SunFontManager.<init>(SunFontManager.java:376)\r\n        at sun.awt.FcFontManager.<init>(FcFontManager.java:35)\r\n        at sun.awt.X11FontManager.<init>(X11FontManager.java:57)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at java.lang.Class.newInstance(Class.java:442)\r\n        at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n        at sun.java2d.SunGraphicsEnvironment.getFontManagerForSGE(SunGraphicsEnvironment.java:190)\r\n        at sun.java2d.SunGraphicsEnvironment.getAllFonts(SunGraphicsEnvironment.java:209)\r\n        at sun.java2d.HeadlessGraphicsEnvironment.getAllFonts(HeadlessGraphicsEnvironment.java:91)\r\n        at com.alibaba.json.bvt.awt.FontTest.test_color(FontTest.java:13)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at junit.framework.TestCase.runTest(TestCase.java:176)\r\n        at junit.framework.TestCase.runBare(TestCase.java:141)\r\n        at junit.framework.TestResult$1.protect(TestResult.java:122)\r\n        at junit.framework.TestResult.runProtected(TestResult.java:142)\r\n        at junit.framework.TestResult.run(TestResult.java:125)\r\n        at junit.framework.TestCase.run(TestCase.java:129)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:252)\r\n        at junit.framework.TestSuite.run(TestSuite.java:247)\r\n        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n\r\nRunning com.alibaba.json.bvt.awt.ColorTest\r\n{\"r\":255,\"g\":0,\"b\":0,\"alpha\":255}\r\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec\r\nRunning com.alibaba.json.bvt.awt.ColorTest2\r\n{\"@type\":\"java.awt.Color\",\"r\":255,\"g\":0,\"b\":0,\"alpha\":255}\r\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec\r\nRunning com.alibaba.json.bvt.awt.FontTest2\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec <<< FAILURE!\r\ntest_color(com.alibaba.json.bvt.awt.FontTest2)  Time elapsed: 0 sec  <<< ERROR!\r\njava.lang.NullPointerException\r\n        at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\r\n        at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219)\r\n        at sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n        at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:774)\r\n        at sun.font.SunFontManager$2.run(SunFontManager.java:431)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at sun.font.SunFontManager.<init>(SunFontManager.java:376)\r\n        at sun.awt.FcFontManager.<init>(FcFontManager.java:35)\r\n        at sun.awt.X11FontManager.<init>(X11FontManager.java:57)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at java.lang.Class.newInstance(Class.java:442)\r\n        at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n        at sun.java2d.SunGraphicsEnvironment.getFontManagerForSGE(SunGraphicsEnvironment.java:190)\r\n        at sun.java2d.SunGraphicsEnvironment.getAllFonts(SunGraphicsEnvironment.java:209)\r\n        at sun.java2d.HeadlessGraphicsEnvironment.getAllFonts(HeadlessGraphicsEnvironment.java:91)\r\n        at com.alibaba.json.bvt.awt.FontTest2.test_color(FontTest2.java:14)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at junit.framework.TestCase.runTest(TestCase.java:176)\r\n        at junit.framework.TestCase.runBare(TestCase.java:141)\r\n        at junit.framework.TestResult$1.protect(TestResult.java:122)\r\n        at junit.framework.TestResult.runProtected(TestResult.java:142)\r\n        at junit.framework.TestResult.run(TestResult.java:125)\r\n        at junit.framework.TestCase.run(TestCase.java:129)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:252)\r\n        at junit.framework.TestSuite.run(TestSuite.java:247)\r\n        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n\u2026\u2026\r\nResults :\r\n\r\nTests in error:\r\n  test_color(com.alibaba.json.bvt.awt.FontTest)\r\n  test_color(com.alibaba.json.bvt.awt.FontTest2)\r\n\r\nTests run: 4824, Failures: 0, Errors: 2, Skipped: 0\r\n\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:26 min\r\n[INFO] Finished at: 2021-02-01T15:47:48+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project fastjson: There are test failures.\r\n[ERROR]\r\n[ERROR] Please refer to /home/stage/root/spack-stage-fastjson-1.2.68-fgenj4qd5zk4s5ijmgzatfvfawuups3y/spack-src/target/surefire-reports for the individual test results.\r\n[ERROR] -> [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\nHow to handle the **null pointer error exception**? It points to **test_color** , I need help to solve this problem.\r\n\r\n### Information on your system\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n[suse:spack-src]$spack debug report\r\n* **Spack:** 0.16.0-77-98460b6f4\r\n* **Python:** 3.6.5\r\n* **Platform:** linux-sles15-aarch64\r\n* **Concretizer:** original\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n- [ ] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->\r\n\r\n",
    "performed_via_github_app": null
}