{
    "url": "https://api.github.com/repos/spack/spack/issues/13470",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13470/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13470/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13470/events",
    "html_url": "https://github.com/spack/spack/issues/13470",
    "id": 513392617,
    "node_id": "MDU6SXNzdWU1MTMzOTI2MTc=",
    "number": 13470,
    "title": "Cannot fetch xz",
    "user": {
        "login": "sknigh",
        "id": 18291531,
        "node_id": "MDQ6VXNlcjE4MjkxNTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/18291531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sknigh",
        "html_url": "https://github.com/sknigh",
        "followers_url": "https://api.github.com/users/sknigh/followers",
        "following_url": "https://api.github.com/users/sknigh/following{/other_user}",
        "gists_url": "https://api.github.com/users/sknigh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sknigh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sknigh/subscriptions",
        "organizations_url": "https://api.github.com/users/sknigh/orgs",
        "repos_url": "https://api.github.com/users/sknigh/repos",
        "events_url": "https://api.github.com/users/sknigh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sknigh/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-10-28T15:50:40Z",
    "updated_at": "2019-10-28T16:22:25Z",
    "closed_at": "2019-10-28T16:22:25Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Sourceforge returns an error page when fetching xz on a Centos 7 system. I do not see this error when downloading the archive from a browser.\r\n\r\nThe error was initially encountered when building a Spack stack, but it was reproduced in the same shell with `wget`\r\n```\r\n$ time spack install\r\n==> Installing environment /<ROOT>-envs/mvapich-debug-c76\r\n==> libsigsegv is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/libsigsegv-2.12-4gyso2ykbjpwpniovv4ftige2fwnazjq\r\n==> m4 is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/m4-1.4.18-famt22xfhfcvwkebjutccgk23aktls57\r\n==> pkgconf is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/pkgconf-1.6.3-it4jdev6cffo2zn2sehqjuqjmqgldfky\r\n==> ncurses is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/ncurses-6.0-lxirmoeyz63ywzsiodd6zzzh6uoi2g4f\r\n==> readline is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/readline-8.0-sw4tnwczoakxydae55ebrb7uxfn7xv47\r\n==> gdbm is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/gdbm-1.18.1-p3fo5ty7hrk3hjd7y2i25ltfuuvadras\r\n==> perl is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/perl-5.24.1-repqlleyk5hrvwt3yjkbvsscedsh5cuy\r\n==> autoconf is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/autoconf-2.69-ap6uhczzdk72xgjjswfsuubomspbos4j\r\n==> automake is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/automake-1.16.1-jqprpshjzqdbz6yksgs3ryeu6pvbk5av\r\n==> libtool is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/libtool-2.4.6-vcx7pwugvhgtmba4iaul6sc4vrgu6yo4\r\n==> texinfo is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/texinfo-6.5-fhchtv5b64es6gyerrcwf4r7fjsmls5y\r\n==> findutils is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/findutils-4.6.0-bm3pb6hvn7q3lufbh2qjsfer5w2ndsdx\r\n==> util-macros is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/util-macros-1.19.1-uosaw77iw42jvn4bzgt2q6y3usoykqng\r\n==> libpciaccess is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/libpciaccess-0.13.5-jzu6idccz2tjaqhdqe2iyfqo3hlzgi5j\r\n==> libiconv is already installed in /<ROOT>/opt/spack/linux-centos7-x86_64/gcc-7.4.0/libiconv-1.16-e4k26q2x4svcdanontldcwy7db7kowpn\r\n==> Installing xz\r\n==> Searching for binary cache of xz\r\n==> Finding buildcaches at http://kahuna.ca.sandia.gov/mirror/spack/build_cache\r\n==> No binary for xz found: installing from source\r\n==> Fetching http://tukaani.org/xz/xz-5.2.4.tar.bz2\r\n######################################################################## 100.0%\r\n==> Warning: The contents of the archive look like HTML.  Either the URL you are trying to use does not exist or you have an internet gateway issue.  You can remove the bad archive using 'spack clean <package>', then try again using the correct URL.\r\n==> Error: ChecksumError: sha256 checksum failed for /<TMPROOT>/spack-stage-xz-5.2.4-vewnijktsjco3mbf2ycv6irlvlur46uq/xz-5.2.4.tar.bz2\r\n    Expected 3313fd2a95f43d88e44264e6b015e7d03053e681860b0d5d3f9baca79c57b7bf but got 251a85b3bac687974f360d3796048c20ded3bf0bd69e0d1cfd1db23d013f89ed\r\n\r\n/<ROOT>/lib/spack/spack/package.py:1083, in do_fetch:\r\n       1080        self.stage.fetch(mirror_only)\r\n       1081        self._fetch_time = time.time() - start_time\r\n       1082\r\n  >>   1083        if checksum and self.version in self.versions:\r\n       1084            self.stage.check()\r\n       1085\r\n       1086        self.stage.cache_local()\r\n\r\n\r\n\r\nreal    0m7.743s\r\nuser    0m3.005s\r\nsys     0m0.790s\r\n```\r\n```\r\n$ cat /<TMPROOT>/spack-stage-xz-5.2.4-vewnijktsjco3mbf2ycv6irlvlur46uq/xz-5.2.4.tar.bz2\r\n<html><head>\r\n<title>SourceForge</title>\r\n<!-- <script src=\"/js/jquery.com/jquery-1.11.0.min.js\"></script> -->\r\n<script src=\"https://code.jquery.com/jquery-1.11.0.min.js\"></script>\r\n<script src=\"https://sourceforge.net/js/mirrors.js\"></script>\r\n<script src=\"/js/sf.js\"></script>\r\n<script>\r\nvar DR_loc = DR_parse_hash_url();\r\nif (DR_loc) {\r\n    DR_sf_main(DR_loc);\r\n} else {\r\n    window.location.href = 'https://sourceforge.net/home.html';\r\n}\r\n</script>\r\n<meta name=\"description\" content=\"Free, secure and fast downloads from the largest Open Source applications and software directory - SourceForge.net\"/>\r\n</head><body>\r\n<noscript>\r\nWe're sorry -- the Sourceforge site is currently in Disaster Recovery mode.  Please check back later.\r\n</noscript>\r\n</body></html>\r\n```\r\n```\r\n$ wget http://tukaani.org/xz/xz-5.2.4.tar.bz2\r\n...\r\n$ cat xz-5.2.4.tar.bz2\r\n<html><head>\r\n<title>SourceForge</title>\r\n<!-- <script src=\"/js/jquery.com/jquery-1.11.0.min.js\"></script> -->\r\n<script src=\"https://code.jquery.com/jquery-1.11.0.min.js\"></script>\r\n<script src=\"https://sourceforge.net/js/mirrors.js\"></script>\r\n<script src=\"/js/sf.js\"></script>\r\n<script>\r\nvar DR_loc = DR_parse_hash_url();\r\nif (DR_loc) {\r\n    DR_sf_main(DR_loc);\r\n} else {\r\n    window.location.href = 'https://sourceforge.net/home.html';\r\n}\r\n</script>\r\n<meta name=\"description\" content=\"Free, secure and fast downloads from the largest Open Source applications and software directory - SourceForge.net\"/>\r\n</head><body>\r\n<noscript>\r\nWe're sorry -- the Sourceforge site is currently in Disaster Recovery mode.  Please check back later.\r\n</noscript>\r\n</body></html>\r\n```",
    "performed_via_github_app": null
}