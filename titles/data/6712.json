{
    "url": "https://api.github.com/repos/spack/spack/issues/6712",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/6712/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/6712/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/6712/events",
    "html_url": "https://github.com/spack/spack/issues/6712",
    "id": 283049212,
    "node_id": "MDU6SXNzdWUyODMwNDkyMTI=",
    "number": 6712,
    "title": "Speed of Spack-built executables sub-optimal",
    "user": {
        "login": "baip",
        "id": 6233512,
        "node_id": "MDQ6VXNlcjYyMzM1MTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6233512?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/baip",
        "html_url": "https://github.com/baip",
        "followers_url": "https://api.github.com/users/baip/followers",
        "following_url": "https://api.github.com/users/baip/following{/other_user}",
        "gists_url": "https://api.github.com/users/baip/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/baip/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/baip/subscriptions",
        "organizations_url": "https://api.github.com/users/baip/orgs",
        "repos_url": "https://api.github.com/users/baip/repos",
        "events_url": "https://api.github.com/users/baip/events{/privacy}",
        "received_events_url": "https://api.github.com/users/baip/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446634397,
            "node_id": "MDU6TGFiZWw0NDY2MzQzOTc=",
            "url": "https://api.github.com/repos/spack/spack/labels/discussion",
            "name": "discussion",
            "color": "a87f5a",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-12-18T22:58:03Z",
    "updated_at": "2019-12-12T09:54:55Z",
    "closed_at": "2019-12-12T09:54:54Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I imagine this is likely going to be rather unpopular, but I wanted to put the issue here to give the discussions on #6170 a little more visibility. I like Spack very much, and I'm only hoping that we can think of a better strategy to deal with all the competing priorities.\r\n\r\nSince Spack is a package manager for HPC, one of its main use cases is to build computational-intensive software codes that are going to run on hundreds or thousands of nodes. This makes squeezing the performance much more important than a package manager for an OS distribution. My questions are:\r\n\r\n1. What are the current suggestions to do a build that is performance optimized? Given that a package and its dependencies may require different optimization levels, special `configure` flags (e.g., to turn on AVX), etc., how would a user go about figuring out the set of options for each of the packages, without reducing to reading their INSTALL instructions (which is what package managers are supposed to help with)?\r\n   \r\n   A (non-rigorous) observation is that a particular package Spack builds seems to run 30% slower than hand compiled (or about 15% if I add global optimization/tuning flags to `compilers.yaml` -- as it only helps via the Spack compiler wrappers but not with `configure`).\r\n\r\n   See also #6839, #6749, #6745, #6732, #6640, #6714.\r\n   \r\n2. What is the recommended strategy to deal with multiple machines sharing the same networked file system? When newer machines are installed, if say, the user does not want to use the lowest common denominator and wastes the more powerful instruction sets (that probably come at a price premium), how should the user separate the builds for different machine capabilities?",
    "performed_via_github_app": null
}