{
    "url": "https://api.github.com/repos/spack/spack/issues/6419",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/6419/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/6419/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/6419/events",
    "html_url": "https://github.com/spack/spack/issues/6419",
    "id": 276238146,
    "node_id": "MDU6SXNzdWUyNzYyMzgxNDY=",
    "number": 6419,
    "title": "Fenics fails to run after installation with spack",
    "user": {
        "login": "patrickb314",
        "id": 10564942,
        "node_id": "MDQ6VXNlcjEwNTY0OTQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/10564942?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/patrickb314",
        "html_url": "https://github.com/patrickb314",
        "followers_url": "https://api.github.com/users/patrickb314/followers",
        "following_url": "https://api.github.com/users/patrickb314/following{/other_user}",
        "gists_url": "https://api.github.com/users/patrickb314/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/patrickb314/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/patrickb314/subscriptions",
        "organizations_url": "https://api.github.com/users/patrickb314/orgs",
        "repos_url": "https://api.github.com/users/patrickb314/repos",
        "events_url": "https://api.github.com/users/patrickb314/events{/privacy}",
        "received_events_url": "https://api.github.com/users/patrickb314/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2017-11-23T00:16:09Z",
    "updated_at": "2018-04-20T13:37:12Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Fenics fails to run after installation with spack\r\n\r\n### Expected Result\r\n\r\nTo be able to execute simple fenics scripts using the spack-built fenics.\r\n\r\n### Actual Result\r\n\r\nSimply importing the fenics module into the spack-provided python fails with:\r\n```console\r\nImportError: No module named _common\r\n```\r\n\r\n### Steps to reproduce the issue\r\n\r\n```\r\nbridges@wheeler-sn[500]> module load fenics-2017.1.0-intel-17.0.4-impi-mkl-python2-zre3f5b\r\nAutoloading eigen-3.3.3-intel-17.0.4-impi-mkl-lnbosvu\r\nAutoloading metis-5.1.0-intel-17.0.4-xyonw4o\r\nAutoloading fftw-3.3.6-pl2-intel-17.0.4-impi-bwlmvhs\r\nAutoloading intel-mpi-2017.4-intel-17.0.4-ataurnp\r\nAutoloading suite-sparse-4.5.5-intel-17.0.4-mkl-v6mhhmc\r\nAutoloading intel-mkl-17.0.4-intel-17.0.4-z2nms2r\r\nAutoloading gmp-6.1.2-intel-17.0.4-asgihpm\r\nAutoloading scotch-6.0.4-intel-17.0.4-impi-dxrzrfk\r\nAutoloading mpfr-3.1.5-intel-17.0.4-e2wn26r\r\nAutoloading py-mpmath-0.19-intel-17.0.4-python2-bub4nhr\r\nAutoloading python-2.7.13-intel-17.0.4-ufhcwdr\r\nAutoloading bzip2-1.0.6-intel-17.0.4-zjtu25w\r\nAutoloading ncurses-6.0-intel-17.0.4-j3ftwhg\r\nAutoloading openssl-1.0.2k-intel-17.0.4-6n2jfwi\r\nAutoloading sqlite-3.18.0-intel-17.0.4-cyhl22m\r\nAutoloading readline-7.0-intel-17.0.4-psasazv\r\nAutoloading readline-7.0-intel-17.0.4-psasazv\r\nAutoloading py-ply-3.8-intel-17.0.4-python2-ntmnh7h\r\nAutoloading py-instant-2017.1.0-intel-17.0.4-mkl-python2-ebd5pyo\r\nAutoloading swig-3.0.12-intel-17.0.4-bbmqam2\r\nAutoloading pcre-8.40-intel-17.0.4-72ed5lu\r\nAutoloading py-setuptools-35.0.2-intel-17.0.4-python2-jg3axmx\r\nAutoloading py-six-1.10.0-intel-17.0.4-python2-mj2hiwx\r\nAutoloading py-appdirs-1.4.3-intel-17.0.4-python2-mupwe3g\r\nAutoloading py-packaging-16.8-intel-17.0.4-python2-js2s5wi\r\nAutoloading py-pyparsing-2.2.0-intel-17.0.4-python2-vh7hq5e\r\nAutoloading py-numpy-1.13.0-intel-17.0.4-mkl-python2-bby27xc\r\nAutoloading py-subprocess32-3.2.7-intel-17.0.4-python2-5aviwgl\r\nAutoloading py-subprocess32-3.2.7-intel-17.0.4-python2-5aviwgl\r\nAutoloading py-slepc4py-3.7.0-intel-17.0.4-impi-mkl-python2-iahwthv\r\nAutoloading py-petsc4py-3.7.0-intel-17.0.4-impi-mkl-python2-y6jgyt6\r\nAutoloading petsc-3.7.6-intel-17.0.4-impi-mkl-3x6zx5l\r\nAutoloading hypre-2.11.2-intel-17.0.4-impi-mkl-g5srp2y\r\nAutoloading superlu-dist-5.1.3-intel-17.0.4-impi-mkl-ymsttjs\r\nAutoloading parmetis-4.0.3-intel-17.0.4-impi-3bbdt5v\r\nAutoloading hdf5-1.10.1-intel-17.0.4-impi-63jbam2\r\nAutoloading parmetis-4.0.3-intel-17.0.4-impi-3bbdt5v\r\nAutoloading py-mpi4py-2.0.0-intel-17.0.4-impi-python2-ozw6g4g\r\nAutoloading slepc-3.7.4-intel-17.0.4-impi-mkl-fy5wf4h\r\nAutoloading arpack-ng-3.5.0-intel-17.0.4-impi-mkl-l7ewls2\r\nAutoloading py-ufl-2017.1.0-intel-17.0.4-mkl-python2-2xalq65\r\nAutoloading cmake-3.8.1-intel-17.0.4-m63t5kd\r\nAutoloading py-sympy-1.0-intel-17.0.4-python2-tap7mf2\r\nAutoloading py-dijitso-2017.1.0-intel-17.0.4-mkl-python2-ljegoot\r\nAutoloading boost-1.63.0-intel-17.0.4-bjbzbtc\r\nAutoloading trilinos-12.10.1-intel-17.0.4-impi-mkl-l67gizf\r\nAutoloading glm-0.9.7.1-intel-17.0.4-wmre6yo\r\nAutoloading netcdf-4.4.1.1-intel-17.0.4-impi-bdktit6\r\nAutoloading mumps-5.1.1-intel-17.0.4-impi-mkl-6enszkq\r\nAutoloading matio-1.5.9-intel-17.0.4-impi-sjmlxnf\r\nAutoloading python-2.7.13-intel-17.0.4-ufhcwdr\r\nAutoloading swig-3.0.12-intel-17.0.4-bbmqam2\r\nAutoloading py-six-1.10.0-intel-17.0.4-python2-mj2hiwx\r\nAutoloading suite-sparse-4.5.5-intel-17.0.4-mkl-v6mhhmc\r\nAutoloading py-setuptools-35.0.2-intel-17.0.4-python2-jg3axmx\r\nAutoloading parmetis-4.0.3-intel-17.0.4-impi-3bbdt5v\r\nAutoloading hdf5-1.10.1-intel-17.0.4-impi-63jbam2\r\nAutoloading slepc-3.7.4-intel-17.0.4-impi-mkl-python2-fy5wf4h\r\nAutoloading py-numpy-1.13.0-intel-17.0.4-mkl-python2-bby27xc\r\nAutoloading petsc-3.7.6-intel-17.0.4-impi-mkl-python2-3x6zx5l\r\nAutoloading py-petsc4py-3.7.0-intel-17.0.4-impi-mkl-python2-y6jgyt6\r\nAutoloading py-fiat-2017.1.0-intel-17.0.4-mkl-python2-6krzj5q\r\nAutoloading py-ffc-2017.1.0-intel-17.0.4-mkl-python2-mleunix\r\nAutoloading scotch-6.0.4-intel-17.0.4-impi-dxrzrfk\r\nAutoloading intel-mpi-2017.4-intel-17.0.4-ataurnp\r\nbridges@wheeler-sn[501]> which python\r\npython is /opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/python-2.7.13-ufhcwdrlqo7lt2i2otrgvmgh5f4jrzyt/bin/python\r\nbridges@wheeler-sn[502]> python -c 'import fenics'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/fenics-2017.1.0-zre3f5b4xo4u2z45jjnoeqvzzfv4l35m/lib/python2.7/site-packages/fenics/__init__.py\", line 7, in <module>\r\n    from dolfin import *\r\n  File \"/opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/fenics-2017.1.0-zre3f5b4xo4u2z45jjnoeqvzzfv4l35m/lib/python2.7/site-packages/dolfin/__init__.py\", line 17, in <module>\r\n    from . import cpp\r\n  File \"/opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/fenics-2017.1.0-zre3f5b4xo4u2z45jjnoeqvzzfv4l35m/lib/python2.7/site-packages/dolfin/cpp/__init__.py\", line 43, in <module>\r\n    exec(\"from . import %s\" % module_name)\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/fenics-2017.1.0-zre3f5b4xo4u2z45jjnoeqvzzfv4l35m/lib/python2.7/site-packages/dolfin/cpp/common.py\", line 21, in <module>\r\n    _common = swig_import_helper()\r\n  File \"/opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/fenics-2017.1.0-zre3f5b4xo4u2z45jjnoeqvzzfv4l35m/lib/python2.7/site-packages/dolfin/cpp/common.py\", line 20, in swig_import_helper\r\n    return importlib.import_module('_common')\r\n  File \"/opt/spack/opt/spack/linux-centos7-x86_64/intel-17.0.4/python-2.7.13-ufhcwdrlqo7lt2i2otrgvmgh5f4jrzyt/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\nImportError: No module named _common\r\nbridges@wheeler-sn[503]>\r\n```\r\n\r\n### Information on your system\r\n\r\nThis includes:\r\n\r\n 1. OpenHPC Running on CentOS 7.3\r\n\r\n",
    "performed_via_github_app": null
}