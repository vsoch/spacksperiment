{
    "url": "https://api.github.com/repos/spack/spack/issues/17053",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/17053/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/17053/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/17053/events",
    "html_url": "https://github.com/spack/spack/issues/17053",
    "id": 636924622,
    "node_id": "MDU6SXNzdWU2MzY5MjQ2MjI=",
    "number": 17053,
    "title": "Installation issue: mvapich2",
    "user": {
        "login": "andymwood",
        "id": 7825213,
        "node_id": "MDQ6VXNlcjc4MjUyMTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7825213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andymwood",
        "html_url": "https://github.com/andymwood",
        "followers_url": "https://api.github.com/users/andymwood/followers",
        "following_url": "https://api.github.com/users/andymwood/following{/other_user}",
        "gists_url": "https://api.github.com/users/andymwood/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/andymwood/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/andymwood/subscriptions",
        "organizations_url": "https://api.github.com/users/andymwood/orgs",
        "repos_url": "https://api.github.com/users/andymwood/repos",
        "events_url": "https://api.github.com/users/andymwood/events{/privacy}",
        "received_events_url": "https://api.github.com/users/andymwood/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2020-06-11T11:05:03Z",
    "updated_at": "2020-08-24T16:58:04Z",
    "closed_at": "2020-08-24T15:36:08Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "<!-- Thanks for taking the time to report this build failure. To proceed with the report please:\r\n\r\n1. Title the issue \"Installation issue: <name-of-the-package>\".\r\n2. Provide the information required below.\r\n\r\nWe encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively! -->\r\n\r\nI'm trying to build mvapich2 in CentOS 7 with gcc 7.3.1 and configured for slurm and nemesis. The build succeeds for mvapich2@2.3.3 but fails for mvapich2@2.3.4.\r\n\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n$ spack install mvapich2@2.3.4 process_managers=slurm fabrics=nemesis\r\n...\r\n==> 23457: Installing mvapich2\r\n==> Finding buildcaches in /home/vagrant/mirror/build_cache\r\n==> Fetching file:///home/vagrant/mirror/build_cache/linux-centos7-sandybridge-gcc-8.3.1-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd.spec.yaml\r\ncurl: (37) Couldn't open file /home/vagrant/mirror/build_cache/linux-centos7-sandybridge-gcc-8.3.1-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd.spec.yaml\r\n==> Failed to fetch file from URL: file:///home/vagrant/mirror/build_cache/linux-centos7-sandybridge-gcc-8.3.1-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd.spec.yaml\r\n    Curl failed with error 37\r\n==> Fetching from file:///home/vagrant/mirror/build_cache/linux-centos7-sandybridge-gcc-8.3.1-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd.spec.yaml failed.\r\n==> Using cached archive: /home/vagrant/spack/var/spack/cache/_source-cache/archive/72/7226a45c7c98333c8e5d2888119cce186199b430c13b7b1dca1769909e68ea7a.tar.gz\r\n==> Staging archive: /tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/mvapich2-2.3.4.tar.gz\r\n==> Created stage in /tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd\r\n==> No patches needed for mvapich2\r\n==> 23457: mvapich2: Building mvapich2 [AutotoolsPackage]\r\n==> 23457: mvapich2: Executing phase: 'autoreconf'\r\n==> 23457: mvapich2: Executing phase: 'configure'\r\n==> 23457: mvapich2: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j4'\r\n\r\n1 error found in build log:\r\n     2897    mv -f src/mpi/coll/.deps/lib_libmpi_la-nbcutil.Tpo src/mpi/coll/.d\r\n             eps/lib_libmpi_la-nbcutil.Plo\r\n     2898    /bin/sh ./libtool  --tag=CC   --mode=compile /home/vagrant/spack/l\r\n             ib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I./src/include  -I./src/\r\n             include -I./src/mpi/datatype -I./src/mpi/spawn -I./src/util/dbg -I\r\n             src/util/logging/common -I./src/util/mem -I./src/util/thread -I./s\r\n             rc/util/type -I./src/util/wrappers -I./src/util/wrappers -I./src/u\r\n             til/assert -I./src/util/timers -I./src/util/pointer -I./src/bindin\r\n             g/cxx -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxl\r\n             fjcx62bu66ytl7corlsczgydxd/spack-src/src/binding/fortran/mpif_h -I\r\n             src/binding/fortran/use_mpi  -I./src/mpid/ch3/include -I./src/mpid\r\n             /ch3/include -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4\r\n             -a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpid/ch3/channels/\r\n             common/include  -I./src/mpid/ch3/channels/nemesis/include -I./src/\r\n             mpid/ch3/channels/nemesis/include  -I./src/mpid/ch3/channels/nemes\r\n             is/utils/monitor              -I./src/mpid/common/datatype -I./src\r\n             /mpid/common/datatype -I./src/mpid/common/sched   -I./src/mpid/com\r\n             mon/thread -I./src/mpid/common/timers     -I./src/pmi/simple  -I/t\r\n             mp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66\r\n             ytl7corlsczgydxd/spack-src/src/mpl/include -I/tmp/vagrant/spack-st\r\n             age/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/sp\r\n             ack-src/src/mpl/include -I/tmp/vagrant/spack-stage/spack-stage-mva\r\n             pich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/openpa/\r\n             src -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfj\r\n             cx62bu66ytl7corlsczgydxd/spack-src/src/openpa/src -D_REENTRANT -I/\r\n             tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu6\r\n             6ytl7corlsczgydxd/spack-src/src/mpi/romio/include -I/home/vagrant/\r\n             spack/opt/spack/linux-centos7-sandybridge/gcc-8.3.1/slurm-19-05-6-\r\n             1-qawb2uwcv3evmdj3gqmrybduqfze3tou/include  -DNDEBUG -DNVALGRIND -\r\n             O2 -MT src/mpi/errhan/lib_libmpi_la-errutil.lo -MD -MP -MF src/mpi\r\n             /errhan/.deps/lib_libmpi_la-errutil.Tpo -c -o src/mpi/errhan/lib_l\r\n             ibmpi_la-errutil.lo `test -f 'src/mpi/errhan/errutil.c' || echo '.\r\n             /'`src/mpi/errhan/errutil.c\r\n     2899    libtool: compile:  /home/vagrant/spack/lib/spack/env/gcc/gcc -DHAV\r\n             E_CONFIG_H -I. -I./src/include -I./src/include -I./src/mpi/datatyp\r\n             e -I./src/mpi/spawn -I./src/util/dbg -Isrc/util/logging/common -I.\r\n             /src/util/mem -I./src/util/thread -I./src/util/type -I./src/util/w\r\n             rappers -I./src/util/wrappers -I./src/util/assert -I./src/util/tim\r\n             ers -I./src/util/pointer -I./src/binding/cxx -I/tmp/vagrant/spack-\r\n             stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/\r\n             spack-src/src/binding/fortran/mpif_h -Isrc/binding/fortran/use_mpi\r\n              -I./src/mpid/ch3/include -I./src/mpid/ch3/include -I/tmp/vagrant/\r\n             spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlscz\r\n             gydxd/spack-src/src/mpid/ch3/channels/common/include -I./src/mpid/\r\n             ch3/channels/nemesis/include -I./src/mpid/ch3/channels/nemesis/inc\r\n             lude -I./src/mpid/ch3/channels/nemesis/utils/monitor -I./src/mpid/\r\n             common/datatype -I./src/mpid/common/datatype -I./src/mpid/common/s\r\n             ched -I./src/mpid/common/thread -I./src/mpid/common/timers -I./src\r\n             /pmi/simple -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-\r\n             a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpl/include -I/tmp/\r\n             vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl\r\n             7corlsczgydxd/spack-src/src/mpl/include -I/tmp/vagrant/spack-stage\r\n             /spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack\r\n             -src/src/openpa/src -I/tmp/vagrant/spack-stage/spack-stage-mvapich\r\n             2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/openpa/src \r\n             -D_REENTRANT -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4\r\n             -a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpi/romio/include \r\n             -I/home/vagrant/spack/opt/spack/linux-centos7-sandybridge/gcc-8.3.\r\n             1/slurm-19-05-6-1-qawb2uwcv3evmdj3gqmrybduqfze3tou/include -DNDEBU\r\n             G -DNVALGRIND -O2 -MT src/mpi/comm/lib_libmpi_la-commutil.lo -MD -\r\n             MP -MF src/mpi/comm/.deps/lib_libmpi_la-commutil.Tpo -c src/mpi/co\r\n             mm/commutil.c  -fPIC -DPIC -o src/mpi/comm/.libs/lib_libmpi_la-com\r\n             mutil.o\r\n     2900    libtool: compile:  /home/vagrant/spack/lib/spack/env/gcc/gcc -DHAV\r\n             E_CONFIG_H -I. -I./src/include -I./src/include -I./src/mpi/datatyp\r\n             e -I./src/mpi/spawn -I./src/util/dbg -Isrc/util/logging/common -I.\r\n             /src/util/mem -I./src/util/thread -I./src/util/type -I./src/util/w\r\n             rappers -I./src/util/wrappers -I./src/util/assert -I./src/util/tim\r\n             ers -I./src/util/pointer -I./src/binding/cxx -I/tmp/vagrant/spack-\r\n             stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/\r\n             spack-src/src/binding/fortran/mpif_h -Isrc/binding/fortran/use_mpi\r\n              -I./src/mpid/ch3/include -I./src/mpid/ch3/include -I/tmp/vagrant/\r\n             spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlscz\r\n             gydxd/spack-src/src/mpid/ch3/channels/common/include -I./src/mpid/\r\n             ch3/channels/nemesis/include -I./src/mpid/ch3/channels/nemesis/inc\r\n             lude -I./src/mpid/ch3/channels/nemesis/utils/monitor -I./src/mpid/\r\n             common/datatype -I./src/mpid/common/datatype -I./src/mpid/common/s\r\n             ched -I./src/mpid/common/thread -I./src/mpid/common/timers -I./src\r\n             /pmi/simple -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-\r\n             a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpl/include -I/tmp/\r\n             vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl\r\n             7corlsczgydxd/spack-src/src/mpl/include -I/tmp/vagrant/spack-stage\r\n             /spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack\r\n             -src/src/openpa/src -I/tmp/vagrant/spack-stage/spack-stage-mvapich\r\n             2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/openpa/src \r\n             -D_REENTRANT -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4\r\n             -a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpi/romio/include \r\n             -I/home/vagrant/spack/opt/spack/linux-centos7-sandybridge/gcc-8.3.\r\n             1/slurm-19-05-6-1-qawb2uwcv3evmdj3gqmrybduqfze3tou/include -DNDEBU\r\n             G -DNVALGRIND -O2 -MT src/mpi/comm/lib_libmpi_la-contextid.lo -MD \r\n             -MP -MF src/mpi/comm/.deps/lib_libmpi_la-contextid.Tpo -c src/mpi/\r\n             comm/contextid.c  -fPIC -DPIC -o src/mpi/comm/.libs/lib_libmpi_la-\r\n             contextid.o\r\n     2901    libtool: compile:  /home/vagrant/spack/lib/spack/env/gcc/gcc -DHAV\r\n             E_CONFIG_H -I. -I./src/include -I./src/include -I./src/mpi/datatyp\r\n             e -I./src/mpi/spawn -I./src/util/dbg -Isrc/util/logging/common -I.\r\n             /src/util/mem -I./src/util/thread -I./src/util/type -I./src/util/w\r\n             rappers -I./src/util/wrappers -I./src/util/assert -I./src/util/tim\r\n             ers -I./src/util/pointer -I./src/binding/cxx -I/tmp/vagrant/spack-\r\n             stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/\r\n             spack-src/src/binding/fortran/mpif_h -Isrc/binding/fortran/use_mpi\r\n              -I./src/mpid/ch3/include -I./src/mpid/ch3/include -I/tmp/vagrant/\r\n             spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlscz\r\n             gydxd/spack-src/src/mpid/ch3/channels/common/include -I./src/mpid/\r\n             ch3/channels/nemesis/include -I./src/mpid/ch3/channels/nemesis/inc\r\n             lude -I./src/mpid/ch3/channels/nemesis/utils/monitor -I./src/mpid/\r\n             common/datatype -I./src/mpid/common/datatype -I./src/mpid/common/s\r\n             ched -I./src/mpid/common/thread -I./src/mpid/common/timers -I./src\r\n             /pmi/simple -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-\r\n             a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpl/include -I/tmp/\r\n             vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl\r\n             7corlsczgydxd/spack-src/src/mpl/include -I/tmp/vagrant/spack-stage\r\n             /spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack\r\n             -src/src/openpa/src -I/tmp/vagrant/spack-stage/spack-stage-mvapich\r\n             2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/openpa/src \r\n             -D_REENTRANT -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4\r\n             -a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpi/romio/include \r\n             -I/home/vagrant/spack/opt/spack/linux-centos7-sandybridge/gcc-8.3.\r\n             1/slurm-19-05-6-1-qawb2uwcv3evmdj3gqmrybduqfze3tou/include -DNDEBU\r\n             G -DNVALGRIND -O2 -MT src/mpi/datatype/lib_libmpi_la-typeutil.lo -\r\n             MD -MP -MF src/mpi/datatype/.deps/lib_libmpi_la-typeutil.Tpo -c sr\r\n             c/mpi/datatype/typeutil.c  -fPIC -DPIC -o src/mpi/datatype/.libs/l\r\n             ib_libmpi_la-typeutil.o\r\n     2902    libtool: compile:  /home/vagrant/spack/lib/spack/env/gcc/gcc -DHAV\r\n             E_CONFIG_H -I. -I./src/include -I./src/include -I./src/mpi/datatyp\r\n             e -I./src/mpi/spawn -I./src/util/dbg -Isrc/util/logging/common -I.\r\n             /src/util/mem -I./src/util/thread -I./src/util/type -I./src/util/w\r\n             rappers -I./src/util/wrappers -I./src/util/assert -I./src/util/tim\r\n             ers -I./src/util/pointer -I./src/binding/cxx -I/tmp/vagrant/spack-\r\n             stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/\r\n             spack-src/src/binding/fortran/mpif_h -Isrc/binding/fortran/use_mpi\r\n              -I./src/mpid/ch3/include -I./src/mpid/ch3/include -I/tmp/vagrant/\r\n             spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlscz\r\n             gydxd/spack-src/src/mpid/ch3/channels/common/include -I./src/mpid/\r\n             ch3/channels/nemesis/include -I./src/mpid/ch3/channels/nemesis/inc\r\n             lude -I./src/mpid/ch3/channels/nemesis/utils/monitor -I./src/mpid/\r\n             common/datatype -I./src/mpid/common/datatype -I./src/mpid/common/s\r\n             ched -I./src/mpid/common/thread -I./src/mpid/common/timers -I./src\r\n             /pmi/simple -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4-\r\n             a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpl/include -I/tmp/\r\n             vagrant/spack-stage/spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl\r\n             7corlsczgydxd/spack-src/src/mpl/include -I/tmp/vagrant/spack-stage\r\n             /spack-stage-mvapich2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack\r\n             -src/src/openpa/src -I/tmp/vagrant/spack-stage/spack-stage-mvapich\r\n             2-2.3.4-a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/openpa/src \r\n             -D_REENTRANT -I/tmp/vagrant/spack-stage/spack-stage-mvapich2-2.3.4\r\n             -a2ixxlfjcx62bu66ytl7corlsczgydxd/spack-src/src/mpi/romio/include \r\n             -I/home/vagrant/spack/opt/spack/linux-centos7-sandybridge/gcc-8.3.\r\n             1/slurm-19-05-6-1-qawb2uwcv3evmdj3gqmrybduqfze3tou/include -DNDEBU\r\n             G -DNVALGRIND -O2 -MT src/mpi/errhan/lib_libmpi_la-errutil.lo -MD \r\n             -MP -MF src/mpi/errhan/.deps/lib_libmpi_la-errutil.Tpo -c src/mpi/\r\n             errhan/errutil.c  -fPIC -DPIC -o src/mpi/errhan/.libs/lib_libmpi_l\r\n             a-errutil.o\r\n  >> 2903    src/mpi/comm/contextid.c:13:10: fatal error: helper_fns.h: No such\r\n              file or directory\r\n     2904     #include \"helper_fns.h\"\r\n     2905              ^~~~~~~~~~~~~~\r\n     2906    compilation terminated.\r\n```\r\n\r\n### Information on your system\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n* **Spack:** 0.14.2-1390-19dba603a\r\n* **Python:** 2.7.5\r\n* **Platform:** linux-centos7-sandybridge\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- Please upload the following files. They should be present in the stage directory of the failing build. Also upload any config.log or similar file if one exists. -->\r\n* [mvapich2-spack-build-env.txt](https://github.com/spack/spack/files/4764323/mvapich2-spack-build-env.txt)\r\n* [mvapich2-spack-build-out.txt](https://github.com/spack/spack/files/4764324/mvapich2-spack-build-out.txt)\r\n\r\n<!-- Some packages have maintainers who have volunteered to debug build failures. Run `spack maintainers <name-of-the-package>` and @mention them here if they exist. -->\r\n\r\n\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [x] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [x] I have uploaded the build log and environment files\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}