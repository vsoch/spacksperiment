{
    "url": "https://api.github.com/repos/spack/spack/issues/16979",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16979/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16979/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16979/events",
    "html_url": "https://github.com/spack/spack/issues/16979",
    "id": 632163320,
    "node_id": "MDU6SXNzdWU2MzIxNjMzMjA=",
    "number": 16979,
    "title": "Problem with conflict resolution (kokkos +cuda)",
    "user": {
        "login": "mrzv",
        "id": 720816,
        "node_id": "MDQ6VXNlcjcyMDgxNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/720816?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mrzv",
        "html_url": "https://github.com/mrzv",
        "followers_url": "https://api.github.com/users/mrzv/followers",
        "following_url": "https://api.github.com/users/mrzv/following{/other_user}",
        "gists_url": "https://api.github.com/users/mrzv/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mrzv/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mrzv/subscriptions",
        "organizations_url": "https://api.github.com/users/mrzv/orgs",
        "repos_url": "https://api.github.com/users/mrzv/repos",
        "events_url": "https://api.github.com/users/mrzv/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mrzv/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        },
        {
            "id": 521903170,
            "node_id": "MDU6TGFiZWw1MjE5MDMxNzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/user-experience",
            "name": "user-experience",
            "color": "bfdadc",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-06-06T03:11:08Z",
    "updated_at": "2020-06-06T17:00:32Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I'm getting a cryptic error message when trying to install `kokkos +cuda`.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack spec kokkos +cuda cuda_arch=75\r\n```\r\n\r\n### Error Message\r\n\r\n```console\r\nInput spec\r\n--------------------------------\r\nkokkos+cuda cuda_arch=75\r\n\r\nConcretized\r\n--------------------------------\r\n==> Error: Conflicts in concretized spec \"kokkos@3.1.01%gcc@10.1.0~aggressive_vectorization~compiler_warnings+cuda~cuda_lambda~cuda_ldg_intrinsic~cuda_relocatable_device_code~cuda_uvm~debug~debug_bounds_check~debug_dualview_modify_check~deprecated_code~examples~explicit_instantiation~hip~hpx~hpx_async_dispatch~hwloc~memkind~numactl~openmp+profiling~profiling_load_print~pthread~qthread+serial+shared~tests~wrapper amd_gpu_arch=none build_type=RelWithDebInfo cuda_arch=75 std=11 arch=linux-arch-cascadelake/oyw4paw\"\r\n\r\nList of matching conflicts for spec:\r\n\r\n    kokkos@3.1.01%gcc@10.1.0~aggressive_vectorization~compiler_warnings+cuda~cuda_lambda~cuda_ldg_intrinsic~cuda_relocatable_device_code~cuda_uvm~debug~debug_bounds_check~debug_dualview_modify_check~deprecated_code~examples~explicit_instantiation~hip~hpx~hpx_async_dispatch~hwloc~memkind~numactl~openmp+profiling~profiling_load_print~pthread~qthread+serial+shared~tests~wrapper amd_gpu_arch=none build_type=RelWithDebInfo cuda_arch=75 std=11 arch=linux-arch-cascadelake\r\n        ^cmake@3.17.1%gcc@10.1.0~doc+ncurses+openssl+ownlibs~qt patches=1c540040c7e203dd8e27aa20345ecb07fe06570d56410a24a266ae570b1c4c39 arch=linux-arch-cascadelake\r\n            ^ncurses@6.2%gcc@10.1.0~symlinks+termlib arch=linux-arch-cascadelake\r\n                ^pkgconf@1.6.3%gcc@10.1.0 arch=linux-arch-cascadelake\r\n            ^openssl@1.1.1g%gcc@10.1.0+systemcerts arch=linux-arch-cascadelake\r\n                ^perl@5.30.2%gcc@10.1.0+cpanm+shared+threads arch=linux-arch-cascadelake\r\n                    ^gdbm@1.18.1%gcc@10.1.0 patches=7f569b9287e9e5a4236636eef32ff3428f0462ec17aea359e0ebee07649f1f16 arch=linux-arch-cascadelake\r\n                        ^readline@8.0%gcc@10.1.0 arch=linux-arch-cascadelake\r\n                ^zlib@1.2.11%gcc@10.1.0+optimize+pic+shared arch=linux-arch-cascadelake\r\n        ^cuda@10.2.89%gcc@10.1.0 arch=linux-arch-cascadelake\r\n            ^libxml2@2.9.10%gcc@10.1.0~python arch=linux-arch-cascadelake\r\n                ^libiconv@1.16%gcc@10.1.0 arch=linux-arch-cascadelake\r\n                ^xz@5.2.5%gcc@10.1.0 arch=linux-arch-cascadelake\r\n\r\n1. \"%gcc@9:\" conflicts with \"kokkos+cuda ^cuda@:10.2.89 arch=linux-None-x86_64:\"\r\n```\r\n\r\n### Additional information\r\n\r\n`spack install kokkos` (i.e., without cuda) works fine. So does `spack install cuda`.\r\n\r\nNot sure if this is helpful, but here are my compilers. `gcc@10.1.0` is used by default.\r\n```console\r\nspack compilers\r\n==> Available compilers\r\n-- clang arch-x86_64 --------------------------------------------\r\nclang@10.0.0  clang@9.0.1\r\n\r\n-- gcc arch-x86_64 ----------------------------------------------\r\ngcc@10.1.0  gcc@9.3.0  gcc@9.2.1  gcc@8.4.0  gcc@8.3.0  gcc@7.5.0  gcc@5.5.0\r\n```\r\n\r\n### Information on your system\r\n\r\n```console\r\n$ spack debug report\r\n* **Spack:** 0.14.2-1339-76abf3581\r\n* **Python:** 3.8.2\r\n* **Platform:** linux-arch-cascadelake\r\n```",
    "performed_via_github_app": null
}