{
    "url": "https://api.github.com/repos/spack/spack/issues/10336",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10336/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10336/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10336/events",
    "html_url": "https://github.com/spack/spack/issues/10336",
    "id": 398646876,
    "node_id": "MDU6SXNzdWUzOTg2NDY4NzY=",
    "number": 10336,
    "title": "Installation issue:  Python 2.7.15 (Mac High Sierra)",
    "user": {
        "login": "paul-hammant",
        "id": 82182,
        "node_id": "MDQ6VXNlcjgyMTgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/82182?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paul-hammant",
        "html_url": "https://github.com/paul-hammant",
        "followers_url": "https://api.github.com/users/paul-hammant/followers",
        "following_url": "https://api.github.com/users/paul-hammant/following{/other_user}",
        "gists_url": "https://api.github.com/users/paul-hammant/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/paul-hammant/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/paul-hammant/subscriptions",
        "organizations_url": "https://api.github.com/users/paul-hammant/orgs",
        "repos_url": "https://api.github.com/users/paul-hammant/repos",
        "events_url": "https://api.github.com/users/paul-hammant/events{/privacy}",
        "received_events_url": "https://api.github.com/users/paul-hammant/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 446614839,
            "node_id": "MDU6TGFiZWw0NDY2MTQ4Mzk=",
            "url": "https://api.github.com/repos/spack/spack/labels/macOS",
            "name": "macOS",
            "color": "c5def5",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2019-01-13T11:12:14Z",
    "updated_at": "2019-08-19T04:02:16Z",
    "closed_at": "2019-08-17T12:30:26Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "```commandline\r\n$ ./spack install -j 1 python@2.7.15\r\n==> diffutils is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/diffutils-3.6-b2k4ycyrzq3a5jxkbfhsvccsnyeui7ju\r\n==> bzip2 is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/bzip2-1.0.6-q7loogazhq2xolpmkiyeqz53tvpqbqdj\r\n==> pkgconf is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/pkgconf-1.5.4-v6nji6urapzl7zhtc5a33gx3qjffnuhq\r\n==> ncurses is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/ncurses-6.1-3zvai2464mpmryqtefjdkzn3udofiwux\r\n==> readline is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/readline-7.0-gudiambsgalud5frz557xz6blvb3dfes\r\n==> gdbm is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/gdbm-1.18.1-e7c7wi73impjaqjsd4nkneizcschurpv\r\n==> perl is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/perl-5.26.2-c7io3u3umylskbrpbmqh4xylvbpazpce\r\n==> zlib is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/zlib-1.2.11-caosjr5fcruvzyocttnqqkpackpwyzpz\r\n==> openssl is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/openssl-1.1.1-e7w5puuivspz3frbivpue5yzdxfk3mnd\r\n==> sqlite is already installed in /scm/oss/spack/opt/spack/darwin-highsierra-x86_64/clang-10.0.0-apple/sqlite-3.26.0-eu6sklafzlyrrdwma2hwo5lxugmtkfpu\r\n==> Installing python\r\n==> Searching for binary cache of python\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for python found: installing from source\r\n==> Using cached archive: /scm/oss/spack/var/spack/cache/python/python-2.7.15.tgz\r\n==> Staging archive: /scm/oss/spack/var/spack/stage/python-2.7.15-3gozdmnyivdt2kbo6p63pdbek2vkitw5/Python-2.7.15.tgz\r\n==> Created stage in /scm/oss/spack/var/spack/stage/python-2.7.15-3gozdmnyivdt2kbo6p63pdbek2vkitw5\r\n==> Applied patch /scm/oss/spack/var/spack/repos/builtin/packages/python/ncurses.patch\r\n==> Ran patch() for python\r\n==> Building python [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make'\r\n\r\n3 errors found in build log:\r\n     692    In file included from /scm/oss/spack/var/spack/stage/python-2.7.15-3gozdmnyivdt2kbo6p63pdbek2vkitw5/Python-2.7.15/Include/pymactoolbox.h:10:\r\n     693    In file included from /System/Library/Frameworks/Carbon.framework/Headers/Carbon.h:20:\r\n     694    In file included from /System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:23:\r\n     695    In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20:\r\n     696    In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:208:\r\n     697    In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/HFSVolumes.h:25:\r\n  >> 698    /usr/include/hfs/hfs_format.h:794:2: error: unknown type name 'uuid_string_t'; did you mean 'io_string_t'?\r\n     699            uuid_string_t   ext_jnl_uuid;\r\n     700            ^\r\n     701    /usr/include/device/device_types.h:89:16: note: 'io_string_t' declared here\r\n     702    typedef char                    io_string_t[512];\r\n     703                                    ^\r\n     704    In file included from /scm/oss/spack/var/spack/stage/python-2.7.15-3gozdmnyivdt2kbo6p63pdbek2vkitw5/Python-2.7.15/Python/mactoolboxglue.c:27:\r\n     705    In file included from /scm/oss/spack/var/spack/stage/python-2.7.15-3gozdmnyivdt2kbo6p63pdbek2vkitw5/Python-2.7.15/Include/pymactoolbox.h:10:\r\n     706    In file included from /System/Library/Frameworks/Carbon.framework/Headers/Carbon.h:20:\r\n     707    In file included from /System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:23:\r\n     708    In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20:\r\n     709    In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:208:\r\n     710    In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/HFSVolumes.h:25:\r\n  >> 711    /usr/include/hfs/hfs_format.h:796:20: error: use of undeclared identifier 'uuid_string_t'\r\n     712            char            reserved[JIB_RESERVED_SIZE];\r\n     713                                     ^\r\n     714    /usr/include/hfs/hfs_format.h:787:61: note: expanded from macro 'JIB_RESERVED_SIZE'\r\n     715    #define JIB_RESERVED_SIZE  ((32*sizeof(u_int32_t)) - sizeof(uuid_string_t) - 48)\r\n     716                                                                ^\r\n     717    2 errors generated.\r\n  >> 718    make: *** [Python/mactoolboxglue.o] Error 1\r\n```\r\n\r\nPlease report your OS here:\r\n\r\n```commandline\r\n$ uname -a\r\nDarwin Pauls-MBA.local 17.7.0 Darwin Kernel Version 17.7.0: Fri Nov  2 20:43:16 PDT 2018; root:xnu-4570.71.17~1/RELEASE_X86_64 x86_64\r\n``` \r\n\r\nI'll skip all ther other aspects of the bug report as I've solved it (build runs fine now):\r\n\r\n```\r\nsudo mv /usr/local/include /usr/local/include.old\r\n```\r\n\r\nHypothesis: previous homebrew actions had borked `/usr/local/include/`",
    "performed_via_github_app": null
}