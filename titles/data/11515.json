{
    "url": "https://api.github.com/repos/spack/spack/issues/11515",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/11515/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/11515/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/11515/events",
    "html_url": "https://github.com/spack/spack/issues/11515",
    "id": 445760997,
    "node_id": "MDU6SXNzdWU0NDU3NjA5OTc=",
    "number": 11515,
    "title": "Installation issue: openmpi (any version) on mac",
    "user": {
        "login": "luca-heltai",
        "id": 2919756,
        "node_id": "MDQ6VXNlcjI5MTk3NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2919756?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luca-heltai",
        "html_url": "https://github.com/luca-heltai",
        "followers_url": "https://api.github.com/users/luca-heltai/followers",
        "following_url": "https://api.github.com/users/luca-heltai/following{/other_user}",
        "gists_url": "https://api.github.com/users/luca-heltai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/luca-heltai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luca-heltai/subscriptions",
        "organizations_url": "https://api.github.com/users/luca-heltai/orgs",
        "repos_url": "https://api.github.com/users/luca-heltai/repos",
        "events_url": "https://api.github.com/users/luca-heltai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/luca-heltai/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 12,
    "created_at": "2019-05-18T22:45:55Z",
    "updated_at": "2021-07-06T23:18:27Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Any `spack install openmpi`, when using clang-8.0.0 on mac, results in the following issue:\r\n\r\n```\r\n==> Installing openmpi\r\n==> Searching for binary cache of openmpi\r\n==> Finding buildcaches in /opt/spack-mirror/build_cache\r\n==> No binary for openmpi found: installing from source\r\n==> Fetching file:///opt/spack-mirror/openmpi/openmpi-3.1.4.tar.bz2\r\ncurl: (37) Couldn't open file /opt/spack-mirror/openmpi/openmpi-3.1.4.tar.bz2\r\n==> Fetching from file:///opt/spack-mirror/openmpi/openmpi-3.1.4.tar.bz2 failed.\r\n==> Fetching http://www.open-mpi.org/software/ompi/v3.1/downloads/openmpi-3.1.4.tar.bz2\r\n####################################################################################################### 100.0%####################################################################################################### 100.0%####################################################################################################### 100.0%\r\n==> Staging archive: /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4.tar.bz2\r\n==> Created stage in /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a\r\n==> No patches needed for openmpi\r\n==> Building openmpi [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j4'\r\n\r\n49 errors found in build log:\r\n     8238    :15:\r\n     8239    In file included from /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/o\r\n             penmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version/Applications/deal.II-9.1.0.a\r\n             pp/Contents/Resources/spack/clang-8.0.0/bin/../include/c++/v1/iterator:417:\r\n     8240    In file included from /Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/bin/.\r\n             ./include/c++/v1/__functional_base:15:\r\n     8241    In file included from :/Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/bin/\r\n             ../include/c++/v1/type_traits1::3:406 :\r\n     8242    errorIn file included from : /Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.\r\n             0/bin/../include/c++/v1/cstddefinvalid preprocessing directive:\r\n     8243    38:\r\n  >> 8244    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:1:3: error: invalid preprocessing directive\r\n     8245    # Copyright (c) 2008      Sun Microsystems, Inc.  All rights reserved.\r\n     8246      ^\r\n  >> 8247    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:2:3: error: invalid preprocessing directive\r\n     8248    # Copyright (c) 2008-2019 Cisco Systems, Inc.  All rights reserved.\r\n     8249      ^\r\n  >> 8250    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:3:3: error# Copyright (c) 2008      Sun Microsyste\r\n             ms, Inc.  All rights reserved.:\r\n     8251    invalid preprocessing directive\r\n     8252      ^\r\n     8253    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:2:3: # Copyright (c) 2011      NVIDIA Corporation.\r\n               All rights reserved.error\r\n     8254    : invalid preprocessing directive\r\n     8255      ^\r\n     8256    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:4:3:# Copyright (c) 2008-2019 Cisco Systems, Inc. \r\n              All rights reserved.\r\n     8257    error  ^:\r\n     8258    invalid preprocessing directive\r\n     8259    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:3:3:# Copyright (c) 2013      Mellanox Technologie\r\n             s, Inc.\r\n     8260    error  ^:\r\n     8261    invalid preprocessing directive\r\n  >> 8262    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:5:27: error: invalid preprocessing directive\r\n     8263    #                         All rights reserved.\r\n     8264                              ^\r\n  >> 8265    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:6:3: error: # Copyright (c) 2011      NVIDIA Corpo\r\n             ration.  All rights reserved.invalid preprocessing directive\r\n     8266      ^\r\n     8267    \r\n  >> 8268    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:4:3: error: invalid preprocessing directive\r\n     8269    # Copyright (c) 2013      Mellanox Technologies, Inc.\r\n     8270      ^\r\n  >> 8271    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:5:27: error: invalid preprocessing directive\r\n     8272    #                         All rights reserved.\r\n     8273                              ^\r\n  >> 8274    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:6:3: error: invalid preprocessing directive\r\n     8275    # Copyright (c) 2016      IBM Corporation.  All rights reserved.\r\n     8276      ^\r\n  >> 8277    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:7:3: error: invalid preprocessing directive\r\n     8278    # Copyright (c) 2017      Los Alamos National Security, LLC.  All rights\r\n     8279      ^\r\n     8280    # Copyright (c) 2016      IBM Corporation.  All rights reserved.\r\n     8281    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version  ^:\r\n  >> 8282    8:27: error: invalid preprocessing directive\r\n  >> 8283    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:7:3: error#                         reserved.:\r\n     8284    invalid preprocessing directiveIn file included from mpicxx.cc\r\n     8285    :                          ^\r\n     8286    24:\r\n     8287    In file included from /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/o\r\n             penmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version./mpicxx.h::1042::\r\n     8288    3In file included from :/Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/bin\r\n             /../include/c++/v1/map :error# Copyright (c) 2017      Los Alamos National Security, LLC.  All r\r\n             ights480:\r\n     8289    In file included from /Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/bin/.\r\n             ./include/c++/v1/__tree:\r\n\r\n     ...\r\n\r\n     8308    \r\n     8309    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:1:3                          ^: :error\r\n     8310    38: /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3\r\n             jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:# version of Open MPI in this distribution.  T\r\n             he various components of10:\r\n     8311    \r\n     8312    invalid preprocessing directive  ^\r\n     8313    :\r\n  >> 8314    3: error: invalid preprocessing directive\r\n     8315    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version/Applications/deal.II-9.1.0.app/Contents/Resources/\r\n             spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:12::3\r\n             :1 :error3: :invalid preprocessing directive\r\n  >> 8316    error: invalid preprocessing directive\r\n     8317    # This is the VERSION file for Open MPI, describing the precise\r\n     8318      ^\r\n  >> 8319    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:11:3: error: invalid preprocessing directive\r\n     8320    # Copyright (c) 2008      Sun Microsystems, Inc.  All rights reserved.\r\n     8321      ^\r\n     8322    # the version number below are combined to form a single version\r\n     8323      ^\r\n     8324    # version of Open MPI in this distribution.  The various components of\r\n     8325      ^\r\n  >> 8326    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:2:3: error: invalid preprocessing directive\r\n     8327    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:/Applications/deal.II-9.1.0.app/Contents/Resources\r\n             /spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version13::1\r\n             23::3 :error: # Copyright (c) 2008-2019 Cisco Systems, Inc.  All rights reserved.invalid preproc\r\n             essing directive\r\n     8328    \r\n     8329      ^\r\n     8330     /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhw\r\n             hsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:3:# Copyright (c) 2008      Sun Microsystems, Inc\r\n             .  All rights reserved.3error: invalid preprocessing directive\r\n     8331    # number string.\r\n     8332      ^\r\n     8333    :/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhw\r\n             hsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version\r\n     8334    : error: 2invalid preprocessing directive:\r\n  >> 8335    ^3: error:\r\n     8336    invalid preprocessing directive\r\n     8337    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:15:3: # the version number below are combined to f\r\n             orm a single version\r\n     8338      ^\r\n     8339    # Copyright (c) 2011      NVIDIA Corporation.  All rights reserved.\r\n     8340    error  ^:\r\n     8341    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:invalid preprocessing directive13\r\n  >> 8342    :3: error: invalid preprocessing directive\r\n     8343    # Copyright (c) 2008-2019 Cisco Systems, Inc.  All rights reserved.\r\n     8344      ^\r\n     8345    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version# number string.\r\n     8346      ^\r\n     8347    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version::34:/Applications/deal.II-9.1.0.app/Contents/Resou\r\n             rces/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version3\r\n             :# major, minor, and release are generally combined in the form\r\n     8348      ^\r\n     8349    error::3/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w\r\n             7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version: :16invalid preprocessing directive:\r\n     8350    3::  errorerror: invalid preprocessing directive\r\n  >> 8351    15: :3: error: invalid preprocessing directiveinvalid preprocessing directive\r\n     8352    \r\n     8353    # <major>.<minor>.<release>.\r\n     8354      ^\r\n     8355    # Copyright (c) 2011      NVIDIA Corporation.  All rights reserved.\r\n     8356      ^\r\n     8357    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:4:# major, minor, and release are generally combin\r\n             ed in the form\r\n     8358      ^\r\n  >> 8359    3: error/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w\r\n             7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version# Copyright (c) 2013      Mellanox Technolo\r\n             gies, Inc.:16\r\n     8360    :3  ^:\r\n     8361    : invalid preprocessing directive\r\n     8362    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/versionerror/Applications/deal.II-9.1.0.app/Contents/Resou\r\n             rces/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:\r\n              :invalid preprocessing directive\r\n  >> 8363    18:1: error: C++ requires a type specifier for all declarations\r\n     8364    major=3\r\n     8365    ^\r\n     8366    # <major>.<minor>.<release>.\r\n     8367      ^\r\n     8368    # Copyright (c) 2013      Mellanox Technologies, Inc.\r\n     8369      ^:\r\n  >> 8370    5:27: error: invalid preprocessing directive\r\n  >> 8371    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:5:27: error: invalid preprocessing directive\r\n     8372    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18#                         All rights reserved.:\r\n     8373    1                          ^:\r\n     8374    #                         All rights reserved.\r\n     8375    error                          ^:\r\n     8376    C++ requires a type specifier for all declarations/Applications/deal.II-9.1.0.app/Contents/Resou\r\n             rces/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version\r\n  >> 8377    :6:3: error/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.\r\n             4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/versionmajor=3:\r\n     8378    ^\r\n     8379    invalid preprocessing directive\r\n  >> 8380    :6:3: error: invalid preprocessing directive\r\n     8381    # Copyright (c) 2016      IBM Corporation.  All rights reserved.\r\n     8382      ^\r\n  >> 8383    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:7:3: error: invalid preprocessing directive\r\n     8384    # Copyright (c) 2017      Los Alamos National Security, LLC.  All rights\r\n     8385      ^# Copyright (c) 2016      IBM Corporation.  All rights reserved.\r\n     8386    \r\n     8387    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:8:  ^27\r\n     8388    : error: invalid preprocessing directive\r\n     8389    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:7:#                         reserved.\r\n     8390                              ^\r\n  >> 8391    3:/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jh\r\n             whsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version :error10: :invalid preprocessing directive3: err\r\n             or:\r\n     8392    invalid preprocessing directive\r\n  >> 8393    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18:8: error: expected ';' after top level declarat\r\n             or\r\n     8394    # This is the VERSION file for Open MPI, describing the precise\r\n     8395      ^\r\n     8396    major=3\r\n     8397           ^\r\n     8398    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:11:3: /Applications/deal.II-9.1.0.app/Contents/Res\r\n             ources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/versio\r\n             nerror:: 22invalid preprocessing directive:# Copyright (c) 2017      Los Alamos National Securit\r\n             y, LLC.  All rights3\r\n     8399    \r\n     8400      ^:\r\n     8401     error: # version of Open MPI in this distribution.  The various components of\r\n     8402    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/versioninvalid preprocessing directive  ^\r\n     8403    \r\n  >> 8404    :8:27: error: invalid preprocessing directive\r\n     8405    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:12:3:# greek is generally used for alpha or beta r\r\n             elease tags.  If it is\r\n     8406    error  ^:\r\n     8407    invalid preprocessing directive\r\n     8408    #                         reserved.\r\n     8409    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:23:                          ^3# the version numbe\r\n             r below are combined to form a single version\r\n     8410      ^\r\n\r\n     ...\r\n\r\n     8412    : /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jh\r\n             whsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/versionerror:: 13/Applications/deal.II-9.1.0.app/Content\r\n             s/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/v\r\n             ersioninvalid preprocessing directive:3:: error: invalid preprocessing directive\r\n     8413    # number string.\r\n     8414      ^\r\n     8415    10:\r\n     8416    3:/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jh\r\n             whsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version :error15: :invalid preprocessing directive3\r\n     8417    : error: invalid preprocessing directive\r\n  >> 8418    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18:8: error: expected ';' after top level declarat\r\n             or# This is the VERSION file for Open MPI, describing the precise\r\n     8419    \r\n     8420    # major, minor, and release are generally combined in the form  ^\r\n     8421    \r\n     8422      ^\r\n     8423    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:16:/Applications/deal.II-9.1.0.app/Contents/Resour\r\n             ces/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version# \r\n             non-empty, it will be appended to the version number.  It does not:11:3major=3\r\n     8424    \r\n\r\n     ...\r\n\r\n     8427    \r\n     8428    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version: 22error:: 3/Applications/deal.II-9.1.0.app/Conten\r\n             ts/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/\r\n             version:invalid preprocessing directive# <major>.<minor>.<release>.\r\n     8429      ^\r\n     8430    :error: 24invalid preprocessing directive:\r\n     8431    3\r\n     8432    : error: invalid preprocessing directive\r\n  >> 8433    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18:1: error: C++ requires a type specifier for all\r\n              declarations\r\n     8434    # greek is generally used for alpha or beta release tags.  If it is\r\n     8435      ^\r\n     8436    major=3\r\n     8437    ^\r\n  >> 8438    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:23:3: error: invalid preprocessing directive\r\n     8439    # have to be numeric.  Common examples include: a1 (alpha release 1),\r\n     8440      ^\r\n     8441    # non-empty, it will be appended to the version number.  It does not\r\n     8442    fatal error  ^:\r\n     8443    # version of Open MPI in this distribution.  The various components of\r\n     8444      ^/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3j\r\n             hwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version\r\n     8445    :24:too many errors emitted, stopping now [-ferror-limit=]3\r\n     8446    : error: invalid preprocessing directive\r\n  >> 8447    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:12:3: error: invalid preprocessing directive\r\n     8448    # have to be numeric.  Common examples include: a1 (alpha release 1),\r\n     8449      ^\r\n     8450    fatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n     8451    # the version number below are combined to form a single version\r\n     8452      ^\r\n  >> 8453    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:13:3: error: invalid preprocessing directive\r\n     8454    # number string.\r\n     8455      ^\r\n  >> 8456    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:15:3: error: invalid preprocessing directive\r\n     8457    # major, minor, and release are generally combined in the form\r\n     8458      ^\r\n  >> 8459    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:16:3: error: invalid preprocessing directive\r\n     8460    # <major>.<minor>.<release>.\r\n     8461      ^\r\n  >> 8462    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18:8: error: expected ';' after top level declarat\r\n             or\r\n     8463    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18:1:major=3\r\n     8464           ^\r\n     8465     error: /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w\r\n             7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:C++ requires a type specifier for all decl\r\n             arations\r\n     8466    22major=3\r\n     8467    ^\r\n  >> 8468    :3: error: invalid preprocessing directive\r\n     8469    # greek is generally used for alpha or beta release tags.  If it is\r\n     8470      ^\r\n  >> 8471    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:23:3: error: invalid preprocessing directive\r\n     8472    # non-empty, it will be appended to the version number.  It does not\r\n     8473      ^\r\n  >> 8474    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:24:3: error: invalid preprocessing directive\r\n     8475    # have to be numeric.  Common examples include: a1 (alpha release 1),\r\n     8476      ^\r\n     8477    fatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n  >> 8478    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:18:8: error: expected ';' after top level declarat\r\n             or\r\n     8479    major=3\r\n     8480           ^\r\n  >> 8481    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:22:3: error: invalid preprocessing directive\r\n     8482    # greek is generally used for alpha or beta release tags.  If it is\r\n     8483      ^\r\n  >> 8484    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:23:3: error: invalid preprocessing directive\r\n     8485    # non-empty, it will be appended to the version number.  It does not\r\n     8486      ^\r\n  >> 8487    /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwh\r\n             sb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/version:24:3: error: invalid preprocessing directive\r\n     8488    # have to be numeric.  Common examples include: a1 (alpha release 1),\r\n     8489      ^\r\n     8490    fatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n     8491    20 errors generated.\r\n     8492    20 errors generated.\r\n     8493    20 errors generated.\r\n     8494    20 errors generated.\r\n  >> 8495    make[2]: *** [datatype.lo] Error 1\r\n     8496    make[2]: *** Waiting for unfinished jobs....\r\n  >> 8497    make[2]: *** [comm.lo] Error 1\r\n  >> 8498    make[2]: *** [mpicxx.lo] Error 1\r\n  >> 8499    make[2]: *** [intercepts.lo] Error 1\r\n  >> 8500    make[1]: *** [all-recursive] Error 1\r\n  >> 8501    make: *** [all-recursive] Error 1\r\n\r\nSee build log for details:\r\n  /Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/spack-build.out\r\n```\r\n\r\nAs far as I could understand, some C standard header files are trying to include \r\n\r\n`/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/VERSION`\r\n\r\ninstead of \r\n\r\n`/Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/include/c++/v1/version`\r\n\r\nFor example, this file: \r\n\r\n`/Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/include/c++/v1/cstddef`\r\n\r\nwants to include the `version` file in the same directory:\r\n\r\n```\r\n#include <__config>\r\n#include <version>\r\n```\r\n\r\nand for some reason `spack` makes it pick up the file \r\n\r\n`/Applications/deal.II-9.1.0.app/Contents/Resources/spack/var/spack/stage/openmpi-3.1.4-w7sr3jhwhsb2mihgdsdd2d5jlhfk6j5a/openmpi-3.1.4/VERSION`\r\n\r\ninstead of \r\n\r\n`/Applications/deal.II-9.1.0.app/Contents/Resources/spack/clang-8.0.0/include/c++/v1/version`\r\n",
    "performed_via_github_app": null
}