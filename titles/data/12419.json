{
    "url": "https://api.github.com/repos/spack/spack/issues/12419",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12419/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12419/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12419/events",
    "html_url": "https://github.com/spack/spack/issues/12419",
    "id": 480828667,
    "node_id": "MDU6SXNzdWU0ODA4Mjg2Njc=",
    "number": 12419,
    "title": "Installation issue: cutadapt",
    "user": {
        "login": "omsai",
        "id": 166624,
        "node_id": "MDQ6VXNlcjE2NjYyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/166624?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/omsai",
        "html_url": "https://github.com/omsai",
        "followers_url": "https://api.github.com/users/omsai/followers",
        "following_url": "https://api.github.com/users/omsai/following{/other_user}",
        "gists_url": "https://api.github.com/users/omsai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/omsai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/omsai/subscriptions",
        "organizations_url": "https://api.github.com/users/omsai/orgs",
        "repos_url": "https://api.github.com/users/omsai/repos",
        "events_url": "https://api.github.com/users/omsai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/omsai/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-08-14T18:38:32Z",
    "updated_at": "2019-08-14T18:50:56Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "1. The issue exists both with the git stable master 0.12.1 branch as well as the develop branch.\r\n2. Yes, in both cases I confirmed the `package.py` file has the line `depends_on('py-setuptools', type=('build', 'run'))` as described in #11279\r\n\r\n### Steps to reproduce the issue\r\n\r\n```python-traceback\r\n$ spack install py-cutadapt\r\n...\r\n$ spack load py-cutadapt\r\n$ cutadapt\r\nTraceback (most recent call last):\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-cutadapt-1.13-jwalyjs6mh4tpqdpw27twheq3dzoneoj/bin/cutadapt\", line 6, in <module>\r\n    from pkg_resources import load_entry_point\r\nImportError: No module named pkg_resources\r\npan14001@corelab2:~$ spack load -r py-cutadapt\r\npan14001@corelab2:~$ cutadapt\r\nTraceback (most recent call last):\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-cutadapt-1.13-jwalyjs6mh4tpqdpw27twheq3dzoneoj/bin/cutadapt\", line 6, in <module>\r\n    from pkg_resources import load_entry_point\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-setuptools-41.0.1-6ll4vdwgfhpd5l7fhvu7wsct2mxvi5tz/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3241, in <module>\r\n    @_call_aside\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-setuptools-41.0.1-6ll4vdwgfhpd5l7fhvu7wsct2mxvi5tz/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3225, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-setuptools-41.0.1-6ll4vdwgfhpd5l7fhvu7wsct2mxvi5tz/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3254, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-setuptools-41.0.1-6ll4vdwgfhpd5l7fhvu7wsct2mxvi5tz/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 583, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-setuptools-41.0.1-6ll4vdwgfhpd5l7fhvu7wsct2mxvi5tz/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 900, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/opt/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.4.0/py-setuptools-41.0.1-6ll4vdwgfhpd5l7fhvu7wsct2mxvi5tz/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 786, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\npkg_resources.DistributionNotFound: The 'bz2file' distribution was not found and is required by xopen\r\npan14001@corelab2:~$\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n\r\n```console\r\n$ uname -a \r\nLinux corelab2 4.15.0-55-generic #60-Ubuntu SMP Tue Jul 2 18:22:20 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:    Ubuntu 18.04.3 LTS\r\n``` \r\nand, if relevant, post or attach `packages.yaml` to the issue\r\n\r\n```yaml\r\npackages:\r\n  all:\r\n    permissions:\r\n      write: group\r\n      group: users\r\n  r:\r\n    paths:\r\n      r@3.6.1: /usr/bin\r\n    buildable: false\r\n```\r\n\r\n### Additional information\r\n\r\n```console\r\n$ spack spec --install-status py-cutadapt\r\nInput spec\r\n--------------------------------\r\n -   py-cutadapt\r\n\r\nConcretized\r\n--------------------------------\r\n[+]  py-cutadapt@1.13%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]      ^py-setuptools@41.0.1%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]          ^python@2.7.16%gcc@7.4.0+bz2+ctypes+dbm+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4~uuid+zlib arch=linux-ubuntu18.04-x86_64\r\n[+]              ^bzip2@1.0.8%gcc@7.4.0+shared arch=linux-ubuntu18.04-x86_64\r\n[+]                  ^diffutils@3.7%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]              ^expat@2.2.5%gcc@7.4.0+libbsd arch=linux-ubuntu18.04-x86_64\r\n[+]                  ^libbsd@0.9.1%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]              ^gdbm@1.18.1%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]                  ^readline@7.0%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]                      ^ncurses@6.1%gcc@7.4.0~symlinks~termlib arch=linux-ubuntu18.04-x86_64\r\n[+]                          ^pkgconf@1.6.1%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]              ^gettext@0.19.8.1%gcc@7.4.0+bzip2+curses+git~libunistring+libxml2 patches=9acdb4e73f67c241b5ef32505c9ddf7cf6884ca8ea661692f21dca28483b04b8 +tar+xz arch=linux-ubuntu18.04-x86_64\r\n[+]                  ^libxml2@2.9.9%gcc@7.4.0~python arch=linux-ubuntu18.04-x86_64\r\n[+]                      ^libiconv@1.15%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]                      ^xz@5.2.4%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]                      ^zlib@1.2.11%gcc@7.4.0+optimize+pic+shared arch=linux-ubuntu18.04-x86_64\r\n[+]                  ^tar@1.31%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]              ^libffi@3.2.1%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n[+]              ^openssl@1.1.1c%gcc@7.4.0+systemcerts arch=linux-ubuntu18.04-x86_64\r\n[+]                  ^perl@5.26.2%gcc@7.4.0+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-ubuntu18.04-x86_64\r\n[+]              ^sqlite@3.28.0%gcc@7.4.0+fts~functions arch=linux-ubuntu18.04-x86_64\r\n[+]      ^py-xopen@0.5.0%gcc@7.4.0 arch=linux-ubuntu18.04-x86_64\r\n```\r\n",
    "performed_via_github_app": null
}