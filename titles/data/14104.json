{
    "url": "https://api.github.com/repos/spack/spack/issues/14104",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/14104/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/14104/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/14104/events",
    "html_url": "https://github.com/spack/spack/issues/14104",
    "id": 536134445,
    "node_id": "MDU6SXNzdWU1MzYxMzQ0NDU=",
    "number": 14104,
    "title": "JDK fetchers fail",
    "user": {
        "login": "s-sajid-ali",
        "id": 30510036,
        "node_id": "MDQ6VXNlcjMwNTEwMDM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/30510036?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/s-sajid-ali",
        "html_url": "https://github.com/s-sajid-ali",
        "followers_url": "https://api.github.com/users/s-sajid-ali/followers",
        "following_url": "https://api.github.com/users/s-sajid-ali/following{/other_user}",
        "gists_url": "https://api.github.com/users/s-sajid-ali/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/s-sajid-ali/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/s-sajid-ali/subscriptions",
        "organizations_url": "https://api.github.com/users/s-sajid-ali/orgs",
        "repos_url": "https://api.github.com/users/s-sajid-ali/repos",
        "events_url": "https://api.github.com/users/s-sajid-ali/events{/privacy}",
        "received_events_url": "https://api.github.com/users/s-sajid-ali/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 446643530,
            "node_id": "MDU6TGFiZWw0NDY2NDM1MzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/fetching",
            "name": "fetching",
            "color": "fbca04",
            "default": false,
            "description": null
        },
        {
            "id": 503169733,
            "node_id": "MDU6TGFiZWw1MDMxNjk3MzM=",
            "url": "https://api.github.com/repos/spack/spack/labels/java",
            "name": "java",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-12-11T04:22:31Z",
    "updated_at": "2019-12-12T02:16:17Z",
    "closed_at": "2019-12-12T02:16:17Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```\r\nspack install jdk@1.8.0_231-b11%gcc@9.2.0\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```\r\n$ uname -a \r\nLinux xrmlite 4.18.0-80.el8.x86_64 #1 SMP Tue Jun 4 09:19:46 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:    CentOS Linux release 8.0.1905 (Core)\r\n``` \r\n\r\n### Error message : \r\n\r\n```\r\n[sajid@xrmlite spack]$ spack install jdk@1.8.0_231-b11%gcc@9.2.0\r\n==> Installing jdk\r\n==> Searching for binary cache of jdk\r\n==> No binary for jdk found: installing from source\r\n==> Fetching https://download.oracle.com/otn/java/jdk/8u231-b11/5b13a193868b4bf28bcb45c792fce896/jdk-8u231-linux-x64.tar.gz\r\n################################################################################################################################################################ 100.0%################################################################################################################################################################ 100.0%==> Warning: The contents of the archive look like HTML.  Either the URL you are trying to use does not exist or you have an internet gateway issue.  You can remove the bad archive using 'spack clean <package>', then try again using the correct URL.\r\n==> Error: ChecksumError: sha256 checksum failed for /tmp/sajid/spack-stage/spack-stage-jdk-1.8.0_231-b11-3ymu66b4agiqqvwqmvt6cc5sffzu6d2t/jdk-8u231-linux-x64.tar.gz\r\n    Expected a011584a2c9378bf70c6903ef5fbf101b30b08937441dc2ec67932fb3620b2cf but got febd55e91cc277096f0c9670bba0085503b982c59df48bd5aa673be2bad545cc\r\n\r\n/home/sajid/packages/spack/lib/spack/spack/package.py:1083, in do_fetch:\r\n       1080        self.stage.fetch(mirror_only)\r\n       1081        self._fetch_time = time.time() - start_time\r\n       1082\r\n  >>   1083        if checksum and self.version in self.versions:\r\n       1084            self.stage.check()\r\n       1085\r\n       1086        self.stage.cache_local()\r\n```\r\n\r\nI've gotten around with using a hash I found somewhere on the internet and using the URL specified in [this post](https://stackoverflow.com/questions/56650812/how-to-install-oraclejdk8-through-docker-file-in-ubuntu) instead of what spack uses. \r\n\r\nPS : I'm on develop at the latest commit.\r\n",
    "performed_via_github_app": null
}