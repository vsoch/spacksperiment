{
    "url": "https://api.github.com/repos/spack/spack/issues/22213",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/22213/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/22213/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/22213/events",
    "html_url": "https://github.com/spack/spack/issues/22213",
    "id": 827331052,
    "node_id": "MDU6SXNzdWU4MjczMzEwNTI=",
    "number": 22213,
    "title": "sandbox: unit tests fail",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-03-10T08:19:51Z",
    "updated_at": "2021-06-24T11:41:54Z",
    "closed_at": "2021-06-24T11:41:54Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Explain, in a clear and concise way, the command you ran and the result you were trying to achieve.\r\nExample: \"I ran `spack find` to list all the installed packages and ...\" -->\r\nHello,I meet a problem anout FAILED (script.at:13)[sandbox@sandbox-2.20].\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n[root@centos8 spack-src]# make check\r\n\u2026\u2026\r\n 64: script/10                                       ok\r\n 77: unlink_static/1                                 skipped (unlink_static.at:1)\r\n 78: unlinkat/1                                      ok\r\n 67: script/13                                       FAILED (script.at:13)\r\n 81: unlinkat/4                                      ok\r\n 79: unlinkat/2                                      ok\r\n 83: utimensat/2                                     ok\r\n 80: unlinkat/3                                      ok\r\n 82: utimensat/1                                     ok\r\n 84: utimensat/3                                     ok\r\n 86: utimensat_static/1                              skipped (utimensat_static.at:1)\r\n 87: utimensat_static/2                              skipped (utimensat_static.at:2)\r\n 88: vfork/1                                         skipped (vfork.at:1)\r\n 85: utimensat/4                                     ok\r\n 59: script/5                                        ok\r\n\r\n## ------------- ##\r\n## Test results. ##\r\n## ------------- ##\r\n\r\nERROR: 75 tests were run,\r\n1 failed unexpectedly.\r\n13 tests were skipped.\r\n## -------------------------- ##\r\n## testsuite.log was created. ##\r\n## -------------------------- ##\r\n\r\nPlease send `tests/testsuite.log' and all information you think might help:\r\n\r\n   To: <sandbox@gentoo.org>\r\n   Subject: [sandbox 2.20] testsuite: 67 failed\r\n\r\nYou may investigate any problem if you feel able to do so, in which\r\ncase the test suite provides a good starting point.  Its output may\r\nbe found below `tests/testsuite.dir'.\r\n\r\nmake[2]: *** [Makefile:1467: check-local] Error 1\r\nmake[1]: *** [Makefile:1197: check-am] Error 2\r\nmake: *** [Makefile:544: check-recursive] Error 1\r\n\r\n[root@centos8 spack-src]# vim tests/testsuite.log\r\n\u2026\u2026\r\n259 ## ---------------------- ##\r\n 260 ## Detailed failed tests. ##\r\n 261 ## ---------------------- ##\r\n 262\r\n 263 #                             -*- compilation -*-\r\n 264 67. script.at:13: testing script/13 ...\r\n 265 ./script.at:13: \\\r\n 266     env \\\r\n 267         SANDBOX_LOG=\"$PWD/sandbox.log\" \\\r\n 268         sandbox.sh \\\r\n 269             addpredict / \\; \\\r\n 270             addwrite \"${PWD%/*}\" \\; \\\r\n 271             set -x \\; \\\r\n 272  . $abs_top_srcdir/tests/script-13.sh\r\n 273 stderr:\r\n 274 + . /tmp/root/spack-stage/spack-stage-sandbox-2.20-ovqxji35hfzr6hlsl3i7paijx2zn4bav/spack-src/tests/script-13.sh\r\n 275 ++ '[' no = yes ']'\r\n 276 ++ trace-memory_static_tst\r\n 277 /tmp/root/spack-stage/spack-stage-sandbox-2.20-ovqxji35hfzr6hlsl3i7paijx2zn4bav/spack-src/tests/script-13.sh: line 5: 1113219 Segmentation fault      (core dumped) trace-memory_static_tst\r\n 278 stdout:\r\n 279 some bad pointers\r\n 280   open((nil))\r\n 281   open(0xffffffffffffffff)\r\n 282 ./script.at:13: exit code was 139, expected 0\r\n 283 67. script.at:13: 67. script/13 (script.at:13): FAILED (script.at:13)\r\n 284\r\n 285\r\n\u2026\u2026\r\n\r\n[root@centos8 spack-src]# vim tests/script-13.sh\r\n#!/bin/sh\r\n# make sure poking remote addresses works even when they're bad/unaligned #560396\r\n-[ \"${at_xfail}\" = \"yes\" ] && exit 77 # see script-0\r\n+[ \"${at_xfail}\" = \"no\" ] && exit 77 # see script-0\r\ntrace-memory_static_tst\r\n[root@centos8 spack-src]# make check\r\n\u2026\u2026\r\n/tmp/root/spack-stage/spack-stage-sandbox-2.20-ovqxji35hfzr6hlsl3i7paijx2zn4bav/spack-src/tests/script-0: line 5: scanelf: command not found\r\n 68: script/14                                       ok\r\n 67: script/13                                       skipped (script.at:13)\r\n 65: script/11                                       ok\r\n 66: script/12                                       ok\r\n 69: script/15                                       ok\r\n 70: script/16                                       ok\r\n 71: signal_static/1                                 skipped (signal_static.at:1)\r\n 72: symlink/1                                       ok\r\n 73: symlinkat/1                                     ok\r\n 74: symlinkat/2                                     ok\r\n 75: symlinkat/3                                     ok\r\n 76: unlink/1                                        ok\r\n 77: unlink_static/1                                 skipped (unlink_static.at:1)\r\n 78: unlinkat/1                                      ok\r\n 64: script/10                                       ok\r\n 79: unlinkat/2                                      ok\r\n 81: unlinkat/4                                      ok\r\n 83: utimensat/2                                     ok\r\n 80: unlinkat/3                                      ok\r\n 82: utimensat/1                                     ok\r\n 84: utimensat/3                                     ok\r\n 87: utimensat_static/2                              skipped (utimensat_static.at:2)\r\n 86: utimensat_static/1                              skipped (utimensat_static.at:1)\r\n 88: vfork/1                                         skipped (vfork.at:1)\r\n 85: utimensat/4                                     ok\r\n 59: script/5                                        ok\r\n\r\n## ------------- ##\r\n## Test results. ##\r\n## ------------- ##\r\n\r\n74 tests were successful.\r\n14 tests were skipped.\r\n\r\n```\r\nAs you can see, the compiler tells me how to solve the problem and the test has passed. However, I do not find the sanbox community in the github community and cannot feed back the problem. Please go to the website to feed back the problem and choose which path.Can you help me find it?\r\n## Information on your system\r\n[root@centos8 spack-src]# spack debug report\r\n* **Spack:** 0.16.1-1623-8d3272f82d\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n* **Concretizer:** original\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n- [ ] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->\r\n",
    "performed_via_github_app": null
}