{
    "url": "https://api.github.com/repos/spack/spack/issues/8334",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8334/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8334/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8334/events",
    "html_url": "https://github.com/spack/spack/issues/8334",
    "id": 328191382,
    "node_id": "MDU6SXNzdWUzMjgxOTEzODI=",
    "number": 8334,
    "title": "Failure to apply patch during spack install perl@5.26.2 %gcc@7.3.0 ",
    "user": {
        "login": "llpesce",
        "id": 20212980,
        "node_id": "MDQ6VXNlcjIwMjEyOTgw",
        "avatar_url": "https://avatars.githubusercontent.com/u/20212980?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/llpesce",
        "html_url": "https://github.com/llpesce",
        "followers_url": "https://api.github.com/users/llpesce/followers",
        "following_url": "https://api.github.com/users/llpesce/following{/other_user}",
        "gists_url": "https://api.github.com/users/llpesce/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/llpesce/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/llpesce/subscriptions",
        "organizations_url": "https://api.github.com/users/llpesce/orgs",
        "repos_url": "https://api.github.com/users/llpesce/repos",
        "events_url": "https://api.github.com/users/llpesce/events{/privacy}",
        "received_events_url": "https://api.github.com/users/llpesce/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 620268714,
            "node_id": "MDU6TGFiZWw2MjAyNjg3MTQ=",
            "url": "https://api.github.com/repos/spack/spack/labels/patch",
            "name": "patch",
            "color": "5319e7",
            "default": false,
            "description": null
        },
        {
            "id": 571584920,
            "node_id": "MDU6TGFiZWw1NzE1ODQ5MjA=",
            "url": "https://api.github.com/repos/spack/spack/labels/perl",
            "name": "perl",
            "color": "fbca04",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 18,
    "created_at": "2018-05-31T15:39:46Z",
    "updated_at": "2018-07-19T20:40:16Z",
    "closed_at": "2018-06-07T17:52:50Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "System: Theta, Cray XC40 with KNL nodes.\r\nBuilding with Cray's PrgEnv-gnu. \r\n> spack find\r\n-- cray-cnl6-mic_knl / gcc@7.3.0 --------------------------------\r\nbzip2@1.0.6   font-util@1.3.1    gdbm@1.14.1       libffi@3.2.1   ncurses@6.1     pkg-config@0.29.2  util-macros@1.19.1\r\ncmake@3.9.4   fontconfig@2.12.3  gettext@0.19.8.1  libpng@1.6.34  openssl@1.0.2n  readline@7.0       xz@5.2.4\r\ncmake@3.11.2  freetype@2.7.1     gperf@3.0.4       libxml2@2.9.8  pcre@8.42       tar@1.30           zlib@1.2.11\r\n \r\n\r\nBuild failed with outcome\r\n==> Installing perl\r\n==> Using cached archive: /<path>/perl-5.26.2.tar.gz\r\n==> Using cached archive: /<path>/cpanm-5.26.2.tar.gz\r\n==> Staging archive: /../perl-5.26.2.tar.gz\r\n==> Created stage in /../perl-5.26.2-v4v4a5ocskntdqjvoi5dfote7agb272r\r\n==> Staging archive: /.../App-cpanminus-1.7042.tar.gz\r\n==> Created stage in /.../resource-cpanm-v4v4a5ocskntdqjvoi5dfote7agb272r\r\n==> Moving resource stage\r\n        source : /.../App-cpanminus-1.7042/\r\n        destination : /.../perl-5.26.2/cpanm/cpanm\r\n==> Using cached archive: /../perl-5.26.1-guard_old_libcrypt_fix.patch\r\n**File pp.c is read-only; trying to patch anyway**\r\n==> Applied patch https://src.fedoraproject.org/rpms/perl/raw/004cea3a67df42e92ffdf4e9ac36d47a3c6a05a4/f/perl-5.26.1-guard_old_libcrypt_fix.patch\r\n==> Building perl [Package]\r\n==> Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    './Configure' '-des' '-Dprefix=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/perl-5.26.2-v4v4a5ocskntdqjvoi5dfote7agb272r' '-Dlocincpth=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/gdbm-1.14.1-e2hcx6crv6eplf5dkz4e76qtftrvt5yx/include' '-Dloclibpth=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/gdbm-1.14.1-e2hcx6crv6eplf5dkz4e76qtftrvt5yx/lib' '-Accflags=-DAPPLLIB_EXP=\\\"/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/perl-5.26.2-v4v4a5ocskntdqjvoi5dfote7agb272r/lib/perl5\\\"' '-Duseshrplib' '-Dusethreads'\r\n\r\n1 error found in build log:\r\n     71         cc -o try -O2 -D_REENTRANT -D_GNU_SOURCE -DAPPLLIB_EXP=\"/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/perl-5.26.2-v4v4a5ocskntdqjvoi5dfote7agb272r/lib/\r\n           perl5\" -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/gdbm-1.14.1-e2hcx6crv6eplf5dkz4e76qtf\r\n           trvt5yx/include -fstack-protector-strong -L/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/gdbm-1.14.1-e2hcx6crv6eplf5dkz4e76qtftrvt5yx/lib try.c -lpthrea\r\n           d -lnsl -lgdbm -ldl -lm -lcrypt -lutil -lc -lgdbm_compat\r\n     72          ./try\r\n     73    \r\n     74    and I got the following output:\r\n     75    \r\n     76    /opt/cray/pe/cce/8.7.0/binutils/x86_64/x86_64-pc-linux-gnu/bin/ld: warning: libgdbm.so.4, needed by /home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/gdbm-1\r\n           .14.1-e2hcx6crv6eplf5dkz4e76qtftrvt5yx/lib/libgdbm.so, may conflict with libgdbm.so.5\r\n  >> 77    ./try: error while loading shared libraries: libgdbm.so.5: cannot open shared object file: No such file or directory\r\n     78    The program compiled OK, but exited with status 127.\r\n     79    You have a problem.  Shall I abort Configure [y]\r\n     80    Ok.  Stopping Configure.\r\n\r\nI untarred the perl source tarball and in fact all .c and .h files are read only. Other config files are read write. There is no read write issue on the system, the issue appears to be associated with the perl tarball. \r\n\r\nThank you",
    "performed_via_github_app": null
}