{
    "url": "https://api.github.com/repos/spack/spack/issues/13256",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13256/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13256/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13256/events",
    "html_url": "https://github.com/spack/spack/issues/13256",
    "id": 508771325,
    "node_id": "MDU6SXNzdWU1MDg3NzEzMjU=",
    "number": 13256,
    "title": "Python quit unexpectedly, Python 3.8.0 on macOS Catalina",
    "user": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 446614839,
            "node_id": "MDU6TGFiZWw0NDY2MTQ4Mzk=",
            "url": "https://api.github.com/repos/spack/spack/labels/macOS",
            "name": "macOS",
            "color": "c5def5",
            "default": false,
            "description": null
        },
        {
            "id": 446619758,
            "node_id": "MDU6TGFiZWw0NDY2MTk3NTg=",
            "url": "https://api.github.com/repos/spack/spack/labels/python",
            "name": "python",
            "color": "c2e0c6",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2019-10-17T23:29:12Z",
    "updated_at": "2020-03-05T23:02:14Z",
    "closed_at": "2020-03-05T23:02:14Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I'm getting the strangest error message. When I build Python 3.8.0 on macOS Catalina, everything builds fine, and all the libraries appear to be linked correctly, but when I try to build something like numpy or scipy that depends on Python, I get one of those \"would you like to report this bug to the developers\" pop-ups that says \"Python quit unexpectedly\".\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install --test=root py-numpy ^python@3:\r\n$ spack install py-scipy ^python@3:\r\n```\r\n\r\n### Error Message\r\n\r\nThe strange thing is that it says Python 3.7.3 crashed (this is the system Python that comes with macOS that I'm using to run Spack), and the Parent Process is `python3.8`, which is the executable I'm using to build numpy/scipy. I'm not sure why Python 3.8 would be calling Python 3.7.\r\n\r\n```\r\nProcess:               Python [2113]\r\nPath:                  /Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/Resources/Python.app/Contents/MacOS/Python\r\nIdentifier:            Python\r\nVersion:               3.7.3 (3.7.3)\r\nBuild Info:            python3-45000000000000~369\r\nCode Type:             X86-64 (Native)\r\nParent Process:        python3.8 [1049]\r\nResponsible:           Terminal [613]\r\nUser ID:               501\r\n\r\nDate/Time:             2019-10-17 18:21:21.268 -0500\r\nOS Version:            Mac OS X 10.15 (19A602)\r\nReport Version:        12\r\nAnonymous UUID:        F81945A4-B77A-7472-CE03-3264A0A13B2D\r\n\r\nSleep/Wake UUID:       9680B008-DDB1-4652-B6F6-96C5AAFF7883\r\n\r\nTime Awake Since Boot: 23000 seconds\r\nTime Since Wake:       21000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_CRASH (SIGABRT)\r\nException Codes:       0x0000000000000000, 0x0000000000000000\r\nException Note:        EXC_CORPSE_NOTIFY\r\n\r\nTermination Signal:    Abort trap: 6\r\nTermination Reason:    Namespace SIGNAL, Code 0x6\r\n\r\nApplication Specific Information:\r\ndyld2 mode\r\n\r\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\r\n0   libsystem_kernel.dylib        \t0x00007fff66423ade __abort_with_payload + 10\r\n1   libsystem_kernel.dylib        \t0x00007fff664254ef abort_with_payload_wrapper_internal + 80\r\n2   libsystem_kernel.dylib        \t0x00007fff6642549f abort_with_reason + 19\r\n3   org.python.python3            \t0x0000000100d23f05 fatal_error.cold.1 + 21\r\n4   org.python.python3            \t0x0000000100ca6f78 fatal_error + 536\r\n5   org.python.python3            \t0x0000000100ca643e _Py_FatalInitError + 30\r\n6   org.python.python3            \t0x0000000100cd3158 pymain_main + 8936\r\n7   org.python.python3            \t0x0000000100cd33bf _Py_UnixMain + 111\r\n8   libdyld.dylib                 \t0x00007fff662bb405 start + 1\r\n\r\nThread 0 crashed with X86 Thread State (64-bit):\r\n  rax: 0x0000000002000209  rbx: 0x0000000000000002  rcx: 0x00007ffeef086748  rdx: 0x0000000000000000\r\n  rdi: 0x0000000000000002  rsi: 0x0000000000000006  rbp: 0x00007ffeef086790  rsp: 0x00007ffeef086748\r\n   r8: 0x00007fcc96800e00   r9: 0x0000000000000002  r10: 0x0000000000000000  r11: 0x0000000000000246\r\n  r12: 0x0000000000000000  r13: 0x0000000000000000  r14: 0x0000000000000006  r15: 0x0000000000000002\r\n  rip: 0x00007fff66423ade  rfl: 0x0000000000000246  cr2: 0x0000000100fc7020\r\n  \r\nLogical CPU:     0\r\nError Code:      0x02000209\r\nTrap Number:     133\r\n\r\n\r\nBinary Images:\r\n       0x100b75000 -        0x100b75ff3 +org.python.python3 (3.7.3 - 3.7.3) <5794D7D4-29C2-30D5-9E7A-001132AB5F8F> /Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/Resources/Python.app/Contents/MacOS/Python\r\n       0x100b80000 -        0x100d7bfff +org.python.python3 (3.7.3 - 3.7.3) <7A606CC1-DA05-3C34-BC5C-256C22343EDC> /Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/Python3\r\n       0x107af3000 -        0x107b8193f  dyld (732.8) <42C11B81-6928-369F-B03E-D57355572700> /usr/lib/dyld\r\n    0x7fff2eed1000 -     0x7fff2f350ff7  com.apple.CoreFoundation (6.9 - 1671.15) <B888CEC3-88BC-3D1F-BDD7-A664AB66F0BA> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\r\n    0x7fff62bd4000 -     0x7fff62bd6fff  libDiagnosticMessagesClient.dylib (112) <418D550B-C748-3D55-A6D5-0398E032F9F3> /usr/lib/libDiagnosticMessagesClient.dylib\r\n    0x7fff6309b000 -     0x7fff6309cff3  libSystem.B.dylib (1281) <66742D2E-591A-32B2-8E92-4A54BEE843F6> /usr/lib/libSystem.B.dylib\r\n    0x7fff63410000 -     0x7fff63463fff  libc++.1.dylib (800.6) <328FB687-2363-38B1-AC11-11736925C775> /usr/lib/libc++.1.dylib\r\n    0x7fff63464000 -     0x7fff63478fff  libc++abi.dylib (800.7) <02753D3D-91C6-3670-8B5D-EBE040B516FC> /usr/lib/libc++abi.dylib\r\n    0x7fff63ecf000 -     0x7fff63ed1ff7  libfakelink.dylib (149) <FC5712CB-2188-3DAD-8DD4-CC3ECCA3F9A8> /usr/lib/libfakelink.dylib\r\n    0x7fff63fdc000 -     0x7fff64234ff7  libicucore.A.dylib (64232.0.1) <88E47471-605C-3C86-871B-5D2F4628A936> /usr/lib/libicucore.A.dylib\r\n    0x7fff64f56000 -     0x7fff64f87fd6  libobjc.A.dylib (779.1) <D681D734-2739-3D18-9DCB-9ECDA9D492BC> /usr/lib/libobjc.A.dylib\r\n    0x7fff6561f000 -     0x7fff65631fff  libz.1.dylib (76) <3FC3FC3E-ABF3-3167-9078-B54C952608B4> /usr/lib/libz.1.dylib\r\n    0x7fff66096000 -     0x7fff6609bff7  libcache.dylib (83) <8EC69760-6DAA-3068-9372-F1D554C548E5> /usr/lib/system/libcache.dylib\r\n    0x7fff6609c000 -     0x7fff660a7ff7  libcommonCrypto.dylib (60165) <698BE754-137D-361D-B826-57B8DD969E4A> /usr/lib/system/libcommonCrypto.dylib\r\n    0x7fff660a8000 -     0x7fff660affff  libcompiler_rt.dylib (101.2) <0BE7F119-C9C2-3612-A3F4-2336D4444476> /usr/lib/system/libcompiler_rt.dylib\r\n    0x7fff660b0000 -     0x7fff660b9ff7  libcopyfile.dylib (166) <B5E73B1C-0BCF-33FE-80A1-D9E3BA3033D4> /usr/lib/system/libcopyfile.dylib\r\n    0x7fff660ba000 -     0x7fff66151fc3  libcorecrypto.dylib (866.0.10) <58344B13-CD10-3697-A516-6F5B06DD1EB7> /usr/lib/system/libcorecrypto.dylib\r\n    0x7fff66268000 -     0x7fff662a9ff0  libdispatch.dylib (1173.0.3) <F4260D89-F67D-30CB-AF61-7ED25CB687DB> /usr/lib/system/libdispatch.dylib\r\n    0x7fff662aa000 -     0x7fff662dffff  libdyld.dylib (732.8) <98960E27-A08B-36DA-A5CB-8538B2D6757E> /usr/lib/system/libdyld.dylib\r\n    0x7fff662e0000 -     0x7fff662e0ffb  libkeymgr.dylib (30) <682B41BC-BDC2-38D5-8820-87099606FA12> /usr/lib/system/libkeymgr.dylib\r\n    0x7fff662ee000 -     0x7fff662eeff7  liblaunch.dylib (1738.11.1) <7FE11F0D-65BC-3726-B1DD-E84F329193E0> /usr/lib/system/liblaunch.dylib\r\n    0x7fff662ef000 -     0x7fff662f4ff7  libmacho.dylib (949.0.1) <163DFE06-2FAD-3CBC-80EF-C38EED6AEA52> /usr/lib/system/libmacho.dylib\r\n    0x7fff662f5000 -     0x7fff662f7ff3  libquarantine.dylib (110.0.4) <C8F39330-8CB5-30B0-8564-96453DCEFAD7> /usr/lib/system/libquarantine.dylib\r\n    0x7fff662f8000 -     0x7fff662f9ff7  libremovefile.dylib (48) <FB280185-B5ED-3F08-B08A-A378865C1398> /usr/lib/system/libremovefile.dylib\r\n    0x7fff662fa000 -     0x7fff66311fff  libsystem_asl.dylib (377.0.1) <30CE9DAF-B1FA-3510-832B-F1CE19933ED7> /usr/lib/system/libsystem_asl.dylib\r\n    0x7fff66312000 -     0x7fff66312fff  libsystem_blocks.dylib (74) <E0B8C825-E62B-357E-A2A0-13776F0A0F8C> /usr/lib/system/libsystem_blocks.dylib\r\n    0x7fff66313000 -     0x7fff6639aff7  libsystem_c.dylib (1353.11.2) <2A5BFAFE-8214-3B35-AD46-C07A1A8B8941> /usr/lib/system/libsystem_c.dylib\r\n    0x7fff6639b000 -     0x7fff6639efff  libsystem_configuration.dylib (1061.0.2) <56174463-22ED-337F-B0D4-94995DCDB9B7> /usr/lib/system/libsystem_configuration.dylib\r\n    0x7fff6639f000 -     0x7fff663a2ff7  libsystem_coreservices.dylib (114) <01695913-028E-3AE1-8D4E-2B2769109811> /usr/lib/system/libsystem_coreservices.dylib\r\n    0x7fff663a3000 -     0x7fff663aafff  libsystem_darwin.dylib (1353.11.2) <4CE52C63-87AA-3C6D-899F-8C983E5FC061> /usr/lib/system/libsystem_darwin.dylib\r\n    0x7fff663ab000 -     0x7fff663b2ffb  libsystem_dnssd.dylib (1096.0.2) <DC7381E8-F09F-3441-8267-9B8F50A0EBA9> /usr/lib/system/libsystem_dnssd.dylib\r\n    0x7fff663b3000 -     0x7fff663b4ffb  libsystem_featureflags.dylib (17) <DBCA4AA2-CA05-38D5-AB4B-BE0F3E09BB8B> /usr/lib/system/libsystem_featureflags.dylib\r\n    0x7fff663b5000 -     0x7fff66402ff7  libsystem_info.dylib (538) <9F9D6368-A11E-32F1-9BB5-C153F42EFED8> /usr/lib/system/libsystem_info.dylib\r\n    0x7fff66403000 -     0x7fff6642ffff  libsystem_kernel.dylib (6153.11.26) <4CE9D54A-A975-348E-B878-EE74EDFC956B> /usr/lib/system/libsystem_kernel.dylib\r\n    0x7fff66430000 -     0x7fff6647bfe7  libsystem_m.dylib (3178) <FE5E5748-6ACA-3AD2-AF9D-557EB9A3BD7E> /usr/lib/system/libsystem_m.dylib\r\n    0x7fff6647c000 -     0x7fff664a3fff  libsystem_malloc.dylib (283) <02925539-3CBA-39EB-BA6B-9A936CFA0BF8> /usr/lib/system/libsystem_malloc.dylib\r\n    0x7fff664a4000 -     0x7fff664b1ff3  libsystem_networkextension.dylib (1095.11.9) <8B5EE189-E3D1-31FD-878F-50286B6E7047> /usr/lib/system/libsystem_networkextension.dylib\r\n    0x7fff664b2000 -     0x7fff664bbfff  libsystem_notify.dylib (241) <89381127-2A07-3F07-B865-358FACCF9102> /usr/lib/system/libsystem_notify.dylib\r\n    0x7fff664bc000 -     0x7fff664c5fe7  libsystem_platform.dylib (220) <90E508E4-46D8-33FF-8552-DDAA079977A0> /usr/lib/system/libsystem_platform.dylib\r\n    0x7fff664c6000 -     0x7fff664d0fff  libsystem_pthread.dylib (416.11.1) <2EA6F95F-F264-30B6-8AF2-24197B5AED84> /usr/lib/system/libsystem_pthread.dylib\r\n    0x7fff664d1000 -     0x7fff664d5ffb  libsystem_sandbox.dylib (1217.11.16) <51129CBB-BC46-37F1-A1B5-ECFA9530704D> /usr/lib/system/libsystem_sandbox.dylib\r\n    0x7fff664d6000 -     0x7fff664d8fff  libsystem_secinit.dylib (62.0.4) <A48D9AF3-75F2-3331-A0C8-0A23771F4AC7> /usr/lib/system/libsystem_secinit.dylib\r\n    0x7fff664d9000 -     0x7fff664e0ffb  libsystem_symptoms.dylib (1238.0.2) <08E8CF75-5F77-3475-A48E-A01CBDF09173> /usr/lib/system/libsystem_symptoms.dylib\r\n    0x7fff664e1000 -     0x7fff664f7ff2  libsystem_trace.dylib (1147.0.3) <5836645E-9862-326D-AB3B-A19E76BE29B9> /usr/lib/system/libsystem_trace.dylib\r\n    0x7fff664f9000 -     0x7fff664feffb  libunwind.dylib (35.4) <F5AE1D43-7C5F-3BA2-94D3-E769F82C0F61> /usr/lib/system/libunwind.dylib\r\n    0x7fff664ff000 -     0x7fff66533ff6  libxpc.dylib (1738.11.1) <2E9076CD-6C0E-38B6-8403-B2DDCE125FBF> /usr/lib/system/libxpc.dylib\r\n\r\nExternal Modification Summary:\r\n  Calls made by other processes targeting this process:\r\n    task_for_pid: 0\r\n    thread_create: 0\r\n    thread_set_state: 0\r\n  Calls made by this process:\r\n    task_for_pid: 0\r\n    thread_create: 0\r\n    thread_set_state: 0\r\n  Calls made by all processes on this machine:\r\n    task_for_pid: 15256\r\n    thread_create: 0\r\n    thread_set_state: 0\r\n\r\nVM Region Summary:\r\nReadOnly portion of Libraries: Total=362.7M resident=0K(0%) swapped_out_or_unallocated=362.7M(100%)\r\nWritable regions: Total=53.6M written=0K(0%) resident=0K(0%) swapped_out=0K(0%) unallocated=53.6M(100%)\r\n \r\n                                VIRTUAL   REGION \r\nREGION TYPE                        SIZE    COUNT (non-coalesced) \r\n===========                     =======  ======= \r\nKernel Alloc Once                    8K        1 \r\nMALLOC                            36.3M       16 \r\nMALLOC guard page                   16K        3 \r\nSTACK GUARD                          4K        1 \r\nStack                             16.0M        2 \r\nVM_ALLOCATE                       1024K        4 \r\n__DATA                            2577K       48 \r\n__DATA_CONST                        20K        1 \r\n__LINKEDIT                       349.1M        4 \r\n__OBJC_RO                         31.8M        1 \r\n__OBJC_RW                         1764K        2 \r\n__TEXT                            13.6M       46 \r\n__UNICODE                          564K        1 \r\nshared memory                        8K        2 \r\n===========                     =======  ======= \r\nTOTAL                            452.6M      132 \r\n\r\nModel: MacBookPro10,2, BootROM 281.0.0.0.0, 2 processors, Dual-Core Intel Core i5, 2.6 GHz, 8 GB, SMC 2.6f59\r\nGraphics: kHW_IntelHD4000Item, Intel HD Graphics 4000, spdisplays_builtin\r\nMemory Module: BANK 0/DIMM0, 4 GB, DDR3, 1600 MHz, 0x802C, 0x384B54463531323634485A2D314736453120\r\nMemory Module: BANK 1/DIMM0, 4 GB, DDR3, 1600 MHz, 0x802C, 0x384B54463531323634485A2D314736453120\r\nAirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0x10F), Broadcom BCM43xx 1.0 (7.21.190.33 AirPortDriverBrcm4360-1408)\r\nBluetooth: Version 7.0.0f8, 3 services, 18 devices, 1 incoming serial ports\r\nNetwork Service: Wi-Fi 2, AirPort, en0\r\nSerial ATA Device: APPLE SSD SD512E, 500.28 GB\r\nUSB Device: USB 2.0 Bus\r\nUSB Device: Hub\r\nUSB Device: Hub\r\nUSB Device: Apple Internal Keyboard / Trackpad\r\nUSB Device: BRCM20702 Hub\r\nUSB Device: Bluetooth USB Host Controller\r\nUSB Device: USB 2.0 Bus\r\nUSB Device: Hub\r\nUSB Device: FaceTime HD Camera (Built-in)\r\nUSB Device: USB 3.0 Bus\r\nUSB Device: Microsoft\u00ae 2.4GHz Transceiver v9.0\r\nThunderbolt Bus: MacBook Pro, Apple Inc., 23.4\r\n```",
    "performed_via_github_app": null
}