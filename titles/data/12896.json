{
    "url": "https://api.github.com/repos/spack/spack/issues/12896",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12896/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12896/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12896/events",
    "html_url": "https://github.com/spack/spack/issues/12896",
    "id": 496799619,
    "node_id": "MDU6SXNzdWU0OTY3OTk2MTk=",
    "number": 12896,
    "title": "installation issue on AMD 7551 with gcc@8.2.0 - illegal instruction",
    "user": {
        "login": "mkiernan",
        "id": 24193619,
        "node_id": "MDQ6VXNlcjI0MTkzNjE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/24193619?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mkiernan",
        "html_url": "https://github.com/mkiernan",
        "followers_url": "https://api.github.com/users/mkiernan/followers",
        "following_url": "https://api.github.com/users/mkiernan/following{/other_user}",
        "gists_url": "https://api.github.com/users/mkiernan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mkiernan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mkiernan/subscriptions",
        "organizations_url": "https://api.github.com/users/mkiernan/orgs",
        "repos_url": "https://api.github.com/users/mkiernan/repos",
        "events_url": "https://api.github.com/users/mkiernan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mkiernan/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1571451565,
            "node_id": "MDU6TGFiZWwxNTcxNDUxNTY1",
            "url": "https://api.github.com/repos/spack/spack/labels/AMD",
            "name": "AMD",
            "color": "21a843",
            "default": false,
            "description": ""
        },
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 512483406,
            "node_id": "MDU6TGFiZWw1MTI0ODM0MDY=",
            "url": "https://api.github.com/repos/spack/spack/labels/impact-high",
            "name": "impact-high",
            "color": "fef2c0",
            "default": false,
            "description": ""
        },
        {
            "id": 446623896,
            "node_id": "MDU6TGFiZWw0NDY2MjM4OTY=",
            "url": "https://api.github.com/repos/spack/spack/labels/platform-support",
            "name": "platform-support",
            "color": "bfdadc",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 11,
    "created_at": "2019-09-22T16:11:23Z",
    "updated_at": "2019-09-24T04:54:14Z",
    "closed_at": "2019-09-24T04:54:14Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "\r\nI'm getting \"illegal instruction\" when trying to use spack to install just about anything on an AMD EPYC 7511 \"excavator\" / Naples system (Azure HB60rs instance) with a vanilla CentOS 7.6 image. The same process is working fine on it's sister Intel Skylake platform. \r\n\r\nThe example given is gcc@8.2.0, which fails in perl. Other packages are failing with the same illegal instruction error (e.g. libatomic). When building the packages by hand outside of spack, they work fine. The offending illegal instruction appears to be BMI1 \"bextr\" which this platform does appear to support according to the cpuinfo output below.\r\n\r\nSpack is using only the default gcc 4.8.5 compiler that comes with the base Centos 7.6 OS. \r\n\r\n### Steps to reproduce the issue\r\nCreate an Azure HB60rs AMD instance, then: \r\n```console\r\n$ git clone https://github.com/spack/spack.git\r\n$./spack -d install -j 1 gcc@8.2.0\r\n\r\nThe build will fail with \"illegal instruction\" while building the perl dependency. \r\n\r\n### Platform and user environment\r\n\r\n[mk2@spackhb bin]$ ./spack arch\r\nlinux-centos7-excavator\r\n[mk2@spackhb bin]$ uname -a\r\nLinux spackhb 3.10.0-957.21.3.el7.x86_64 #1 SMP Tue Jun 18 16:35:19 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n[mk2@spackhb bin]$ cat /etc/redhat-release\r\nCentOS Linux release 7.6.1810 (Core)\r\n\r\nprocessor       : 59\r\nvendor_id       : AuthenticAMD\r\ncpu family      : 23\r\nmodel           : 1\r\nmodel name      : AMD EPYC 7551 32-Core Processor\r\nstepping        : 2\r\nmicrocode       : 0xffffffff\r\ncpu MHz         : 1996.279\r\ncache size      : 512 KB\r\nphysical id     : 1\r\nsiblings        : 28\r\ncore id         : 27\r\ncpu cores       : 28\r\napicid          : 59\r\ninitial apicid  : 59\r\nfpu             : yes\r\nfpu_exception   : yes\r\ncpuid level     : 13\r\nwp              : yes\r\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm art rep_good nopl extd_apicid eagerfpu pni pclmulqdq ssse3 fma cx16 sse4_1 sse4_2 movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm cmp_legacy cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw retpoline_amd ssbd vmmcall fsgsbase bmi1 avx2 smep bmi2 rdseed adx smap clflushopt xsaveopt xsavec arat\r\nbogomips        : 3992.95\r\nTLB size        : 2560 4K pages\r\nclflush size    : 64\r\ncache_alignment : 64\r\naddress sizes   : 44 bits physical, 48 bits virtual\r\n\r\n### Additional information\r\n\r\n[mk2@spackhb bin]$ ./spack arch\r\nlinux-centos7-excavator\r\n[mk2@spackhb bin]$ ./spack spec gcc@8.2.0\r\nInput spec\r\n--------------------------------\r\ngcc@8.2.0\r\n\r\nConcretized\r\n--------------------------------\r\n==> Warning: CROSS has not been set, however cannot detect scheduler.\r\ngcc@8.2.0%gcc@4.8.5~binutils languages=c,c++,fortran ~nvptx~piclibs~strip arch=linux-centos7-steamroller\r\n    ^gmp@6.1.2%gcc@4.8.5 arch=linux-centos7-steamroller\r\n        ^autoconf@2.69%gcc@4.8.5 arch=linux-centos7-steamroller\r\n            ^m4@1.4.18%gcc@4.8.5 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-centos7-steamroller\r\n                ^libsigsegv@2.11%gcc@4.8.5 arch=linux-centos7-steamroller\r\n            ^perl@5.26.2%gcc@4.8.5+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-centos7-steamroller\r\n                ^gdbm@1.18.1%gcc@4.8.5 arch=linux-centos7-steamroller\r\n                    ^readline@7.0%gcc@4.8.5 arch=linux-centos7-steamroller\r\n                        ^ncurses@6.1%gcc@4.8.5~symlinks~termlib arch=linux-centos7-steamroller\r\n                            ^pkgconf@1.6.1%gcc@4.8.5 arch=linux-centos7-steamroller\r\n        ^automake@1.16.1%gcc@4.8.5 arch=linux-centos7-steamroller\r\n        ^libtool@2.4.6%gcc@4.8.5 arch=linux-centos7-steamroller\r\n    ^isl@0.18%gcc@4.8.5 arch=linux-centos7-steamroller\r\n    ^mpc@1.1.0%gcc@4.8.5 arch=linux-centos7-steamroller\r\n        ^mpfr@3.1.6%gcc@4.8.5 patches=66a5d58364113a21405fc53f4a48f4e8 arch=linux-centos7-steamroller\r\n    ^zlib@1.2.11%gcc@4.8.5+optimize+pic+shared arch=linux-centos7-steamroller\r\n\r\n[mk2@spackhb bin]$ ./spack compilers\r\n==> Available compilers\r\n-- gcc centos7-x86_64 -------------------------------------------\r\ngcc@4.8.5\r\n\r\n\r\nAnd here is the actual error: \r\n\r\n[mk2@spackhb bin]$ ./spack install gcc@8.2.0\r\n==> Installing libsigsegv\r\n==> Searching for binary cache of libsigsegv\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for libsigsegv found: installing from source\r\n==> Fetching https://ftpmirror.gnu.org/libsigsegv/libsigsegv-2.11.tar.gz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/libsigsegv-2.11-56uvvg3i3cwe4nuexwa4ob2oabskyvgr/libsigsegv-2.11.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/libsigsegv-2.11-56uvvg3i3cwe4nuexwa4ob2oabskyvgr\r\n==> No patches needed for libsigsegv\r\n==> Building libsigsegv [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed libsigsegv\r\n  Fetch: 2.06s.  Build: 6.37s.  Total: 8.44s.\r\n[+] /home/mk2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/libsigsegv-2.11-56uvvg3i3cwe4nuexwa4ob2oabskyvgr\r\n==> Installing m4\r\n==> Searching for binary cache of m4\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for m4 found: installing from source\r\n==> Fetching https://ftpmirror.gnu.org/m4/m4-1.4.18.tar.gz\r\n######################################################################## 100.0%\r\n==> Fetching https://src.fedoraproject.org/rpms/m4/raw/5d147168d4b93f38a4833f5dd1d650ad88af5a8a/f/m4-1.4.18-glibc-change-work-around.patch\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/m4-1.4.18-sbitoczwdj6hphbucitkivqzengdkwgl/m4-1.4.18.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/m4-1.4.18-sbitoczwdj6hphbucitkivqzengdkwgl\r\n==> Applied patch /home/mk2/spack/var/spack/repos/builtin/packages/m4/gnulib-pgi.patch\r\n==> Applied patch https://src.fedoraproject.org/rpms/m4/raw/5d147168d4b93f38a4833f5dd1d650ad88af5a8a/f/m4-1.4.18-glibc-change-work-around.patch\r\n==> Building m4 [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed m4\r\n  Fetch: 2.69s.  Build: 36.25s.  Total: 38.95s.\r\n[+] /home/mk2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/m4-1.4.18-sbitoczwdj6hphbucitkivqzengdkwgl\r\n==> Installing pkgconf\r\n==> Searching for binary cache of pkgconf\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for pkgconf found: installing from source\r\n==> Fetching http://distfiles.dereferenced.org/pkgconf/pkgconf-1.6.1.tar.xz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/pkgconf-1.6.1-og7atogyyybk3h77fbmqzs6ijtnmk7rs/pkgconf-1.6.1.tar.xz\r\n==> Created stage in /tmp/mk2/spack-stage/pkgconf-1.6.1-og7atogyyybk3h77fbmqzs6ijtnmk7rs\r\n==> No patches needed for pkgconf\r\n==> Building pkgconf [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed pkgconf\r\n  Fetch: 0.85s.  Build: 6.09s.  Total: 6.94s.\r\n[+] /home/mk2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/pkgconf-1.6.1-og7atogyyybk3h77fbmqzs6ijtnmk7rs\r\n==> Installing ncurses\r\n==> Searching for binary cache of ncurses\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for ncurses found: installing from source\r\n==> Fetching https://ftpmirror.gnu.org/ncurses/ncurses-6.1.tar.gz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/ncurses-6.1-dsl2tvvsfmthlouvs3hfry22bkhbgbmi/ncurses-6.1.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/ncurses-6.1-dsl2tvvsfmthlouvs3hfry22bkhbgbmi\r\n==> No patches needed for ncurses\r\n==> Building ncurses [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed ncurses\r\n  Fetch: 3.63s.  Build: 47.26s.  Total: 50.89s.\r\n[+] /home/mk2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/ncurses-6.1-dsl2tvvsfmthlouvs3hfry22bkhbgbmi\r\n==> Installing readline\r\n==> Searching for binary cache of readline\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for readline found: installing from source\r\n==> Fetching https://ftpmirror.gnu.org/readline/readline-7.0.tar.gz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/readline-7.0-flzuiozwhv6lpwn6r3mh36mzn5s33cea/readline-7.0.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/readline-7.0-flzuiozwhv6lpwn6r3mh36mzn5s33cea\r\n==> No patches needed for readline\r\n==> Building readline [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed readline\r\n  Fetch: 4.31s.  Build: 10.80s.  Total: 15.10s.\r\n[+] /home/mk2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/readline-7.0-flzuiozwhv6lpwn6r3mh36mzn5s33cea\r\n==> Installing gdbm\r\n==> Searching for binary cache of gdbm\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for gdbm found: installing from source\r\n==> Fetching https://ftpmirror.gnu.org/gdbm/gdbm-1.18.1.tar.gz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/gdbm-1.18.1-ktiozt6vlvm4hq2a762duei5w2fc2vi4/gdbm-1.18.1.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/gdbm-1.18.1-ktiozt6vlvm4hq2a762duei5w2fc2vi4\r\n==> No patches needed for gdbm\r\n==> Building gdbm [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed gdbm\r\n  Fetch: 2.07s.  Build: 9.22s.  Total: 11.29s.\r\n[+] /home/mk2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/gdbm-1.18.1-ktiozt6vlvm4hq2a762duei5w2fc2vi4\r\n==> Installing perl\r\n==> Searching for binary cache of perl\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for perl found: installing from source\r\n==> Fetching http://www.cpan.org/src/5.0/perl-5.26.2.tar.gz\r\n######################################################################## 100.0%\r\n==> Fetching http://search.cpan.org/CPAN/authors/id/M/MI/MIYAGAWA/App-cpanminus-1.7042.tar.gz\r\n######################################################################## 100.0%\r\n==> Fetching https://src.fedoraproject.org/rpms/perl/raw/004cea3a67df42e92ffdf4e9ac36d47a3c6a05a4/f/perl-5.26.1-guard_old_libcrypt_fix.patch\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/perl-5.26.2.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d\r\n==> Staging archive: /tmp/mk2/spack-stage/resource-cpanm-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/App-cpanminus-1.7042.tar.gz\r\n==> Created stage in /tmp/mk2/spack-stage/resource-cpanm-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d\r\n==> Moving resource stage\r\n        source : /tmp/mk2/spack-stage/resource-cpanm-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/spack-src/\r\n        destination : /tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/spack-src/cpanm/cpanm\r\n==> Applied patch https://src.fedoraproject.org/rpms/perl/raw/004cea3a67df42e92ffdf4e9ac36d47a3c6a05a4/f/perl-5.26.1-guard_old_libcrypt_fix.patch\r\n==> Building perl [Package]\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n1 error found in build log:\r\n     939    cc -c -DPERL_CORE -D_REENTRANT -D_GNU_SOURCE -DAPPLLIB_EXP=\"/home/m\r\n            k2/spack/opt/spack/linux-centos7-steamroller/gcc-4.8.5/perl-5.26.2-\r\n            ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/lib/perl5\" -fwrapv -fno-strict-ali\r\n            asing -pipe -fstack-protector-strong -I/home/mk2/spack/opt/spack/li\r\n            nux-centos7-steamroller/gcc-4.8.5/gdbm-1.18.1-ktiozt6vlvm4hq2a762du\r\n            ei5w2fc2vi4/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_F\r\n            ORTIFY_SOURCE=2 -std=c89 -O2 -Wall -Werror=declaration-after-statem\r\n            ent -Wextra -Wc++-compat -Wwrite-strings -fPIC op.c\r\n     940    cc -fstack-protector-strong -L/home/mk2/spack/opt/spack/linux-cento\r\n            s7-steamroller/gcc-4.8.5/gdbm-1.18.1-ktiozt6vlvm4hq2a762duei5w2fc2v\r\n            i4/lib -o miniperl \\\r\n     941        opmini.o perlmini.o  gv.o toke.o perly.o pad.o regcomp.o dump.o\r\n             util.o mg.o reentr.o mro_core.o keywords.o hv.o av.o run.o pp_hot.\r\n            o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.\r\n            o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o\r\n            mathoms.o locale.o pp_pack.o pp_sort.o caretx.o dquote.o time64.o\r\n            miniperlmain.o  -lpthread -lnsl -ldl -lm -lcrypt -lutil -lc\r\n     942    LD_LIBRARY_PATH=/tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4d\r\n            x3vdputhi3qp3d/spack-src ./miniperl -w -Ilib -Idist/Exporter/lib -M\r\n            Exporter -e '<?>' || sh -c 'echo >&2 Failed to build miniperl.  Ple\r\n            ase run make minitest; exit 1'\r\n     943    /bin/sh: line 1: 55501 Illegal instruction     LD_LIBRARY_PATH=/tmp\r\n            /mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/spack\r\n            -src ./miniperl -w -Ilib -Idist/Exporter/lib -MExporter -e '<?>'\r\n     944    Failed to build miniperl. Please run make minitest\r\n  >> 945    make: *** [lib/buildcustomize.pl] Error 1\r\n     946    make: *** Waiting for unfinished jobs....\r\n\r\nSee build log for details:\r\n  /tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/spack-build-out.txt\r\n\r\n[mk2@spackhb spack-src]$ ./miniperl\r\nIllegal instruction\r\n[mk2@spackhb spack-src]$ gdb ./miniperl\r\nGNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-114.el7\r\nCopyright (C) 2013 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-redhat-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>...\r\nReading symbols from /tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/spack-src/miniperl...(no debugging symbols found)...done.\r\n(gdb) run\r\nStarting program: /tmp/mk2/spack-stage/perl-5.26.2-ljoae2gfrzfgvvdd4dx3vdputhi3qp3d/spack-src/./miniperl\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\r\n\r\nProgram received signal SIGILL, Illegal instruction.\r\n0x000000000053c490 in Perl_new_ctype ()\r\nMissing separate debuginfos, use: debuginfo-install glibc-2.17-260.el7_6.6.x86_64 nss-softokn-freebl-3.36.0-5.el7_5.x86_64\r\n\r\n\r\n0x53c490 <Perl_new_ctype+1320>  bextr  $0x1d03,%rax,%rcx                                                                             \u2502\r\n   \u25020x53c499 <Perl_new_ctype+1329>  xor    %edx,%edx                                                                                     \u2502\r\n   \u25020x53c49b <Perl_new_ctype+1331>  test   $0x4,%al                                                                                      \u2502\r\n   \u25020x53c49d <Perl_new_ctype+1333>  rep movsq %ds:(%rsi),%es:(%rdi)                                                                      \u2502\r\n   \u25020x53c4a0 <Perl_new_ctype+1336>  jne    0x53c4d0 <Perl_new_ctype+1384>                                                                \u2502\r\n   \u25020x53c4a2 <Perl_new_ctype+1338>  test   $0x2,%al                                                                                      \u2502\r\n   \u25020x53c4a4 <Perl_new_ctype+1340>  jne    0x53c4ba <Perl_new_ctype+1362>                                                                \u2502\r\n   \u25020x53c4a6 <Perl_new_ctype+1342>  test   $0x1,%al                                                                                      \u2502\r\n   \u25020x53c4a8 <Perl_new_ctype+1344>  je     0x53c1e2 <Perl_new_ctype+634>                                                                 \u2502\r\n   \u25020x53c4ae <Perl_new_ctype+1350>  movzbl (%rsi,%rdx,1),%eax                                                                            \u2502\r\n   \u25020x53c4b2 <Perl_new_ctype+1354>  mov    %al,(%rdi,%rdx,1)                                                                             \u2502\r\n   \u25020x53c4b5 <Perl_new_ctype+1357>  jmpq   0x53c1e2 <Perl_new_ctype+634>                                                                 \u2502\r\n   \u25020x53c4ba <Perl_new_ctype+1362>  movzwl (%rsi,%rdx,1),%ecx                                                                            \u2502\r\n   \u25020x53c4be <Perl_new_ctype+1366>  mov    %cx,(%rdi,%rdx,1)                                                                             \u2502\r\n   \u25020x53c4c2 <Perl_new_ctype+1370>  add    $0x2,%rdx                                                                                     \u2502\r\n   \u25020x53c4c6 <Perl_new_ctype+1374>  test   $0x1,%al                                                                                      \u2502\r\n   \u25020x53c4c8 <Perl_new_ctype+1376>  je     0x53c1e2 <Perl_new_ctype+634>                                                                 \u2502\r\n   \u25020x53c4ce <Perl_new_ctype+1382>  jmp    0x53c4ae <Perl_new_ctype+1350>                                                                \u2502\r\n   \u25020x53c4d0 <Perl_new_ctype+1384>  mov    (%rsi),%edx                                                                                   \u2502\r\n   \u25020x53c4d2 <Perl_new_ctype+1386>  test   $0x2,%al                                                                                      \u2502\r\n   \u25020x53c4d4 <Perl_new_ctype+1388>  mov    %edx,(%rdi)                                                                                   \u2502\r\n   \u25020x53c4d6 <Perl_new_ctype+1390>  mov    $0x4,%edx                                                                                     \u2502\r\n   \u25020x53c4db <Perl_new_ctype+1395>  je     0x53c4a6 <Perl_new_ctype+1342>                                                                \u2502\r\n   \u25020x53c4dd <Perl_new_ctype+1397>  jmp    0x53c4ba <Perl_new_ctype+1362>                                                                \u2502\r\n   \u25020x53c4df <Perl_new_ctype+1399>  xor    %edx,%edx                                                                                     \u2502\r\n   \u25020x53c4e1 <Perl_new_ctype+1401>  mov    $0x1,%esi                                                                                     \u2502\r\n   \u25020x53c4e6 <Perl_new_ctype+1406>  mov    %rbx,%rdi                                                                                     \u2502\r\n   \u25020x53c4e9 <Perl_new_ctype+1409>  callq  0x53bec0 <Perl__is_in_locale_category>                                                        \u2502\r\n   \u25020x53c4ee <Perl_new_ctype+1414>  test   %al,%al                                                                                       \u2502\r\n   \u25020x53c4f0 <Perl_new_ctype+1416>  jne    0x53c2fe <Perl_new_ctype+918>                                                                 \u2502\r\n   \u25020x53c4f6 <Perl_new_ctype+1422>  jmpq   0x53c2cb <Perl_new_ctype+867>                                                                 \u2502\r\n   \u25020x53c4fb <Perl_new_ctype+1427>  test   $0x10,%al                                                                                     \u2502\r\n   \u25020x53c4fd <Perl_new_ctype+1429>  nopl   (%rax)                                                                                        \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\nmulti-thre Thread 0x7ffff In: Perl_new_ctype                                                                      Line: ??   PC: 0x53c490\r\n(gdb)\r\n\r\n",
    "performed_via_github_app": null
}