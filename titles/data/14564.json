{
    "url": "https://api.github.com/repos/spack/spack/issues/14564",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/14564/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/14564/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/14564/events",
    "html_url": "https://github.com/spack/spack/issues/14564",
    "id": 552070384,
    "node_id": "MDU6SXNzdWU1NTIwNzAzODQ=",
    "number": 14564,
    "title": "Installation Issue: elpa",
    "user": {
        "login": "zhujunmian",
        "id": 37604870,
        "node_id": "MDQ6VXNlcjM3NjA0ODcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/37604870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zhujunmian",
        "html_url": "https://github.com/zhujunmian",
        "followers_url": "https://api.github.com/users/zhujunmian/followers",
        "following_url": "https://api.github.com/users/zhujunmian/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhujunmian/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zhujunmian/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhujunmian/subscriptions",
        "organizations_url": "https://api.github.com/users/zhujunmian/orgs",
        "repos_url": "https://api.github.com/users/zhujunmian/repos",
        "events_url": "https://api.github.com/users/zhujunmian/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zhujunmian/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1433532775,
            "node_id": "MDU6TGFiZWwxNDMzNTMyNzc1",
            "url": "https://api.github.com/repos/spack/spack/labels/triage",
            "name": "triage",
            "color": "ed9793",
            "default": false,
            "description": "The issue needs to be prioritized"
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-01-20T05:11:28Z",
    "updated_at": "2020-01-27T00:48:13Z",
    "closed_at": "2020-01-27T00:48:12Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install elpa\r\n==> Warning: gcc@5.4.0 cannot build optimized binaries for \"skylake\". Using best target possible: \"broadwell\"\r\n==> pkgconf is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/pkgconf-1.6.3-4rskhebg7jkmyacysikivcn7irjxcmlp\r\n==> ncurses is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/ncurses-6.1-uwybnmiau5ufv7lepcw7ucfqrjioqsvo\r\n==> readline is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/readline-8.0-knlprg7upckuarrh7abo5ymcrcviz7tb\r\n==> gdbm is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/gdbm-1.18.1-zg27kkqfvpvdg5kcsbirqernyyhjvsu2\r\n==> perl is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/perl-5.30.1-545uycame2fwwz3frfqgolvdtghvnvhm\r\n==> zlib is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/zlib-1.2.11-lhfrrg22foi2a76q5oqjclljxm6grabo\r\n==> openssl is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/openssl-1.1.1d-rdlsgxiszug3nuuoobworkbjt3aa4bwg\r\n==> cmake is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/cmake-3.16.2-fdv25s3sqj2k2vmzfpjtwhwegbbvzb2g\r\n==> openblas is already installed in /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/openblas-0.3.7-mawqmgtqkbom5pnczyuw57co6psbpyhy\r\n==> openmpi@4.0.2 : externally installed in /home/junmian/Applications/openmpi/openmpi-4.0.2-cuda\r\n==> openmpi@4.0.2 : already registered in DB\r\n==> Installing netlib-scalapack\r\n==> Searching for binary cache of netlib-scalapack\r\n==> No binary for netlib-scalapack found: installing from source\r\n==> Fetching http://www.netlib.org/scalapack/scalapack-2.1.0.tgz\r\n##################################################################################### 100.0%\r\n==> Staging archive: /tmp/junmian/spack-stage/spack-stage-netlib-scalapack-2.1.0-qqjlvl5slvgmunbegcigynm4ava4tlwg/scalapack-2.1.0.tgz\r\n==> Created stage in /tmp/junmian/spack-stage/spack-stage-netlib-scalapack-2.1.0-qqjlvl5slvgmunbegcigynm4ava4tlwg\r\n==> Applied patch /home/junmian/Applications/spack/var/spack/repos/builtin/packages/netlib-scalapack/int_overflow.patch\r\n==> Building netlib-scalapack [CMakePackage]\r\n==> Executing phase: 'cmake'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed netlib-scalapack\r\n  Fetch: 2.64s.  Build: 1m 1.80s.  Total: 1m 4.44s.\r\n[+] /home/junmian/Applications/spack/opt/spack/linux-ubuntu16.04-broadwell/gcc-5.4.0/netlib-scalapack-2.1.0-qqjlvl5slvgmunbegcigynm4ava4tlwg\r\n==> Installing elpa\r\n==> Searching for binary cache of elpa\r\n==> No binary for elpa found: installing from source\r\n==> Fetching http://elpa.mpcdf.mpg.de/html/Releases/2019.05.002/elpa-2019.05.002.tar.gz\r\n##################################################################################### 100.0%##################################################################################### 100.0%\r\n==> Staging archive: /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/elpa-2019.05.002.tar.gz\r\n==> Created stage in /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z\r\n==> No patches needed for elpa\r\n==> Building elpa [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n10 errors found in build log:\r\n     206     Extracting interface marked with '#!f>' from src/elpa_generated_fortran_interf\r\n             aces.h...\r\n     207     Extracting interface marked with '!pf>' from src/elpa_generated_public_fortran\r\n             _interfaces.h...\r\n     208     ==> Executing phase: 'build'\r\n     209     ==> [2020-01-19-21:04:58.849984] 'make' '-j8'\r\n     210     make  all-am\r\n     211     make[1]: Entering directory '/tmp/junmian/spack-stage/spack-stage-elpa-2019.05\r\n             .002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/spack-build'\r\n  >> 212     /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarl\r\n             t3l66g4z/spack-src/fdep/fortran_dependencies.mk:96: /tmp/junmian/spack-stage/s\r\n             pack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/spack-b\r\n             uild/.fortran_dependencies/dependencies.mk: No such file or directory\r\n     213       F90 USE  [libelpa_private_la] /tmp/junmian/spack-stage/spack-stage-elpa-2019\r\n             .05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/src/elpa2/mod_pack_unpack_g\r\n             pu.F90\r\n     214       F90 USE  [libelpa_private_la] /tmp/junmian/spack-stage/spack-stage-elpa-2019\r\n             .05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/src/elpa1/elpa1.F90\r\n     215       F90 USE  [libelpa_private_la] /tmp/junmian/spack-stage/spack-stage-elpa-2019\r\n             .05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/src/elpa2/elpa2.F90\r\n     216       F90 USE  [libelpa_private_la] /tmp/junmian/spack-stage/spack-stage-elpa-2019\r\n             .05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/src/helpers/matrix_plot.F90\r\n     217       F90 USE  [libelpa_private_la] /tmp/junmian/spack-stage/spack-stage-elpa-2019\r\n             .05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/src/elpa2/kernels/real.F90\r\n     218       F90 USE  [libelpa_private_la] /tmp/junmian/spack-stage/spack-stage-elpa-2019\r\n             .05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/src/elpa2/kernels/real_simp\r\n             le.F90\r\n\r\n     ...\r\n\r\n     1312      PPFC     test/Fortran/complex_double_eigenvectors_2stage_all_kernels_analyti\r\n             c_all_layouts-test.o\r\n     1313      PPFC     test/Fortran/complex_double_eigenvectors_2stage_default_kernel_anal\r\n             ytic_all_layouts-test.o\r\n     1314    /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarl\r\n             t3l66g4z/spack-src/test/Fortran/test.F90:112:7:\r\n     1315    \r\n     1316        use test_prepare_matrix\r\n     1317           1\r\n  >> 1318    Fatal Error: Can't open module file 'test_prepare_matrix.mod' for reading at (\r\n             1): No such file or directory\r\n     1319    compilation terminated.\r\n     1320    Makefile:17087: recipe for target 'test/Fortran/complex_double_eigenvectors_1s\r\n             tage_analytic_all_layouts-test.o' failed\r\n  >> 1321    make[1]: *** [test/Fortran/complex_double_eigenvectors_1stage_analytic_all_lay\r\n             outs-test.o] Error 1\r\n     1322    make[1]: *** Waiting for unfinished jobs....\r\n     1323    /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarl\r\n             t3l66g4z/spack-src/test/Fortran/test.F90:112:7:\r\n     1324    \r\n     1325        use test_prepare_matrix\r\n     1326           1\r\n  >> 1327    Fatal Error: Can't open module file 'test_prepare_matrix.mod' for reading at (\r\n             1): No such file or directory\r\n     1328    compilation terminated.\r\n     1329    /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarl\r\n             t3l66g4z/spack-src/test/Fortran/test.F90:112:7:\r\n     1330    \r\n     1331        use test_prepare_matrix\r\n     1332           1\r\n  >> 1333    Fatal Error: Can't open module file 'test_prepare_matrix.mod' for reading at (\r\n             1): No such file or directory\r\n     1334    compilation terminated.\r\n     1335    Makefile:17081: recipe for target 'test/Fortran/complex_double_eigenvectors_1s\r\n             tage_analytic-test.o' failed\r\n  >> 1336    make[1]: *** [test/Fortran/complex_double_eigenvectors_1stage_analytic-test.o]\r\n              Error 1\r\n     1337    Makefile:17147: recipe for target 'test/Fortran/complex_double_eigenvectors_2s\r\n             tage_all_kernels_analytic_all_layouts-test.o' failed\r\n  >> 1338    make[1]: *** [test/Fortran/complex_double_eigenvectors_2stage_all_kernels_anal\r\n             ytic_all_layouts-test.o] Error 1\r\n     1339    /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarl\r\n             t3l66g4z/spack-src/test/Fortran/test.F90:112:7:\r\n     1340    \r\n     1341        use test_prepare_matrix\r\n     1342           1\r\n  >> 1343    Fatal Error: Can't open module file 'test_prepare_matrix.mod' for reading at (\r\n             1): No such file or directory\r\n     1344    compilation terminated.\r\n     1345    Makefile:17207: recipe for target 'test/Fortran/complex_double_eigenvectors_2s\r\n             tage_default_kernel_analytic_all_layouts-test.o' failed\r\n  >> 1346    make[1]: *** [test/Fortran/complex_double_eigenvectors_2stage_default_kernel_a\r\n             nalytic_all_layouts-test.o] Error 1\r\n     1347    make[1]: Leaving directory '/tmp/junmian/spack-stage/spack-stage-elpa-2019.05.\r\n             002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-src/spack-build'\r\n     1348    Makefile:12928: recipe for target 'all' failed\r\n  >> 1349    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/junmian/spack-stage/spack-stage-elpa-2019.05.002-vfw3ldrkpyjlkcodv2cuwarlt3l66g4z/spack-build-out.txt\r\n\r\n\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\n$ uname -a \r\nLinux  4.15.0-74-generic #83~16.04.1-Ubuntu SMP Wed Dec 18 04:56:23 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n$ lsb_release -d\r\nDescription:\tUbuntu 16.04\r\n``` \r\n\r\nExcept for openmpi, all other libraries should be installed by spack automatically. However, it is still not able to build elpa from source by spack. ",
    "performed_via_github_app": null
}