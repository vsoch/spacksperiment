{
    "url": "https://api.github.com/repos/spack/spack/issues/8470",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8470/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8470/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8470/events",
    "html_url": "https://github.com/spack/spack/issues/8470",
    "id": 332250675,
    "node_id": "MDU6SXNzdWUzMzIyNTA2NzU=",
    "number": 8470,
    "title": "netgen 5.3.1 fails due to missing zlib.h",
    "user": {
        "login": "cpraveen",
        "id": 748769,
        "node_id": "MDQ6VXNlcjc0ODc2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/748769?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cpraveen",
        "html_url": "https://github.com/cpraveen",
        "followers_url": "https://api.github.com/users/cpraveen/followers",
        "following_url": "https://api.github.com/users/cpraveen/following{/other_user}",
        "gists_url": "https://api.github.com/users/cpraveen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cpraveen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cpraveen/subscriptions",
        "organizations_url": "https://api.github.com/users/cpraveen/orgs",
        "repos_url": "https://api.github.com/users/cpraveen/repos",
        "events_url": "https://api.github.com/users/cpraveen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cpraveen/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 446630669,
            "node_id": "MDU6TGFiZWw0NDY2MzA2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/dependencies",
            "name": "dependencies",
            "color": "c2e0c6",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-06-14T04:50:25Z",
    "updated_at": "2018-06-14T18:43:44Z",
    "closed_at": "2018-06-14T18:43:44Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I am installing deal.II\r\n```\r\nspack install -j6 --only dependencies dealii@develop\r\n```\r\nand netgen 5.3.1 fails due to missing zlib.h\r\n\r\nzlib is already installed by spack. But netgen does not seem to depend on zlib.\r\n\r\nI am on ubuntu18.04 with gcc 7.3.0\r\n\r\n```\r\n==> Staging archive: /home/praveen/Applications/spack/var/spack/stage/netgen-5.3.1-icj6pivfmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1.tar.gz\r\n==> Created stage in /home/praveen/Applications/spack/var/spack/stage/netgen-5.3.1-icj6pivfmdttb4a63skq7mkqbxnvx6v4\r\n==> No patches needed for netgen\r\n==> Building netgen [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j6'\r\n\r\n15 errors found in build log:\r\n     155    libtool: compile:  /home/praveen/Applications/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/mpich-3.2.1-yf2xknkwvuopv\r\n            7bslicv4x66fd4ntpbc/bin/mpic++ -DHAVE_CONFIG_H -I. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.3.1-icj6piv\r\n            fmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/general -I../.. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.\r\n            3.1-icj6pivfmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/include -g -O2 -fopenmp -MT dynamicmem.lo -MD -MP -MF .deps/dynam\r\n            icmem.Tpo -c dynamicmem.cpp  -fPIC -DPIC -o .libs/dynamicmem.o\r\n     156    libtool: compile:  /home/praveen/Applications/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/mpich-3.2.1-yf2xknkwvuopv\r\n            7bslicv4x66fd4ntpbc/bin/mpic++ -DHAVE_CONFIG_H -I. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.3.1-icj6piv\r\n            fmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/general -I../.. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.\r\n            3.1-icj6pivfmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/include -g -O2 -fopenmp -MT bitarray.lo -MD -MP -MF .deps/bitarra\r\n            y.Tpo -c bitarray.cpp  -fPIC -DPIC -o .libs/bitarray.o\r\n     157    libtool: compile:  /home/praveen/Applications/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/mpich-3.2.1-yf2xknkwvuopv\r\n            7bslicv4x66fd4ntpbc/bin/mpic++ -DHAVE_CONFIG_H -I. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.3.1-icj6piv\r\n            fmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/general -I../.. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.\r\n            3.1-icj6pivfmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/include -g -O2 -fopenmp -MT mystring.lo -MD -MP -MF .deps/mystrin\r\n            g.Tpo -c mystring.cpp  -fPIC -DPIC -o .libs/mystring.o\r\n     158    libtool: compile:  /home/praveen/Applications/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/mpich-3.2.1-yf2xknkwvuopv\r\n            7bslicv4x66fd4ntpbc/bin/mpic++ -DHAVE_CONFIG_H -I. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.3.1-icj6piv\r\n            fmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/general -I../.. -I/home/praveen/Applications/spack/var/spack/stage/netgen-5.\r\n            3.1-icj6pivfmdttb4a63skq7mkqbxnvx6v4/netgen-5.3.1/libsrc/include -g -O2 -fopenmp -MT flags.lo -MD -MP -MF .deps/flags.Tpo \r\n            -c flags.cpp  -fPIC -DPIC -o .libs/flags.o\r\n     159    In file included from ./myadt.hpp:46:0,\r\n     160                     from bitarray.cpp:12:\r\n  >> 161    ./gzstream.h:35:10: fatal error: zlib.h: No such file or directory\r\n     162     #include <zlib.h>\r\n     163              ^~~~~~~~\r\n     164    compilation terminated.\r\n     165    Makefile:370: recipe for target 'bitarray.lo' failed\r\n  >> 166    make[3]: *** [bitarray.lo] Error 1\r\n     167    make[3]: *** Waiting for unfinished jobs....\r\n     168    In file included from ./myadt.hpp:46:0,\r\n     169                     from mystring.cpp:19:\r\n  >> 170    ./gzstream.h:35:10: fatal error: zlib.h: No such file or directory\r\n     171     #include <zlib.h>\r\n     172              ^~~~~~~~\r\n     173    compilation terminated.\r\n     174    Makefile:370: recipe for target 'mystring.lo' failed\r\n  >> 175    make[3]: *** [mystring.lo] Error 1\r\n     176    In file included from ./myadt.hpp:46:0,\r\n     177                     from hashtabl.cpp:13:\r\n  >> 178    ./gzstream.h:35:10: fatal error: zlib.h: No such file or directory\r\n     179     #include <zlib.h>\r\n     180              ^~~~~~~~\r\n     181    compilation terminated.\r\n     182    In file included from ./myadt.hpp:46:0,\r\n     183                     from array.cpp:16:\r\n  >> 184    ./gzstream.h:35:10: fatal error: zlib.h: No such file or directory\r\n     185     #include <zlib.h>\r\n     186              ^~~~~~~~\r\n     187    compilation terminated.\r\n     188    In file included from ./myadt.hpp:46:0,\r\n     189                     from dynamicmem.cpp:1:\r\n  >> 190    ./gzstream.h:35:10: fatal error: zlib.h: No such file or directory\r\n     191     #include <zlib.h>\r\n     192              ^~~~~~~~\r\n     193    compilation terminated.\r\n     194    Makefile:370: recipe for target 'hashtabl.lo' failed\r\n  >> 195    make[3]: *** [hashtabl.lo] Error 1\r\n     196    Makefile:370: recipe for target 'array.lo' failed\r\n  >> 197    make[3]: *** [array.lo] Error 1\r\n     198    Makefile:370: recipe for target 'dynamicmem.lo' failed\r\n  >> 199    make[3]: *** [dynamicmem.lo] Error 1\r\n     200    In file included from ./myadt.hpp:46:0,\r\n     201                     from flags.cpp:12:\r\n  >> 202    ./gzstream.h:35:10: fatal error: zlib.h: No such file or directory\r\n     203     #include <zlib.h>\r\n     204              ^~~~~~~~\r\n     205    compilation terminated.\r\n     206    Makefile:370: recipe for target 'flags.lo' failed\r\n  >> 207    make[3]: *** [flags.lo] Error 1\r\n     208    make[3]: Leaving directory '/tmp/praveen/spack-stage/spack-stage-C9lOLU/netgen-5.3.1/libsrc/general'\r\n     209    Makefile:311: recipe for target 'all-recursive' failed\r\n  >> 210    make[2]: *** [all-recursive] Error 1\r\n     211    make[2]: Leaving directory '/tmp/praveen/spack-stage/spack-stage-C9lOLU/netgen-5.3.1/libsrc'\r\n     212    Makefile:354: recipe for target 'all-recursive' failed\r\n  >> 213    make[1]: *** [all-recursive] Error 1\r\n     214    make[1]: Leaving directory '/tmp/praveen/spack-stage/spack-stage-C9lOLU/netgen-5.3.1'\r\n     215    Makefile:285: recipe for target 'all' failed\r\n  >> 216    make: *** [all] Error 2\r\n```",
    "performed_via_github_app": null
}