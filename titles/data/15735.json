{
    "url": "https://api.github.com/repos/spack/spack/issues/15735",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/15735/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/15735/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/15735/events",
    "html_url": "https://github.com/spack/spack/issues/15735",
    "id": 589693804,
    "node_id": "MDU6SXNzdWU1ODk2OTM4MDQ=",
    "number": 15735,
    "title": "Installation issue: libdwarf",
    "user": {
        "login": "jacobmerson",
        "id": 2366140,
        "node_id": "MDQ6VXNlcjIzNjYxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2366140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jacobmerson",
        "html_url": "https://github.com/jacobmerson",
        "followers_url": "https://api.github.com/users/jacobmerson/followers",
        "following_url": "https://api.github.com/users/jacobmerson/following{/other_user}",
        "gists_url": "https://api.github.com/users/jacobmerson/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jacobmerson/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jacobmerson/subscriptions",
        "organizations_url": "https://api.github.com/users/jacobmerson/orgs",
        "repos_url": "https://api.github.com/users/jacobmerson/repos",
        "events_url": "https://api.github.com/users/jacobmerson/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jacobmerson/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2020-03-29T01:21:43Z",
    "updated_at": "2020-04-04T00:38:29Z",
    "closed_at": "2020-03-29T19:59:50Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "\r\n### Spack version\r\n<!-- Add the output to the command below -->\r\n```console\r\n$ spack --version\r\n0.14.1-415-cbcac7225\r\n```\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install hpctoolkit+papi+cuda %gcc@7.3.0 ^binutils@2.32%gcc@7.3.0 ^dyninst@10.1.0%gcc@7.3.0 \r\nError: ProcessError: Command exited with status 2:                                               \r\n    'make' 'ARFLAGS=rcs'\r\n```\r\nIf I try to install libdwarf directly, I get other dependencies failing, and the end result I care about is installing hpctoolkit which is why I list that as the spec.\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n$ uname -a \r\nLinux blockade 3.10.0-1062.1.2.el7.x86_64 #1 SMP Mon Sep 16 14:19:51 EDT 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:\tRed Hat Enterprise Linux Server release 7.7 (Maipo)\r\n``` \r\n\r\n### Additional information\r\n```console\r\n$ spack spec --install-status <spec>\r\nInput spec\r\n--------------------------------\r\n -   hpctoolkit%gcc@7.3.0+cuda+papi\r\n -       ^binutils@2.32%gcc@7.3.0\r\n -       ^dyninst@10.1.0%gcc@7.3.0\r\n\r\nConcretized\r\n--------------------------------\r\n -   hpctoolkit@2020.03.01%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" ~all-static~bgq~cray+cuda~mpi+papi arch=linux-rhel7-x86_64\r\n[+]      ^binutils@2.32%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +gold~headers+libiberty~nls~plugins arch=linux-rhel7-x86_64\r\n[^]          ^zlib@1.2.11%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +optimize+pic+shared arch=linux-rhel7-x86_64\r\n[+]      ^boost@1.72.0%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +atomic+chrono~clanglibcpp~container~context~coroutine cxxstd=98 +date_time~debug+exception~fiber+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout visibility=global +wave arch=linux-rhel7-x86_64\r\n[^]          ^bzip2@system%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +shared arch=linux-rhel7-x86_64\r\n[+]      ^cuda@10.1%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  arch=linux-rhel7-x86_64\r\n[+]      ^dyninst@10.1.0%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  build_type=RelWithDebInfo +openmp~stat_dysect~static arch=linux-rhel7-x86_64\r\n[+]          ^cmake@3.16.5%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" ~doc+ncurses+openssl+ownlibs~qt arch=linux-rhel7-x86_64\r\n[+]              ^ncurses@6.2%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" ~symlinks+termlib arch=linux-rhel7-x86_64\r\n[^]                  ^pkgconf@1.6.3%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  arch=linux-rhel7-x86_64\r\n[+]              ^openssl@1.1.1e%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +systemcerts arch=linux-rhel7-x86_64\r\n[+]                  ^perl@5.16.3%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-rhel7-x86_64\r\n[+]          ^elfutils@0.178%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +bzip2~nls+xz arch=linux-rhel7-x86_64\r\n[^]              ^m4@1.4.16%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +sigsegv arch=linux-rhel7-x86_64\r\n[^]              ^xz@system%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  arch=linux-rhel7-x86_64\r\n[+]          ^intel-tbb@2020.1%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  cxxstd=default patches=62ba015ebd1819c45bef47411540b789b493e31ca668c4ff4cb2afcbc306b476,ce1fb16fb932ce86a82ca87cf0431d1a8c83652af9f552b264213b2ff2945d73 +shared+tm arch=linux-rhel7-x86_64\r\n[+]          ^libiberty@2.33.1%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +pic arch=linux-rhel7-x86_64\r\n[^]      ^intel-xed@2019.03.01%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" ~debug arch=linux-rhel7-x86_64\r\n[+]          ^python@2.7.5%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4~uuid+zlib arch=linux-rhel7-x86_64\r\n -       ^libdwarf@20180129%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  arch=linux-rhel7-x86_64\r\n[^]      ^libmonitor@2018.07.18%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" ~bgq+hpctoolkit~krellpatch arch=linux-rhel7-x86_64\r\n[+]      ^libunwind@1.4-rc1%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +xz~zlib arch=linux-rhel7-x86_64\r\n[+]      ^mbedtls@2.16.1%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  build_type=Release +pic arch=linux-rhel7-x86_64\r\n[+]      ^papi@6.0.0%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\" +example~infiniband~lmsensors~powercap~rapl arch=linux-rhel7-x86_64\r\n[^]      ^xerces-c@3.2.2%gcc@7.3.0 cflags=\"-mtune=native -march=core2\" cxxflags=\"-mtune=native -march=core2\" fflags=\"-mtune=native -march=core2\"  cxxstd=default transcoder=iconv arch=linux-rhel7-x86_64\r\n```\r\nto show people whether Spack installed a faulty software or if it was not able to\r\nbuild it at all. \r\n\r\nIf your build didn't make it past the configure stage, Spack as also commands to parse \r\nlogs and report error and warning messages:\r\n```console\r\n$ spack log-parse --show=errors,warnings build-out-errors.txt\r\n5 errors\r\n0 warnings\r\n     110    /lore/mersoj/spack/lib/spack/env/gcc/gcc   -g -O2 -I. -I. -fPIC       -c -o dwarf_arange\r\n            .o dwarf_arange.c\r\n     111    /lore/mersoj/spack/lib/spack/env/gcc/gcc   -g -O2 -I. -I. -fPIC       -c -o dwarf_die_de\r\n            liv.o dwarf_die_deliv.c\r\n     112    dwarf_die_deliv.c: In function '_dwarf_make_CU_Context':\r\n  >> 113    dwarf_die_deliv.c:686:13: error: 'DW_SECT_ABBREV' undeclared (first use in this function\r\n            ); did you mean 'DW_DLA_ABBREV'?\r\n     114                 DW_SECT_ABBREV, &absize);\r\n     115                 ^~~~~~~~~~~~~~\r\n     116                 DW_DLA_ABBREV\r\n     117    dwarf_die_deliv.c:686:13: note: each undeclared identifier is reported only once for eac\r\n            h function it appears in\r\n     118    dwarf_die_deliv.c: In function 'find_context_base_fields':\r\n  >> 119    dwarf_die_deliv.c:925:32: error: 'DW_AT_dwo_id' undeclared (first use in this function);\r\n             did you mean 'DW_ATE_void'?\r\n     120                     if (attrnum == DW_AT_dwo_id ||\r\n     121                                    ^~~~~~~~~~~~\r\n     122                                    DW_ATE_void\r\n     123    dwarf_die_deliv.c: In function 'dwarf_die_from_hash_signature':\r\n  >> 124    dwarf_die_deliv.c:1346:22: error: 'DW_SECT_INFO' undeclared (first use in this function)\r\n            ; did you mean 'DT_SYMINFO'?\r\n     125                 is_info2?DW_SECT_INFO:DW_SECT_TYPES,\r\n     126                          ^~~~~~~~~~~~\r\n     127                          DT_SYMINFO\r\n  >> 128    dwarf_die_deliv.c:1346:35: error: 'DW_SECT_TYPES' undeclared (first use in this function\r\n            ); did you mean 'DW_SECT_INFO'?\r\n     129                 is_info2?DW_SECT_INFO:DW_SECT_TYPES,\r\n     130                                       ^~~~~~~~~~~~~\r\n     131                                       DW_SECT_INFO\r\n  >> 132    make: *** [dwarf_die_deliv.o] Error 1\r\n```\r\n### General information\r\n\r\n- [x ] I have run `spack --version` and reported the version of Spack\r\n- [x ] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}