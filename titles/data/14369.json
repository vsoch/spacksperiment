{
    "url": "https://api.github.com/repos/spack/spack/issues/14369",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/14369/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/14369/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/14369/events",
    "html_url": "https://github.com/spack/spack/issues/14369",
    "id": 544938073,
    "node_id": "MDU6SXNzdWU1NDQ5MzgwNzM=",
    "number": 14369,
    "title": "Installation issue: openmpi",
    "user": {
        "login": "robertsawko",
        "id": 773606,
        "node_id": "MDQ6VXNlcjc3MzYwNg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/773606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robertsawko",
        "html_url": "https://github.com/robertsawko",
        "followers_url": "https://api.github.com/users/robertsawko/followers",
        "following_url": "https://api.github.com/users/robertsawko/following{/other_user}",
        "gists_url": "https://api.github.com/users/robertsawko/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/robertsawko/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/robertsawko/subscriptions",
        "organizations_url": "https://api.github.com/users/robertsawko/orgs",
        "repos_url": "https://api.github.com/users/robertsawko/repos",
        "events_url": "https://api.github.com/users/robertsawko/events{/privacy}",
        "received_events_url": "https://api.github.com/users/robertsawko/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 1433532775,
            "node_id": "MDU6TGFiZWwxNDMzNTMyNzc1",
            "url": "https://api.github.com/repos/spack/spack/labels/triage",
            "name": "triage",
            "color": "ed9793",
            "default": false,
            "description": "The issue needs to be prioritized"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "becker33",
        "id": 13971568,
        "node_id": "MDQ6VXNlcjEzOTcxNTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/13971568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/becker33",
        "html_url": "https://github.com/becker33",
        "followers_url": "https://api.github.com/users/becker33/followers",
        "following_url": "https://api.github.com/users/becker33/following{/other_user}",
        "gists_url": "https://api.github.com/users/becker33/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/becker33/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/becker33/subscriptions",
        "organizations_url": "https://api.github.com/users/becker33/orgs",
        "repos_url": "https://api.github.com/users/becker33/repos",
        "events_url": "https://api.github.com/users/becker33/events{/privacy}",
        "received_events_url": "https://api.github.com/users/becker33/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "becker33",
            "id": 13971568,
            "node_id": "MDQ6VXNlcjEzOTcxNTY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13971568?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/becker33",
            "html_url": "https://github.com/becker33",
            "followers_url": "https://api.github.com/users/becker33/followers",
            "following_url": "https://api.github.com/users/becker33/following{/other_user}",
            "gists_url": "https://api.github.com/users/becker33/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/becker33/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/becker33/subscriptions",
            "organizations_url": "https://api.github.com/users/becker33/orgs",
            "repos_url": "https://api.github.com/users/becker33/repos",
            "events_url": "https://api.github.com/users/becker33/events{/privacy}",
            "received_events_url": "https://api.github.com/users/becker33/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-01-03T10:33:46Z",
    "updated_at": "2020-04-21T06:18:45Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "After the latest update of spack tree, I am failing to build openmpi on ppc64le system. I am pretty sure that this has not been occurring before, but I am struggling to find any changes in packages or my own environment which might be causing this. The issue is binuitls, libiconv and gettext.\r\n\r\nMy initial intention was to fix openmpi build for ppc64le, as the default setting weren't working as expected in comparison with manually built variant, but now I am stuck much earlier on.\r\n\r\nPlease advise.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install  openmpi@3.1.4 schedulers=lsf fabrics=verbs,mxm,ucx\r\n...\r\n==> No patches needed for binutils\r\n==> Building binutils [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n14 errors found in build log:\r\n...\r\n  >> 4723    /usr/bin/ld: /gpfs/users/shared/spack/opt/spack/linux-rhel7-power8le/gcc-9.2.0/gettext-0.20.1-y6akw7puzlfgbsffvajtlqvhldovl6gi/lib/libintl.so: undefined reference to symbol 'libiconv\r\n             '\r\n  >> 4724    /gpfs/users/shared/spack/opt/spack/linux-rhel7-power8le/gcc-9.2.0/libiconv-1.16-mnukz37aj2mv7nk4s6w3233y5u5met6b/lib/libiconv.so.2: error adding symbols: DSO missing from command lin\r\n             e\r\n  >> 4725    collect2: error: ld returned 1 exit status\r\n  >> 4726    make[4]: *** [dwp] Error 1\r\n...\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n$ uname -a\r\nLinux sandbox01 3.10.0-957.21.2.el7.ppc64le #1 SMP Tue May 28 09:29:10 UTC 2019 ppc64le ppc64le ppc64le GNU/Linuxu\r\n$ lsb_release -d\r\nDescription:    Red Hat Enterprise Linux Server release 7.6 (Maipo)\r\n```\r\n\r\n",
    "performed_via_github_app": null
}