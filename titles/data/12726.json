{
    "url": "https://api.github.com/repos/spack/spack/issues/12726",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12726/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12726/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12726/events",
    "html_url": "https://github.com/spack/spack/issues/12726",
    "id": 490055085,
    "node_id": "MDU6SXNzdWU0OTAwNTUwODU=",
    "number": 12726,
    "title": "Installation issue: Cray ARM nodes, Cray compiler, Allinea compiler - Open MPI fails in configure phase",
    "user": {
        "login": "floquet",
        "id": 13126143,
        "node_id": "MDQ6VXNlcjEzMTI2MTQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/13126143?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/floquet",
        "html_url": "https://github.com/floquet",
        "followers_url": "https://api.github.com/users/floquet/followers",
        "following_url": "https://api.github.com/users/floquet/following{/other_user}",
        "gists_url": "https://api.github.com/users/floquet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/floquet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/floquet/subscriptions",
        "organizations_url": "https://api.github.com/users/floquet/orgs",
        "repos_url": "https://api.github.com/users/floquet/repos",
        "events_url": "https://api.github.com/users/floquet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/floquet/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-09-05T23:14:21Z",
    "updated_at": "2019-09-18T15:54:54Z",
    "closed_at": "2019-09-18T15:54:54Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Overview\r\n\r\nSignal error: **Could not run a simple Fortran program**\r\n\r\nConfigure failures occur for all `Open MPI` versions tested: `4.0.1, 3.1.4, 3.0.4` using the Cray `cce/9.0.1`, and Allinea `arm/19.2` compilers.\r\n\r\nBackup files for this issue are from the `cce/9.0.1` run.\r\n\r\nGCC compilers successfully build Open MPI on these nodes.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install openmpi @ 4.0.1 % cce @ 9.0.1\r\n...\r\n==> Installing openmpi\r\n...\r\n==> Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/pfs/scratch4/yellow/.mdt2/dantopa/flag/flag-arm-capulin.spack/var/spack/stage/openmpi-4.0.1-raqxkucpjgqncoszcjqjzvtmqidamatp/spack-src/configure' '--prefix=/pfs/scratch4/yellow/.mdt2/dantopa/flag/flag-arm-capulin.spack/opt/spack/cray-cnl7-arm_thunderx2/cce-9.0.1/openmpi-4.0.1-raqxkucpjgqncoszcjqjzvtmqidamatp' '--enable-shared' '--with-wrapper-ldflags=' '--enable-static' '--without-pmi' '--enable-mpi-cxx' '--with-zlib=/pfs/scratch4/yellow/.mdt2/dantopa/flag/flag-arm-capulin.spack/opt/spack/cray-cnl7-arm_thunderx2/cce-9.0.1/zlib-1.2.11-krc7ibsc2n43zz6xqewf4nl46yzdonia' '--enable-mpi1-compatibility' '--without-psm' '--without-libfabric' '--without-ucx' '--without-mxm' '--without-verbs' '--without-psm2' '--without-alps' '--without-lsf' '--without-sge' '--without-slurm' '--without-tm' '--without-loadleveler' '--disable-memchecker' '--with-hwloc=/pfs/scratch4/yellow/.mdt2/dantopa/flag/flag-arm-capulin.spack/opt/spack/cray-cnl7-arm_thunderx2/cce-9.0.1/hwloc-1.11.11-4gwmnbx3o4hrgx72ktp4av5cxxudemkv' '--disable-java' '--disable-mpi-java' '--without-cuda' '--enable-cxx-exceptions'\r\n\r\n1 error found in build log:\r\n     419    * execute.  Note that this is likely not a problem with Open MPI,\r\n     420    * but a problem with the local compiler installation.  More\r\n     421    * information (including exactly what command was given to the\r\n     422    * compiler and what error resulted when the command was executed) is\r\n     423    * available in the config.log file in the Open MPI build directory.\r\n     424    **********************************************************************\r\n  >> 425    configure: error: Could not run a simple Fortran program.  Aborting.\r\n\r\nSee build log for details:\r\n  /pfs/scratch4/yellow/.mdt2/dantopa/flag/flag-arm-capulin.spack/var/spack/stage/openmpi-4.0.1-raqxkucpjgqncoszcjqjzvtmqidamatp/spack-build-out.txt\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n$ uname -a \r\nLinux nid00003 4.12.14-25.22_5.0.70-cray_ari_c #1 SMP Tue Mar 5 00:08:48 UTC 2019 (bc16c54) aarch64 aarch64 aarch64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:\tSUSE Linux Enterprise Server 15\r\n``` \r\n\r\n**Compiler specifications:**\r\n```\r\n- compiler:\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    implicit_rpaths: []\r\n    modules:\r\n    - PrgEnv-cray\r\n    - cce/9.0.1\r\n    operating_system: cnl7\r\n    paths:\r\n      cc: cc\r\n      cxx: CC\r\n      f77: ftn\r\n      fc: ftn\r\n    spec: cce@9.0.1\r\n    target: any\r\n- compiler:\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    implicit_rpaths: []\r\n    modules:\r\n    - PrgEnv-allinea\r\n    - allinea/19.2.0.0\r\n    operating_system: cnl7\r\n    paths:\r\n      cc: cc\r\n      cxx: CC\r\n      f77: ftn\r\n      fc: ftn\r\n    spec: arm@19.2\r\n```\r\n[openmpi-spack-build.out.txt](https://github.com/spack/spack/files/3581461/openmpi-spack-build.out.txt)\r\n[compilers.yaml.txt](https://github.com/spack/spack/files/3581463/compilers.yaml.txt)\r\n[packages.yaml.txt](https://github.com/spack/spack/files/3581464/packages.yaml.txt)\r\n[parsed-config.log.txt](https://github.com/spack/spack/files/3581501/parsed-config.log.txt)\r\n[openmpi-config.log](https://github.com/spack/spack/files/3581459/openmpi-config.log)\r\n[spack-compilers.txt](https://github.com/spack/spack/files/3581460/spack-compilers.txt)\r\n\r\n### Additional information\r\n\r\n#### Verify Fortran compilers\r\n**Cray cce/9.0.1: PASS**\r\n```\r\n$ ftn --version\r\nCray Fortran : Version 9.0.1\r\n```\r\n```console\r\n$ rm compiler-check.out; ftn compiler-check.f08 -o compiler-check.out\r\n$ ./compiler-check.out \r\ncompiler version: Cray Fortran : Version 9.0.1\r\ncompiler options: -h scalar2,vector2,unroll2,fusion2,cache2,noaggress -h ipa3,mpi0,pattern,modinline -h fp2=approx,flex_mp=default,alias=default:standard_restrict -h fma -h autoprefetch,noconcurrent,nooverindex,shortcircuit2 -h noadd_paren,nozeroinc,noheap_allocate -h align_arrays,nocontiguous,nocontiguous_assumed_shape -h thread2,nothread_do_concurrent,noautothread,safe_addr -h noomp,caf,noacc -h nofunc_trace,noomp_analyze,noomp_trace,nopat_trace -h nobounds -h nomsgs,nonegmsgs,novector_classic -h dynamic (or -dynamic) -h cpu=arm64,arm-thunderx2,network=aries -h nofp_trap -K trap=none -s default32 -d 0abcdefgijnopvxzBDEFGINPQRSTZ (default) -e hmqwACKX (default)       \r\n STOP Successful run for \"compiler_check.f08\".\r\n STOP\r\n```\r\n\r\n**Allinea arm/19.2: FAIL**\r\n```\r\n$ ftn --version\r\nArm C/C++/Fortran Compiler version 19.2 (build number 155) (based on LLVM 7.1.0)\r\nTarget: aarch64--linux-gnu\r\nThread model: posix\r\nInstalledDir: /opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin\r\n```\r\n```$ ftn compiler-check.f08 -v -o compiler-check.out\r\nArm C/C++/Fortran Compiler version 19.2 (build number 155) (based on LLVM 7.1.0)\r\nTarget: aarch64--linux-gnu\r\nThread model: posix\r\nInstalledDir: /opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin\r\nFound candidate GCC installation: /opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0\r\nFound candidate GCC installation: /usr/lib64/gcc/aarch64-suse-linux/7\r\nSelected GCC installation: /opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0\r\nCandidate multilib: .;@m64\r\nSelected multilib: .;@m64\r\n \"/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin/flang1\" compiler-check.f08 -opt 0 -terse 1 -inform warn -nohpf -nostatic -inform inform -y 54 8 -y 129 2 -x 19 0x400000 -quad -x 68 0x1 -x 59 4 -x 15 2 -x 49 0x400004 -x 51 0x20 -x 57 0x4c -x 58 0x10000 -x 124 0x1000 -tp px -x 57 0xfb0000 -x 58 0x78031040 -x 47 0x08 -x 48 4608 -x 49 0x100 -stdinc /opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin/../include:/usr/local/include:/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib/clang/7.1.0/include:/include:/usr/include -def unix -def __unix -def __unix__ -def linux -def __linux -def __linux__ -def __NO_MATH_INLINES -def __LP64__ -def __aarch64 -def __aarch64__ -def __ARM_ARCH=8 -def __ARM_ARCH__=8 -def __LONG_MAX__=9223372036854775807L -def __SIZE_TYPE__=unsigned long int -def __PTRDIFF_TYPE__=long int -def __THROW= -def __extension__= -def __PGLLVM__ -freeform -idir /usr/include -idir /opt/cray/pe/libsci/19.06.1/ALLINEA/18.2/aarch64/include -idir /opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/include -idir /opt/cray/rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari/include -idir /opt/cray/pe/pmi/5.0.14/include -idir /opt/cray/xpmem/2.2.17-7.0.0.1_3.24__g7acee3a.ari/include -idir /opt/cray/gni-headers/5.0.12.0-7.0.0.1_7.39__g3b1768f.ari/include -idir /opt/cray/ugni/6.0.14.0-7.0.0.1_7.26__ge78e5b0.ari/include -idir /opt/cray/udreg/2.3.2-7.0.0.1_4.24__g8175d3d.ari/include -idir /opt/cray/alps/6.6.50-7.0.0.1_3.38__g962f7108.ari/include -idir /opt/cray/wlm_detect/1.3.3-7.0.0.1_3.20__g7109084.ari/include -idir /opt/cray/alps/6.6.50-7.0.0.1_3.38__g962f7108.ari/include -idir /opt/cray/krca/2.2.5-7.0.0.1_4.37__g92086a7.ari/include -idir /opt/cray-hss-devel/9.0.0/include -def __CRAYXC -def __CRAY_ARM_THUNDERX2 -def __CRAY_AARCH64 -def __CRAYXT_COMPUTE_LINUX_TARGET -vect 48 -x 54 1 -x 70 0x40000000 -y 163 0xc0000000 -x 189 0x10 -stbfile compiler-check-bf12c9.stb -modexport compiler-check-bf12c9.cmod -modindex compiler-check-bf12c9.cmdx -output compiler-check-bf12c9.ilm -cmdline flang -mcpu=thunderx2t99 -D __CRAYXC -D __CRAY_ARM_THUNDERX2 -D __CRAY_AARCH64 -D __CRAYXT_COMPUTE_LINUX_TARGET -v -o compiler-check.out -Wl,-rpath=/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib -Wl,-rpath=/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib -Wl,-rpath=/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib64 -I /usr/include -I /opt/cray/pe/libsci/19.06.1/ALLINEA/18.2/aarch64/include -I /opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/include -I /opt/cray/rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari/include -I /opt/cray/pe/pmi/5.0.14/include -I /opt/cray/xpmem/2.2.17-7.0.0.1_3.24__g7acee3a.ari/include -I /opt/cray/gni-headers/5.0.12.0-7.0.0.1_7.39__g3b1768f.ari/include -I /opt/cray/ugni/6.0.14.0-7.0.0.1_7.26__ge78e5b0.ari/include -I /opt/cray/udreg/2.3.2-7.0.0.1_4.24__g8175d3d.ari/include -I /opt/cray/alps/6.6.50-7.0.0.1_3.38__g962f7108.ari/include -I /opt/cray/wlm_detect/1.3.3-7.0.0.1_3.20__g7109084.ari/include -I /opt/cray/alps/6.6.50-7.0.0.1_3.38__g962f7108.ari/include -I /opt/cray/krca/2.2.5-7.0.0.1_4.37__g92086a7.ari/include -I /opt/cray-hss-devel/9.0.0/include -L/opt/cray/pe/libsci/19.06.1/ALLINEA/18.2/aarch64/lib -L/opt/cray/dmapp/default/lib64 -L/opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/lib -L/opt/cray/dmapp/default/lib64 -L/opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/lib -L/opt/cray/rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari/lib64 -L/opt/cray/pe/atp/2.1.3/libApp -Wl,--no-as-needed,-lAtpSigHandler,-lAtpSigHCommData -Wl,--undefined=_ATP_Data_Globals -Wl,--undefined=__atpHandlerInstall -L/usr/lib64 -L/lib64 -Wl,-rpath=/usr/lib64 -Wl,-rpath=/lib64 -lrca -Wl,--as-needed,-lsci_allinea_mpi,--no-as-needed -Wl,--as-needed,-lsci_allinea,--no-as-needed -Wl,--as-needed,-lmpich_allinea,--no-as-needed -Wl,--as-needed,-lmpichf90_allinea,--no-as-needed\r\n \"/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin/flang2\" compiler-check-bf12c9.ilm -y 129 2 -x 171 0x40000000 -x 178 1 -x 6 0x100 -x 42 0x400000 -y 129 4 -x 129 0x400 -y 216 1 -ieee 1 -fn compiler-check.f08 -opt 0 -terse 1 -inform warn -inform inform -y 54 8 -y 129 2 -x 68 0x1 -x 51 0x20 -x 119 0xa10000 -x 122 0x40 -x 123 0x1000 -x 127 4 -x 127 17 -x 19 0x400000 -x 28 0x40000 -x 120 0x10000000 -x 70 0x8000 -x 122 1 -x 125 0x20000 -x 164 0x800000 -quad -x 59 4 -tp px -x 124 0x1400 -y 15 2 -x 57 0x3b0000 -x 58 0x48000000 -x 49 0x100 -astype 0 -x 183 4 -x 121 0x800 -x 54 0x10 -x 70 0x40000000 -x 249 70 -x 124 1 -y 163 0xc0000000 -x 189 0x10 -y 189 0x4000000 -target_features +neon,+v8.1a,+fp-armv8,+neon,+crc,+crypto,+lse,+rdm -x 183 0x10 -stbfile compiler-check-bf12c9.stb -asm /tmp/compiler-check-bf12c9.ll -cmdline flang -mcpu=thunderx2t99 -D __CRAYXC -D __CRAY_ARM_THUNDERX2 -D __CRAY_AARCH64 -D __CRAYXT_COMPUTE_LINUX_TARGET -v -o compiler-check.out -Wl,-rpath=/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib -Wl,-rpath=/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib -Wl,-rpath=/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib64 -I /usr/include -I /opt/cray/pe/libsci/19.06.1/ALLINEA/18.2/aarch64/include -I /opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/include -I /opt/cray/rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari/include -I /opt/cray/pe/pmi/5.0.14/include -I /opt/cray/xpmem/2.2.17-7.0.0.1_3.24__g7acee3a.ari/include -I /opt/cray/gni-headers/5.0.12.0-7.0.0.1_7.39__g3b1768f.ari/include -I /opt/cray/ugni/6.0.14.0-7.0.0.1_7.26__ge78e5b0.ari/include -I /opt/cray/udreg/2.3.2-7.0.0.1_4.24__g8175d3d.ari/include -I /opt/cray/alps/6.6.50-7.0.0.1_3.38__g962f7108.ari/include -I /opt/cray/wlm_detect/1.3.3-7.0.0.1_3.20__g7109084.ari/include -I /opt/cray/alps/6.6.50-7.0.0.1_3.38__g962f7108.ari/include -I /opt/cray/krca/2.2.5-7.0.0.1_4.37__g92086a7.ari/include -I /opt/cray-hss-devel/9.0.0/include -L/opt/cray/pe/libsci/19.06.1/ALLINEA/18.2/aarch64/lib -L/opt/cray/dmapp/default/lib64 -L/opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/lib -L/opt/cray/dmapp/default/lib64 -L/opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/lib -L/opt/cray/rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari/lib64 -L/opt/cray/pe/atp/2.1.3/libApp -Wl,--no-as-needed,-lAtpSigHandler,-lAtpSigHCommData -Wl,--undefined=_ATP_Data_Globals -Wl,--undefined=__atpHandlerInstall -L/usr/lib64 -L/lib64 -Wl,-rpath=/usr/lib64 -Wl,-rpath=/lib64 -lrca -Wl,--as-needed,-lsci_allinea_mpi,--no-as-needed -Wl,--as-needed,-lsci_allinea,--no-as-needed -Wl,--as-needed,-lmpich_allinea,--no-as-needed -Wl,--as-needed,-lmpichf90_allinea,--no-as-needed\r\n \"/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin/clang-7\" -cc1 -triple aarch64--linux-gnu -emit-obj -mrelax-all -disable-free -disable-llvm-verifier -discard-value-names -main-file-name compiler-check.f08 -mrelocation-model static -mthread-model posix -mdisable-fp-elim -fmath-errno -masm-verbose -mconstructor-aliases -munwind-tables -fuse-init-array -target-cpu thunderx2t99 -target-feature +v8.1a -target-feature +fp-armv8 -target-feature +neon -target-feature +crc -target-feature +crypto -target-feature +lse -target-feature +rdm -target-abi aapcs -fallow-half-arguments-and-returns -dwarf-column-info -debugger-tuning=gdb -v -resource-dir /opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib/clang/7.1.0 -fdebug-compilation-dir /lustre/scratch4/dantopa/flag/flag-arm-capulin.spack/topa -ferror-limit 19 -fmessage-length 198 -fveclib=PGMATH -fno-signed-char -fobjc-runtime=gcc -fdiagnostics-show-option -fcolor-diagnostics -fno-show-column -o /tmp/compiler-check-35d906.o -x ir /tmp/compiler-check-bf12c9.ll -faddrsig\r\nclang -cc1 version 7.1.0 based upon LLVM 7.1.0\r\nArm C/C++/Fortran Compiler version 19.2 default target aarch64-linux-gnu\r\n \"/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/../../../../aarch64-linux-gnu/bin/ld\" --eh-frame-hdr -m aarch64linux -dynamic-linker /lib/ld-linux-aarch64.so.1 -o compiler-check.out /usr/lib/../lib64/crt1.o /usr/lib/../lib64/crti.o /opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/crtbegin.o -L/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib64 -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib -L/opt/cray/pe/libsci/19.06.1/ALLINEA/18.2/aarch64/lib -L/opt/cray/dmapp/default/lib64 -L/opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/lib -L/opt/cray/dmapp/default/lib64 -L/opt/cray/pe/mpt/7.7.9/gni/mpich-allinea/18.2/lib -L/opt/cray/rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari/lib64 -L/opt/cray/pe/atp/2.1.3/libApp -L/usr/lib64 -L/lib64 -L/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin/../lib/ -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0 -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/../../../../aarch64-linux-gnu/lib -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/../../.. -L/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/llvm-bin/../lib -L/lib -L/usr/lib /tmp/compiler-check-35d906.o -lflangmain -rpath=/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib -rpath=/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib -rpath=/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib64 --no-as-needed -lAtpSigHandler -lAtpSigHCommData --undefined=_ATP_Data_Globals --undefined=__atpHandlerInstall -rpath=/usr/lib64 -rpath=/lib64 -lrca --as-needed -lsci_allinea_mpi --no-as-needed --as-needed -lsci_allinea --no-as-needed --as-needed -lmpich_allinea --no-as-needed --as-needed -lmpichf90_allinea --no-as-needed -L/opt/allinea/19.2.0.0/opt/arm/arm-hpc-compiler-19.2_Generic-AArch64_SUSE-12_aarch64-linux/lib -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib64 -L/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib -larmflang -lomp_with_lse -lamath_thunderx2t99 -lm -lrt -lpthread -lm -lgcc --as-needed -lgcc_s --no-as-needed -lc -lgcc --as-needed -lgcc_s --no-as-needed /opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/crtend.o /usr/lib/../lib64/crtn.o\r\n/opt/allinea/19.2.0.0/opt/arm/gcc-8.2.0_Generic-AArch64_SUSE-12_aarch64-linux/lib/gcc/aarch64-linux-gnu/8.2.0/../../../../aarch64-linux-gnu/bin/ld: cannot find -lamath_thunderx2t99\r\nclang-7: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```\r\n\r\n**module list**\r\n```\r\nCurrently Loaded Modulefiles:\r\n  1) modules/3.2.11.2                                    9) nodehealth/5.6.15-7.0.0.1_4.39__g3727db8.ari       17) pmi/5.0.14\r\n  2) pdsh/2.27-7.0.0.1_5.15__g70b69a8.ari               10) system-config/3.5.2966-7.0.0.1_7.2__g942c9818.ari  18) atp/2.1.3\r\n  3) udreg/2.3.2-7.0.0.1_4.24__g8175d3d.ari             11) slurm/19.05.1-debug                                19) rca/2.2.20-7.0.0.1_4.39__g8e3fb5b.ari\r\n  4) ugni/6.0.14.0-7.0.0.1_7.26__ge78e5b0.ari           12) Base-opts/2.4.139-7.0.0.1_4.23__gbb799dd.ari       20) perftools-base/7.1.0\r\n  5) gni-headers/5.0.12.0-7.0.0.1_7.39__g3b1768f.ari    13) cce/9.0.1                                          21) PrgEnv-cray/6.0.5\r\n  6) dmapp/7.1.1-7.0.0.1_5.21__g25e5077.ari             14) craype-network-aries                               22) cray-mpich/7.7.9\r\n  7) xpmem/2.2.17-7.0.0.1_3.24__g7acee3a.ari            15) craype/2.6.0                                       23) craype-arm-thunderx2\r\n  8) llm/21.4.572-7.0.0.1_6.8__gf222b87.ari             16) cray-libsci/19.06.1\r\n```\r\n\r\n**Diagnostic rebuild:**\r\n```console\r\n$ spack -d install -j 1 openmpi % cce@9.0.1\r\n...\r\n```\r\n[spack-d-install-j-1-openmpi%cce@9.0.1.txt](https://github.com/spack/spack/files/3581532/spack-d-install-j-1-openmpi.cce%409.0.1.txt)\r\n[spack-cc-openmpi-raqxkuc.in.log](https://github.com/spack/spack/files/3581533/spack-cc-openmpi-raqxkuc.in.log)\r\n[spack-cc-openmpi-raqxkuc.out.log](https://github.com/spack/spack/files/3581534/spack-cc-openmpi-raqxkuc.out.log)\r\n",
    "performed_via_github_app": null
}