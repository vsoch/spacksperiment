{
    "url": "https://api.github.com/repos/spack/spack/issues/16936",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16936/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16936/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16936/events",
    "html_url": "https://github.com/spack/spack/issues/16936",
    "id": 630159319,
    "node_id": "MDU6SXNzdWU2MzAxNTkzMTk=",
    "number": 16936,
    "title": "Installation issue: meep",
    "user": {
        "login": "huqy",
        "id": 5659893,
        "node_id": "MDQ6VXNlcjU2NTk4OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5659893?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/huqy",
        "html_url": "https://github.com/huqy",
        "followers_url": "https://api.github.com/users/huqy/followers",
        "following_url": "https://api.github.com/users/huqy/following{/other_user}",
        "gists_url": "https://api.github.com/users/huqy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/huqy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/huqy/subscriptions",
        "organizations_url": "https://api.github.com/users/huqy/orgs",
        "repos_url": "https://api.github.com/users/huqy/repos",
        "events_url": "https://api.github.com/users/huqy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/huqy/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-06-03T16:51:14Z",
    "updated_at": "2020-06-03T16:51:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi I am unable to install meep through spack by getting the error below. It can be reproduced by running a container from the spack's docker image `spack/centos7:latest`. Please advise. Thanks.\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n[centos] ~: spack install meep\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/gsl-2.5-glr7krli4li4oi7gzwrgafxsgeqdqpqj\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libatomic-ops-7.6.6-aaa32v65nin44ticonytvxbqwwsxnh4s\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libiconv-1.16-qazxaa4lnd2ukd44fjzdhayyxvcg3wyu\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/pkgconf-1.6.3-2qrpgpdjr5kso7gjbkq2xntoljyuldwd\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/xz-5.2.5-rcyjfkv7lwnibnpah22vdo35fvycag4o\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/zlib-1.2.11-pkmj6e72vggig3epxjcwxgzmxncaqnmp\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libsigsegv-2.12-ymriiurzbqgc5sty6h7zsbys2p2miwh3\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libffi-3.3-2zxlme5gqhe56lykdumo6pnuk627xmsy\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/openblas-0.3.9-ynzalxqedw2ky4au5ab2cpq2v2joqbot\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/util-macros-1.19.1-wmglf72gmndo3euipggm6rncy744en2m\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/bdw-gc-8.0.0-7ea4ouavgt3gm35ypvv5g5t6on3nchnu\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/diffutils-3.7-jknorwe54bgplxnyom6sgwnbkong3jww\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/tar-1.32-v3iynan2575fichxxpjh4aqvs7pkle5c\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libunistring-0.9.10-o2r2guvz2ys5irc5cuby4u5onzy6vbdl\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/ncurses-6.2-tbpd5z45tamug3s3u3utt3rhay77lduh\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libxml2-2.9.10-3foymu42tqna2po3m3oi65bgulxxpunq\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/m4-1.4.18-7x2wh2thcpfjgeqxf4vhrqw3suxldfab\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/harminv-1.4-n3adprtja37tz6kibv5i5j4wpd4usogv\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/bzip2-1.0.8-ersrl36bb43nnkjwe4t4gdur5jnwlzye\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/readline-8.0-3jeiguwntbums72jmkcfbzplsstwa5rn\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libtool-2.4.6-fzl2npjphl7uxgvt5k2bpegqsbmlj7pc\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/gettext-0.20.2-kapb6qjzmekccfuovpj2elbyfh2yovx5\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/gdbm-1.18.1-7xh2soiwyepqubqwwhmtlrarqzz2kdna\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libpciaccess-0.13.5-7dqpxasta4nojspfwcobu7gibqnyrq5f\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/perl-5.30.2-uay4u7vmgddt7dlwcu5ymn7a4m5ydhlt\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/autoconf-2.69-6k6kik7nq5wxeply2fdsqyv34rmsxhe5\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/automake-1.16.2-ipyg4haxqgw3dvq7ti5ycsre752wljya\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/gmp-6.1.2-zn55wh7voutcbk46jzwgfyjfincjyuhh\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/numactl-2.0.12-5pz4h3prscq4uoxja3ef5zib322wnqqo\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/guile-2.2.6-r2o7sn7qfrterqqh3zji5x3fow7tbd7m\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/hwloc-1.11.11-3v4f56plwdi55ktsnhlnpbdmabbwvcfb\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/libctl-3.2.2-k4fzre5kscd4hro33ntvwpabch35rwxs\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/openmpi-3.1.6-g66vm2br5owrccusmabiuhdhzoaaxb4m\r\n[+] /opt/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/hdf5-1.10.6-utbirqmawzdto55lnxdhdr7etxm5buhs\r\n==> 9728: Installing meep\r\n==> Using cached archive: /opt/spack/var/spack/cache/_source-cache/archive/56/564c1ff1b413a3487cf81048a45deabfdac4243a1a37ce743f4fcf0c055fd438.tar.gz\r\n==> Staging archive: /tmp/root/spack-stage/spack-stage-meep-1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/meep-1.3.tar.gz\r\n==> Created stage in /tmp/root/spack-stage/spack-stage-meep-1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt\r\n==> No patches needed for meep\r\n==> 9728: meep: Building meep [AutotoolsPackage]\r\n==> 9728: meep: Executing phase: 'autoreconf'\r\n==> 9728: meep: Executing phase: 'configure'\r\n==> 9728: meep: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j4'\r\n\r\n6 errors found in build log:\r\n     273    structure.cpp:1511:51: warning: deprecated conversion from string c\r\n            onstant to 'char*' [-Wwrite-strings]\r\n     274       number no_size = 2.0 / ctl_get_number(\"infinity\");\r\n     275                                                       ^\r\n     276      CXX      main.o\r\n     277      CXX      geom.o\r\n     278    meep_wrap.cxx: In function 'int SwigVector3_Check(SCM)':\r\n  >> 279    meep_wrap.cxx:1384:23: error: 'SCM_VECTORP' was not declared in thi\r\n            s scope\r\n     280       return SCM_VECTORP(o) && SCM_VECTOR_LENGTH(o) == 3;\r\n     281                           ^\r\n  >> 282    meep_wrap.cxx:1384:47: error: 'SCM_VECTOR_LENGTH' was not declared \r\n            in this scope\r\n     283       return SCM_VECTORP(o) && SCM_VECTOR_LENGTH(o) == 3;\r\n     284                                                   ^\r\n     285    main.cpp: In function 'void main_entry(void*, int, char**)':\r\n     286    main.cpp:223:22: warning: deprecated conversion from string constan\r\n            t to 'char*' [-Wwrite-strings]\r\n     287       ctl_include(CTL_SCM);\r\n     288                          ^\r\n\r\n     ...\r\n\r\n     716    ctl-io.cpp:1496:36: warning: deprecated conversion from string cons\r\n            tant to 'char*' [-Wwrite-strings]\r\n     717     list lo_t = ctl_get_list(\"geometry\");\r\n     718                                        ^\r\n     719    ctl-io.cpp:1504:58: warning: deprecated conversion from string cons\r\n            tant to 'char*' [-Wwrite-strings]\r\n     720     ensure_periodicity = ctl_get_boolean(\"ensure-periodicity\");\r\n     721                                                              ^\r\n  >> 722    make[3]: *** [meep_wrap.o] Error 1\r\n     723    make[3]: *** Waiting for unfinished jobs....\r\n     724    make[3]: Leaving directory `/tmp/root/spack-stage/spack-stage-meep-\r\n            1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-src/libctl'\r\n  >> 725    make[2]: *** [all] Error 2\r\n     726    make[2]: Leaving directory `/tmp/root/spack-stage/spack-stage-meep-\r\n            1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-src/libctl'\r\n  >> 727    make[1]: *** [all-recursive] Error 1\r\n     728    make[1]: Leaving directory `/tmp/root/spack-stage/spack-stage-meep-\r\n            1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-src'\r\n  >> 729    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-meep-1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-build-out.txt\r\n\r\n==> Error: Failed to install meep due to ChildError: ProcessError: Command exited with status 2:\r\n    'make' '-j4'\r\n6 errors found in build log:\r\n     273    structure.cpp:1511:51: warning: deprecated conversion from string c\r\n            onstant to 'char*' [-Wwrite-strings]\r\n     274       number no_size = 2.0 / ctl_get_number(\"infinity\");\r\n     275                                                       ^\r\n     276      CXX      main.o\r\n     277      CXX      geom.o\r\n     278    meep_wrap.cxx: In function 'int SwigVector3_Check(SCM)':\r\n  >> 279    meep_wrap.cxx:1384:23: error: 'SCM_VECTORP' was not declared in thi\r\n            s scope\r\n     280       return SCM_VECTORP(o) && SCM_VECTOR_LENGTH(o) == 3;\r\n     281                           ^\r\n  >> 282    meep_wrap.cxx:1384:47: error: 'SCM_VECTOR_LENGTH' was not declared \r\n            in this scope\r\n     283       return SCM_VECTORP(o) && SCM_VECTOR_LENGTH(o) == 3;\r\n     284                                                   ^\r\n     285    main.cpp: In function 'void main_entry(void*, int, char**)':\r\n     286    main.cpp:223:22: warning: deprecated conversion from string constan\r\n            t to 'char*' [-Wwrite-strings]\r\n     287       ctl_include(CTL_SCM);\r\n     288                          ^\r\n\r\n     ...\r\n\r\n     716    ctl-io.cpp:1496:36: warning: deprecated conversion from string cons\r\n            tant to 'char*' [-Wwrite-strings]\r\n     717     list lo_t = ctl_get_list(\"geometry\");\r\n     718                                        ^\r\n     719    ctl-io.cpp:1504:58: warning: deprecated conversion from string cons\r\n            tant to 'char*' [-Wwrite-strings]\r\n     720     ensure_periodicity = ctl_get_boolean(\"ensure-periodicity\");\r\n     721                                                              ^\r\n  >> 722    make[3]: *** [meep_wrap.o] Error 1\r\n     723    make[3]: *** Waiting for unfinished jobs....\r\n     724    make[3]: Leaving directory `/tmp/root/spack-stage/spack-stage-meep-\r\n            1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-src/libctl'\r\n  >> 725    make[2]: *** [all] Error 2\r\n     726    make[2]: Leaving directory `/tmp/root/spack-stage/spack-stage-meep-\r\n            1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-src/libctl'\r\n  >> 727    make[1]: *** [all-recursive] Error 1\r\n     728    make[1]: Leaving directory `/tmp/root/spack-stage/spack-stage-meep-\r\n            1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-src'\r\n  >> 729    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-meep-1.3-3ykmkkur3etuqxxojsf2czss2ubxvszt/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/opt/spack/lib/spack/spack/build_environment.py\", line 813, in child_process\r\n    return_value = function()\r\n  File \"/opt/spack/lib/spack/spack/installer.py\", line 1123, in build_process\r\n    phase(pkg.spec, pkg.prefix)\r\n  File \"/opt/spack/lib/spack/spack/package.py\", line 108, in phase_wrapper\r\n    phase(spec, prefix)\r\n  File \"/opt/spack/lib/spack/spack/build_systems/autotools.py\", line 308, in build\r\n    inspect.getmodule(self).make(*self.build_targets)\r\n  File \"/opt/spack/lib/spack/spack/build_environment.py\", line 131, in __call__\r\n    return super(MakeExecutable, self).__call__(*args, **kwargs)\r\n  File \"/opt/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n    proc.returncode, long_msg)\r\nProcessError: Command exited with status 2:\r\n    'make' '-j4'\r\n```",
    "performed_via_github_app": null
}