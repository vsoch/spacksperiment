{
    "url": "https://api.github.com/repos/spack/spack/issues/4540",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/4540/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/4540/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/4540/events",
    "html_url": "https://github.com/spack/spack/pull/4540",
    "id": 236773242,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTI2MjE5MzY1",
    "number": 4540,
    "title": "Perl - allow package activation without PERL5LIB variable",
    "user": {
        "login": "mjwoods",
        "id": 16091567,
        "node_id": "MDQ6VXNlcjE2MDkxNTY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/16091567?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mjwoods",
        "html_url": "https://github.com/mjwoods",
        "followers_url": "https://api.github.com/users/mjwoods/followers",
        "following_url": "https://api.github.com/users/mjwoods/following{/other_user}",
        "gists_url": "https://api.github.com/users/mjwoods/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mjwoods/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mjwoods/subscriptions",
        "organizations_url": "https://api.github.com/users/mjwoods/orgs",
        "repos_url": "https://api.github.com/users/mjwoods/repos",
        "events_url": "https://api.github.com/users/mjwoods/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mjwoods/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 571584920,
            "node_id": "MDU6TGFiZWw1NzE1ODQ5MjA=",
            "url": "https://api.github.com/repos/spack/spack/labels/perl",
            "name": "perl",
            "color": "fbca04",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2017-06-19T03:47:27Z",
    "updated_at": "2017-07-23T14:41:46Z",
    "closed_at": "2017-07-23T14:41:46Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/4540",
        "html_url": "https://github.com/spack/spack/pull/4540",
        "diff_url": "https://github.com/spack/spack/pull/4540.diff",
        "patch_url": "https://github.com/spack/spack/pull/4540.patch"
    },
    "body": "Issue #4423 describes a problem where perl packages installed by spack are not found by perl after being activated.\r\n\r\nWhen perl packages are installed using `Makefile.PL`, we use the configure option `INSTALL_BASE` as recommended by http://search.cpan.org/~bingos/ExtUtils-MakeMaker-7.30/lib/ExtUtils/MakeMaker.pm. Similarly, for packages installed using `Build.PL`, we use the option `--install_base`. These options provide a consistent and predictable directory structure for all packages.\r\n\r\nWhen perl packages are activated by spack, the result is equivalent to setting `INSTALL_BASE` or `--install_base` to the base directory of the perl installation. But for reasons known only to perl experts, the packages are not installed in a location that perl searches by default.\r\n\r\nAs a workaround, I have modified the configure options used to install perl so that an extra directory is prepended to the package search path. With this change, packages can be used after activation without needing to define `PERL5LIB`.",
    "performed_via_github_app": null
}