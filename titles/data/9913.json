{
    "url": "https://api.github.com/repos/spack/spack/issues/9913",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9913/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9913/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9913/events",
    "html_url": "https://github.com/spack/spack/issues/9913",
    "id": 383204014,
    "node_id": "MDU6SXNzdWUzODMyMDQwMTQ=",
    "number": 9913,
    "title": "Intel MPI 2019.1 doesn't create library links like past versions do",
    "user": {
        "login": "jrood-nrel",
        "id": 23264326,
        "node_id": "MDQ6VXNlcjIzMjY0MzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/23264326?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jrood-nrel",
        "html_url": "https://github.com/jrood-nrel",
        "followers_url": "https://api.github.com/users/jrood-nrel/followers",
        "following_url": "https://api.github.com/users/jrood-nrel/following{/other_user}",
        "gists_url": "https://api.github.com/users/jrood-nrel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jrood-nrel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jrood-nrel/subscriptions",
        "organizations_url": "https://api.github.com/users/jrood-nrel/orgs",
        "repos_url": "https://api.github.com/users/jrood-nrel/repos",
        "events_url": "https://api.github.com/users/jrood-nrel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jrood-nrel/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-11-21T16:40:45Z",
    "updated_at": "2018-11-21T16:49:28Z",
    "closed_at": "2018-11-21T16:49:28Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I installed `intel-mpi@2019.1.144` and I noticed `fftw` was not able to find `libmpi.so`. Looking at an old `intel-mpi@2018.3.222`, I see there are a lot more links that were created and more specifically one that linked `libmpi.so->release_mt/libmpi.so` where the library is actually located. I am not sure if the `install.sh` that Intel provides, is supposed to create the links, or if Spack is supposed to do this itself. I assume the Intel script should. These seems to cause problems with applications trying to find `libmpi`. I am listing both directories for 2018.3 and 2019.1 below:\r\n2018.3:\r\n```\r\n$ cd /my/path/spack/linux-centos7-x86_64/intel-18.0.3/intel-mpi-2018.3.222-vk2py3egp7rfwvzowwnf4agtwot2nbpt/compilers_and_libraries_2018.3.222/linux/mpi/intel64/lib/\r\n$ ls -alh\r\ntotal 12M\r\ndrwxr-sr-x. 6 user group  40K Nov  7 12:45 .\r\ndrwxr-sr-x. 7 user group 2.5K Nov  7 12:45 ..\r\ndrwxr-sr-x. 2 user group 2.5K Nov  7 12:45 debug\r\ndrwxr-sr-x. 2 user group 2.5K Nov  7 12:45 debug_mt\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi.a -> release_mt/libmpi.a\r\n-rw-r--r--. 1 user group 241K Nov  7 12:45 libmpicxx.a\r\nlrwxrwxrwx. 1 user group   15 Nov  7 12:45 libmpicxx.so -> libmpicxx.so.12\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libmpicxx.so.12 -> libmpicxx.so.12.0\r\n-rwxr-xr-x. 1 user group 171K Nov  7 12:45 libmpicxx.so.12.0\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi.dbg -> release_mt/libmpi.dbg\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libmpi_dbg.a -> debug_mt/libmpi.a\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libmpi_dbg_mt.a -> debug_mt/libmpi.a\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_dbg_mt.so -> debug_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_dbg_mt.so.4 -> debug_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_dbg_mt.so.5 -> debug_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_dbg.so -> debug_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_dbg.so.4 -> debug_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_dbg.so.5 -> debug_mt/libmpi.so.12\r\n-rw-r--r--. 1 user group 4.1M Nov  7 12:45 libmpifort.a\r\nlrwxrwxrwx. 1 user group   16 Nov  7 12:45 libmpifort.so -> libmpifort.so.12\r\nlrwxrwxrwx. 1 user group   18 Nov  7 12:45 libmpifort.so.12 -> libmpifort.so.12.0\r\n-rwxr-xr-x. 1 user group 2.7M Nov  7 12:45 libmpifort.so.12.0\r\nlrwxrwxrwx. 1 user group   11 Nov  7 12:45 libmpigc4.a -> libmpicxx.a\r\nlrwxrwxrwx. 1 user group   15 Nov  7 12:45 libmpigc4.so -> libmpicxx.so.12\r\nlrwxrwxrwx. 1 user group   15 Nov  7 12:45 libmpigc4.so.4 -> libmpicxx.so.12\r\nlrwxrwxrwx. 1 user group   15 Nov  7 12:45 libmpigc4.so.5 -> libmpicxx.so.12\r\nlrwxrwxrwx. 1 user group   12 Nov  7 12:45 libmpigf.a -> libmpifort.a\r\nlrwxrwxrwx. 1 user group   16 Nov  7 12:45 libmpigf.so -> libmpifort.so.12\r\nlrwxrwxrwx. 1 user group   16 Nov  7 12:45 libmpigf.so.4 -> libmpifort.so.12\r\nlrwxrwxrwx. 1 user group   16 Nov  7 12:45 libmpigf.so.5 -> libmpifort.so.12\r\n-rw-r--r--. 1 user group 646K Nov  7 12:45 libmpigi.a\r\nlrwxrwxrwx. 1 user group   18 Nov  7 12:45 libmpi_gpfs.so -> libmpi_gpfs.so.5.0\r\n-rwxr-xr-x. 1 user group 324K Nov  7 12:45 libmpi_gpfs.so.5.0\r\n-rw-r--r--. 1 user group 285K Nov  7 12:45 libmpi_ilp64.a\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi_ilp64.so -> libmpi_ilp64.so.4.1\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi_ilp64.so.4 -> libmpi_ilp64.so.4.1\r\n-rwxr-xr-x. 1 user group 283K Nov  7 12:45 libmpi_ilp64.so.4.1\r\nlrwxrwxrwx. 1 user group   15 Nov  7 12:45 libmpijava.so -> libmpijava.so.1\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libmpijava.so.1 -> libmpijava.so.1.0\r\n-rwxr-xr-x. 1 user group  45K Nov  7 12:45 libmpijava.so.1.0\r\nlrwxrwxrwx. 1 user group   20 Nov  7 12:45 libmpi_lustre.so -> libmpi_lustre.so.5.0\r\nlrwxrwxrwx. 1 user group   20 Nov  7 12:45 libmpi_lustre.so.4.0 -> libmpi_lustre.so.5.0\r\nlrwxrwxrwx. 1 user group   20 Nov  7 12:45 libmpi_lustre.so.4.1 -> libmpi_lustre.so.5.0\r\n-rwxr-xr-x. 1 user group 256K Nov  7 12:45 libmpi_lustre.so.5.0\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi_mt.a -> release_mt/libmpi.a\r\nlrwxrwxrwx. 1 user group   21 Nov  7 12:45 libmpi_mt.dbg -> release_mt/libmpi.dbg\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi_mt.so -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi_mt.so.12 -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi_mt.so.4 -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi_mt.so.5 -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi_panfs.so -> libmpi_panfs.so.5.0\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi_panfs.so.4.0 -> libmpi_panfs.so.5.0\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libmpi_panfs.so.4.1 -> libmpi_panfs.so.5.0\r\n-rwxr-xr-x. 1 user group 104K Nov  7 12:45 libmpi_panfs.so.5.0\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi.so -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi.so.12 -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi.so.4 -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   23 Nov  7 12:45 libmpi.so.5 -> release_mt/libmpi.so.12\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libmpitune.so -> libmpitune.so.1.0\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libmpitune.so.1 -> libmpitune.so.1.0\r\n-rwxr-xr-x. 1 user group 2.3M Nov  7 12:45 libmpitune.so.1.0\r\n-rwxr-xr-x. 1 user group 9.9K Nov  7 12:45 libprefork.so\r\nlrwxrwxrwx. 1 user group   17 Nov  7 12:45 libtmip_mx.so -> libtmip_mx.so.1.0\r\n-rwxr-xr-x. 1 user group  16K Nov  7 12:45 libtmip_mx.so.1.0\r\nlrwxrwxrwx. 1 user group   19 Nov  7 12:45 libtmip_psm2.so -> libtmip_psm2.so.1.0\r\n-rwxr-xr-x. 1 user group  18K Nov  7 12:45 libtmip_psm2.so.1.0\r\nlrwxrwxrwx. 1 user group   18 Nov  7 12:45 libtmip_psm.so -> libtmip_psm.so.1.2\r\nlrwxrwxrwx. 1 user group   18 Nov  7 12:45 libtmip_psm.so.1.0 -> libtmip_psm.so.1.2\r\nlrwxrwxrwx. 1 user group   18 Nov  7 12:45 libtmip_psm.so.1.1 -> libtmip_psm.so.1.2\r\n-rwxr-xr-x. 1 user group  17K Nov  7 12:45 libtmip_psm.so.1.2\r\nlrwxrwxrwx. 1 user group   13 Nov  7 12:45 libtmi.so -> libtmi.so.1.2\r\nlrwxrwxrwx. 1 user group   13 Nov  7 12:45 libtmi.so.1.0 -> libtmi.so.1.2\r\nlrwxrwxrwx. 1 user group   13 Nov  7 12:45 libtmi.so.1.1 -> libtmi.so.1.2\r\n-rwxr-xr-x. 1 user group  15K Nov  7 12:45 libtmi.so.1.2\r\nlrwxrwxrwx. 1 user group   14 Nov  7 12:45 libtvmpi.so -> libtvmpi.so.12\r\nlrwxrwxrwx. 1 user group   16 Nov  7 12:45 libtvmpi.so.12 -> libtvmpi.so.12.0\r\n-rwxr-xr-x. 1 user group 412K Nov  7 12:45 libtvmpi.so.12.0\r\nlrwxrwxrwx. 1 user group   14 Nov  7 12:45 libtvmpi.so.4 -> libtvmpi.so.12\r\nlrwxrwxrwx. 1 user group   14 Nov  7 12:45 libtvmpi.so.5 -> libtvmpi.so.12\r\n-rw-r--r--. 1 user group  24K Nov  7 12:45 mpi.jar\r\ndrwxr-sr-x. 2 user group 2.5K Nov  7 12:45 release\r\ndrwxr-sr-x. 2 user group 2.5K Nov  7 12:45 release_mt\r\n```\r\n2019.1:\r\n```\r\n$ pwd\r\n/my/path/spack/opt/spack/linux-centos7-x86_64/intel-19.0.1/intel-mpi-2019.1.144-on7pjaz7zvatdnyxd3salyoxhbukc2zo/compilers_and_libraries_2019.1.144/linux/mpi/intel64/lib\r\n$ ls -alh\r\ntotal 14M\r\ndrwxr-sr-x. 6 user group  12K Nov 21 09:19 .\r\ndrwxr-sr-x. 8 user group 3.0K Nov 20 18:53 ..\r\ndrwxr-sr-x. 2 user group 3.0K Nov 20 18:53 debug\r\ndrwxr-sr-x. 2 user group 3.0K Nov 20 18:53 debug_mt\r\n-rw-r--r--. 1 user group 241K Nov 20 18:53 libmpicxx.a\r\nlrwxrwxrwx. 1 user group   19 Nov 20 18:53 libmpicxx.so -> libmpicxx.so.12.0.0\r\nlrwxrwxrwx. 1 user group   19 Nov 20 18:53 libmpicxx.so.12 -> libmpicxx.so.12.0.0\r\nlrwxrwxrwx. 1 user group   19 Nov 20 18:53 libmpicxx.so.12.0 -> libmpicxx.so.12.0.0\r\n-rwxr-xr-x. 1 user group 171K Nov 20 18:53 libmpicxx.so.12.0.0\r\n-rw-r--r--. 1 user group 8.2M Nov 20 18:53 libmpifort.a\r\nlrwxrwxrwx. 1 user group   20 Nov 20 18:53 libmpifort.so -> libmpifort.so.12.0.0\r\nlrwxrwxrwx. 1 user group   20 Nov 20 18:53 libmpifort.so.12 -> libmpifort.so.12.0.0\r\nlrwxrwxrwx. 1 user group   20 Nov 20 18:53 libmpifort.so.12.0 -> libmpifort.so.12.0.0\r\n-rwxr-xr-x. 1 user group 4.5M Nov 20 18:53 libmpifort.so.12.0.0\r\n-rw-r--r--. 1 user group 314K Nov 20 18:53 libmpi_ilp64.a\r\nlrwxrwxrwx. 1 user group   19 Nov 20 18:53 libmpi_ilp64.so -> libmpi_ilp64.so.4.1\r\nlrwxrwxrwx. 1 user group   19 Nov 20 18:53 libmpi_ilp64.so.4 -> libmpi_ilp64.so.4.1\r\n-rwxr-xr-x. 1 user group 299K Nov 20 18:53 libmpi_ilp64.so.4.1\r\nlrwxrwxrwx. 1 user group   15 Nov 20 18:53 libmpijava.so -> libmpijava.so.1\r\nlrwxrwxrwx. 1 user group   17 Nov 20 18:53 libmpijava.so.1 -> libmpijava.so.1.0\r\n-rwxr-xr-x. 1 user group  43K Nov 20 18:53 libmpijava.so.1.0\r\n-rw-r--r--. 1 user group  24K Nov 20 18:53 mpi.jar\r\ndrwxr-sr-x. 2 user group 3.0K Nov 20 18:53 release\r\ndrwxr-sr-x. 2 user group 3.0K Nov 20 18:53 release_mt\r\n```",
    "performed_via_github_app": null
}