{
    "url": "https://api.github.com/repos/spack/spack/issues/6093",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/6093/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/6093/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/6093/events",
    "html_url": "https://github.com/spack/spack/issues/6093",
    "id": 270498978,
    "node_id": "MDU6SXNzdWUyNzA0OTg5Nzg=",
    "number": 6093,
    "title": "lmod and path lengths advice",
    "user": {
        "login": "svenevs",
        "id": 5871461,
        "node_id": "MDQ6VXNlcjU4NzE0NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5871461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svenevs",
        "html_url": "https://github.com/svenevs",
        "followers_url": "https://api.github.com/users/svenevs/followers",
        "following_url": "https://api.github.com/users/svenevs/following{/other_user}",
        "gists_url": "https://api.github.com/users/svenevs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svenevs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svenevs/subscriptions",
        "organizations_url": "https://api.github.com/users/svenevs/orgs",
        "repos_url": "https://api.github.com/users/svenevs/repos",
        "events_url": "https://api.github.com/users/svenevs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svenevs/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446632829,
            "node_id": "MDU6TGFiZWw0NDY2MzI4Mjk=",
            "url": "https://api.github.com/repos/spack/spack/labels/modules",
            "name": "modules",
            "color": "fef2c0",
            "default": false,
            "description": null
        },
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2017-11-02T00:53:23Z",
    "updated_at": "2019-02-06T14:32:20Z",
    "closed_at": "2019-02-06T12:03:53Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I'm curious as to how other people are actually using `lmod` with `spack`.  Initially I thought to myself \"hey since I've built all this cool stuff and it's tuned to this rig, may as well use it!\"  I made an \"uber-module\" that basically loads in everything possible.  Doing so results in errors such as `man man` -> `MANPATH too long` or worse, silent errors on `PKG_CONFIG_PATH` because the entry shows up at the end.\r\n\r\nI had initially just ignored it since I can live without man pages, or purge if I really need one.  Today I finally realized that the `PKG_CONFIG_PATH` thing is a bigger problem, but ultimately caused by the same thing (too many paths getting prepended by loading in all of these modules).\r\n\r\nClearly loading every single package always may not really be smart.  I'm just curious if there is any high level thoughts on what should be loaded vs what is not necessary.  For example, if I build `opencv+python`, then I'll want to make sure that I load both `opencv` and the `python` that was used to build it.  Eigen as well, and a few others like the image libraries, sure.  But e.g. a full blown `spack module loads -m lmod -r opencv %gcc` brings in way more than I actually need, meaning that if I load all of the dependencies of the core packages I *actually* want, I'll exceed the linux path lengths.\r\n\r\nAny wisdom on how to select which ones should / should not be loaded?",
    "performed_via_github_app": null
}