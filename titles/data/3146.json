{
    "url": "https://api.github.com/repos/spack/spack/issues/3146",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/3146/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/3146/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/3146/events",
    "html_url": "https://github.com/spack/spack/issues/3146",
    "id": 207811273,
    "node_id": "MDU6SXNzdWUyMDc4MTEyNzM=",
    "number": 3146,
    "title": "spack crashing due to fortran and c compilers during OpenMPI installation phase of dealii installation",
    "user": {
        "login": "vinayak-gholap1993",
        "id": 20990087,
        "node_id": "MDQ6VXNlcjIwOTkwMDg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/20990087?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vinayak-gholap1993",
        "html_url": "https://github.com/vinayak-gholap1993",
        "followers_url": "https://api.github.com/users/vinayak-gholap1993/followers",
        "following_url": "https://api.github.com/users/vinayak-gholap1993/following{/other_user}",
        "gists_url": "https://api.github.com/users/vinayak-gholap1993/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vinayak-gholap1993/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vinayak-gholap1993/subscriptions",
        "organizations_url": "https://api.github.com/users/vinayak-gholap1993/orgs",
        "repos_url": "https://api.github.com/users/vinayak-gholap1993/repos",
        "events_url": "https://api.github.com/users/vinayak-gholap1993/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vinayak-gholap1993/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2017-02-15T13:58:46Z",
    "updated_at": "2018-01-25T07:11:46Z",
    "closed_at": "2017-02-16T13:52:52Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hello all,\r\nI am trying to install dealii using spack. In the OpenMPI installation phase I get following error\r\n\r\nspack install dealii@develop\r\n==> Installing dealii\r\n==> bzip2 is already installed in /home/sfb814/spack/opt/spack/linux-ubuntu16-x86_64/gcc-5.4.0/bzip2-1.0.6-icdmmm2m6f26ryoszaqexcqtyasv7a45\r\n==> muparser is already installed in /home/sfb814/spack/opt/spack/linux-ubuntu16-x86_64/gcc-5.4.0/muparser-2.2.5-ckdfrr7gga4hdh4qdqqz7wf7gbt5rdhv\r\n==> cmake is already installed in /home/sfb814/spack/opt/spack/linux-ubuntu16-x86_64/gcc-5.4.0/cmake-3.7.2-mxs4mxboep5yxtkmujke5kybzoreyqlf\r\n==> Installing hdf5\r\n==> zlib is already installed in /home/sfb814/spack/opt/spack/linux-ubuntu16-x86_64/gcc-5.4.0/zlib-1.2.10-mr6fyxqiwefloyjj7oaqoqnedakglzfu\r\n==> Installing openmpi\r\n==> hwloc is already installed in /home/sfb814/spack/opt/spack/linux-ubuntu16-x86_64/gcc-5.4.0/hwloc-1.11.5-wapbsf2untp27ddm2tbnshhto4pzvnce\r\n==> Using cached archive: /home/sfb814/spack/var/spack/cache/openmpi/openmpi-2.0.2.tar.bz2\r\n==> Already staged openmpi-2.0.2-2uaqbv4wzdk2tzbbvzgiukaiz4nger2j in /home/sfb814/spack/var/spack/stage/openmpi-2.0.2-2uaqbv4wzdk2tzbbvzgiukaiz4nger2j\r\n==> Already patched openmpi\r\n==> Building openmpi [AutotoolsPackage]\r\n==> Executing phase : 'autoreconf'\r\n==> Error: InstallError: OpenMPI requires both C and Fortran compilers!\r\n/home/sfb814/spack/var/spack/repos/builtin/packages/openmpi/package.py:157, in die_without_fortran:\r\n     150      @run_before('autoreconf')\r\n     151      def die_without_fortran(self):\r\n     152          # Until we can pass variants such as +fortran through virtual\r\n     153          # dependencies depends_on('mpi'), require Fortran compiler to\r\n     154          # avoid delayed build errors in dependents.\r\n     155          if (self.compiler.f77 is None) or (self.compiler.fc is None):\r\n     156              raise InstallError(\r\n  >> 157                  'OpenMPI requires both C and Fortran compilers!'\r\n     158              )\r\n\r\nSee build log for details:\r\n  /tmp/sfb814/spack-stage/spack-stage-yErYv2/openmpi-2.0.2/spack-build.out\r\n\r\nI checked the list of compilers and have this\r\n\r\ndpkg --list | grep compiler\r\nii  fort77                                      1.15-10                                       all          Invoke f2c like a real compiler\r\nii  g++                                         4:5.3.1-1ubuntu1                              amd64        GNU C++ compiler\r\nii  g++-5                                       5.4.0-6ubuntu1~16.04.4                        amd64        GNU C++ compiler\r\nii  gcc                                         4:5.3.1-1ubuntu1                              amd64        GNU C compiler\r\nii  gcc-5                                       5.4.0-6ubuntu1~16.04.4                        amd64        GNU C compiler\r\nii  gcc-5-multilib                              5.4.0-6ubuntu1~16.04.4                        amd64        GNU C compiler (multilib support)\r\nii  gcc-multilib                                4:5.3.1-1ubuntu1                              amd64        GNU C compiler (multilib files)\r\nii  gfortran                                    4:5.3.1-1ubuntu1                              amd64        GNU Fortran 95 compiler\r\nii  gfortran-5                                  5.4.0-6ubuntu1~16.04.4                        amd64        GNU Fortran compiler\r\nii  hardening-includes                          2.7ubuntu2                                    all          Makefile for enabling compiler flags for security hardening\r\nii  libllvm3.8:amd64                            1:3.8-2ubuntu4                                amd64        Modular compiler and toolchain technologies, runtime library\r\nii  libxkbcommon0:amd64                         0.5.0-1ubuntu2                                amd64        library interface to the XKB compiler - shared library\r\n\r\nCould some one help in this\u0323?",
    "performed_via_github_app": null
}