{
    "url": "https://api.github.com/repos/spack/spack/issues/2100",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2100/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2100/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2100/events",
    "html_url": "https://github.com/spack/spack/issues/2100",
    "id": 184726819,
    "node_id": "MDU6SXNzdWUxODQ3MjY4MTk=",
    "number": 2100,
    "title": "Spack confused by Spack-installed Python3 environment",
    "user": {
        "login": "citibeth",
        "id": 1924215,
        "node_id": "MDQ6VXNlcjE5MjQyMTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1924215?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/citibeth",
        "html_url": "https://github.com/citibeth",
        "followers_url": "https://api.github.com/users/citibeth/followers",
        "following_url": "https://api.github.com/users/citibeth/following{/other_user}",
        "gists_url": "https://api.github.com/users/citibeth/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/citibeth/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/citibeth/subscriptions",
        "organizations_url": "https://api.github.com/users/citibeth/orgs",
        "repos_url": "https://api.github.com/users/citibeth/repos",
        "events_url": "https://api.github.com/users/citibeth/events{/privacy}",
        "received_events_url": "https://api.github.com/users/citibeth/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2016-10-24T00:23:39Z",
    "updated_at": "2017-04-13T18:36:43Z",
    "closed_at": "2017-04-13T18:36:43Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I get the joyous stuff below when trying to run Spack after building (and loading modules for) a buch of Python3 stuff.   The workaround is pretty easy, just clear out your `$PYTHONPATH` before running Spack:\n\n```\nalias spack='PYTHONPATH= spack'\n```\n\nStill... maybe Spack should do this itself upon launch?\n\n```\n$ sh makenv-modele-ks \nTraceback (most recent call last):\n  File \"/home/rpfische/spack3/bin/spack\", line 52, in <module>\n    import nose\n  File \"/gpfsm/dnb53/rpfische/spack3/lib/spack/external/nose/__init__.py\", line 1, in <module>\n    from nose.core import collector, main, run, run_exit, runmodule\n  File \"/gpfsm/dnb53/rpfische/spack3/lib/spack/external/nose/core.py\", line 11, in <module>\n    from nose.config import Config, all_config_files\n  File \"/gpfsm/dnb53/rpfische/spack3/lib/spack/external/nose/config.py\", line 9, in <module>\n    from nose.plugins.manager import NoPlugins\n  File \"/gpfsm/dnb53/rpfische/spack3/lib/spack/external/nose/plugins/__init__.py\", line 185, in <module>\n    from nose.plugins.manager import *\n  File \"/gpfsm/dnb53/rpfische/spack3/lib/spack/external/nose/plugins/manager.py\", line 418, in <module>\n    import pkg_resources\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2953, in <module>\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2939, in _call_aside\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2966, in _initialize_master_working_set\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 626, in _build_master\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 619, in __init__\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 675, in add_entry\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 1983, in find_on_path\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2371, in from_location\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2712, in _reload_version\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2336, in _version_from_file\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 2504, in _get_metadata\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 1874, in get_metadata_lines\n\n  File \"/gpfsm/dnb53/rpfische/spack3/opt/spack/linux-SuSE11-x86_64/gcc-5.3.0/py-setuptools-25.2.0-6we44zujmcs5bdv3jn7lzrr4gahg22sd/lib/python3.5/site-packages/setuptools-25.2.0-py3.5.egg/pkg_resources/__init__.py\", line 1864, in get_metadata\n\n  File \"/usr/lib64/python2.6/io.py\", line 1767, in read\n    decoder.decode(self.buffer.read(), final=True))\n  File \"/usr/lib64/python2.6/io.py\", line 1319, in decode\n    output = self.decoder.decode(input, final=final)\n  File \"/usr/lib64/python2.6/codecs.py\", line 296, in decode\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xe9 in position 174: invalid continuation byte in /usr/lib64/python2.6/site-packages/xmldiff-0.6.8-py2.6.egg-info\n```\n",
    "performed_via_github_app": null
}