{
    "url": "https://api.github.com/repos/spack/spack/issues/8746",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8746/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8746/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8746/events",
    "html_url": "https://github.com/spack/spack/issues/8746",
    "id": 342504228,
    "node_id": "MDU6SXNzdWUzNDI1MDQyMjg=",
    "number": 8746,
    "title": "packages using git information during build fail when cached",
    "user": {
        "login": "trws",
        "id": 660149,
        "node_id": "MDQ6VXNlcjY2MDE0OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/660149?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/trws",
        "html_url": "https://github.com/trws",
        "followers_url": "https://api.github.com/users/trws/followers",
        "following_url": "https://api.github.com/users/trws/following{/other_user}",
        "gists_url": "https://api.github.com/users/trws/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/trws/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/trws/subscriptions",
        "organizations_url": "https://api.github.com/users/trws/orgs",
        "repos_url": "https://api.github.com/users/trws/repos",
        "events_url": "https://api.github.com/users/trws/events{/privacy}",
        "received_events_url": "https://api.github.com/users/trws/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 584430629,
            "node_id": "MDU6TGFiZWw1ODQ0MzA2Mjk=",
            "url": "https://api.github.com/repos/spack/spack/labels/git",
            "name": "git",
            "color": "bfdadc",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-07-18T21:48:37Z",
    "updated_at": "2020-08-29T23:31:27Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "During caching, the `.git` directory is excluded, effectively archiving the package without using git archive for some reason.  The result is that packages that depend on git information to determine their version at configure time, like flux and possibly rose as in #3749, break when cached but not when checked out initially.\r\n\r\n### Expected Result\r\n\r\nThat the cached version will be the same as the non-cached version.\r\n\r\n### Actual Result\r\n\r\nThe `.git` directory is removed.",
    "performed_via_github_app": null
}