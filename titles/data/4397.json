{
    "url": "https://api.github.com/repos/spack/spack/issues/4397",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/4397/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/4397/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/4397/events",
    "html_url": "https://github.com/spack/spack/pull/4397",
    "id": 232338633,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTIzMTEyMDU0",
    "number": 4397,
    "title": "Overhaul CONVERGE installation and concretization",
    "user": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616788,
            "node_id": "MDU6TGFiZWw0NDY2MTY3ODg=",
            "url": "https://api.github.com/repos/spack/spack/labels/new-version",
            "name": "new-version",
            "color": "0e8a16",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2017-05-30T18:19:55Z",
    "updated_at": "2017-06-19T15:18:52Z",
    "closed_at": "2017-06-19T15:18:49Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/4397",
        "html_url": "https://github.com/spack/spack/pull/4397",
        "diff_url": "https://github.com/spack/spack/pull/4397.diff",
        "patch_url": "https://github.com/spack/spack/pull/4397.patch"
    },
    "body": "Alright, there's a lot going on here, so I'll try to break it down:\r\n\r\n### Features\r\n\r\n* Old versions of `openmpi`, `mpich`, and `mvapich2` also provide MPI\r\n* Add several other versions of `converge`\r\n* Fix download URL for `converge`\r\n  * see #2737 for the bug description\r\n* Only install the executables for the MPI library we built with\r\n  * Previously, installed binaries for every MPI library\r\n  * Also adds symlinks to point to specific executable names\r\n* Be more specific about supported MPI libraries and versions\r\n\r\nThe last point is the most important. CONVERGE comes with pre-compiled binaries that link to a specific version of MPI. For example, CONVERGE 2.4 comes with:\r\n```\r\nconverge-2.4.10-intel     -> libmpi.so.12, libmpifort.so.12           \r\nconverge-2.4.10-mpich     -> libmpi.so.12                             \r\nconverge-2.4.10-ompi      -> libmpi.so.12                             \r\nconverge-2.4.10-pmpi      -> libmpi.so.1, libmpio.so.1                \r\nconverge-2.4.10-serial\r\n```\r\n`converge-2.4.10-ompi` will only work if you have OpenMPI 1.10 loaded in your environment. A newer or older version of OpenMPI doesn't work, 1.10 is the only version that builds a `libmpi.so.12` library. By adding specific `depends_on` statements, I was able to get `spack spec` to crash unless the correct OpenMPI version is provided. Unfortunately, `spack spec converge +mpi ^openmpi` crashes now. But that's better than building something that doesn't work.\r\n\r\nThis PR is related to #4358 and #4372. At some point, someone needs to build every version of the other MPI libraries to see what each version of CONVERGE depends on.",
    "performed_via_github_app": null
}