{
    "url": "https://api.github.com/repos/spack/spack/issues/24697",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24697/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24697/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24697/events",
    "html_url": "https://github.com/spack/spack/pull/24697",
    "id": 936547278,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjgzMjQyNTYz",
    "number": 24697,
    "title": "installer: fix double printing of exception",
    "user": {
        "login": "eugeneswalker",
        "id": 38933153,
        "node_id": "MDQ6VXNlcjM4OTMzMTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugeneswalker",
        "html_url": "https://github.com/eugeneswalker",
        "followers_url": "https://api.github.com/users/eugeneswalker/followers",
        "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
        "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
        "repos_url": "https://api.github.com/users/eugeneswalker/repos",
        "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1566617052,
            "node_id": "MDU6TGFiZWwxNTY2NjE3MDUy",
            "url": "https://api.github.com/repos/spack/spack/labels/bugfix",
            "name": "bugfix",
            "color": "c4aaef",
            "default": false,
            "description": ""
        },
        {
            "id": 521903170,
            "node_id": "MDU6TGFiZWw1MjE5MDMxNzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/user-experience",
            "name": "user-experience",
            "color": "bfdadc",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-07-04T21:51:32Z",
    "updated_at": "2021-07-06T06:40:25Z",
    "closed_at": "2021-07-06T06:40:24Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/24697",
        "html_url": "https://github.com/spack/spack/pull/24697",
        "diff_url": "https://github.com/spack/spack/pull/24697.diff",
        "patch_url": "https://github.com/spack/spack/pull/24697.patch"
    },
    "body": "Don't double print exceptions raised during install.\r\n\r\n**Without PR**\r\n```\r\n# No GPG keys trusted\r\n$> spack install --cache-only zlib\r\n==> Installing zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6\r\n==> Fetching file:///Users/walker/go/src/github.com/eugeneswalker/cache-manager/cache-resigner/build_cache/darwin-catalina-cannonlake/apple-clang-11.0.3/zlib-1.2.3/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spack\r\n==> Extracting zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6 from binary cache\r\ngpg: WARNING: unsafe permissions on homedir '/Users/walker/.gnupg'\r\ngpgconf: socketdir is '/Users/walker/.gnupg'\r\ngpgconf: \tno /run/user dir\r\ngpgconf: \tusing homedir as fallback\r\n==> Error: Failed to install zlib due to ProcessError: Command exited with status 2:\r\n    '/usr/local/bin/gpg' '--verify' '/var/folders/9v/y92nf36513l__z5rtnm_g4q00000gn/T/tmpsuvv11uy/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spec.yaml.asc' '/var/folders/9v/y92nf36513l__z5rtnm_g4q00000gn/T/tmpsuvv11uy/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spec.yaml'\r\ngpg: keybox '/Users/walker/spack/opt/spack/gpg/pubring.kbx' created\r\ngpg: Signature made Sun Jul  4 14:20:38 2021 PDT\r\ngpg:                using RSA key 7D344E2992071B0AAAE1EDB0E68DE2A80314303D\r\ngpg: Can't check signature: No public key\r\n\r\n==> Error: Command exited with status 2:\r\n'/usr/local/bin/gpg' '--verify' '/var/folders/9v/y92nf36513l__z5rtnm_g4q00000gn/T/tmpsuvv11uy/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spec.yaml.asc' '/var/folders/9v/y92nf36513l__z5rtnm_g4q00000gn/T/tmpsuvv11uy/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spec.yaml'\r\ngpg: keybox '/Users/walker/spack/opt/spack/gpg/pubring.kbx' created\r\ngpg: Signature made Sun Jul  4 14:20:38 2021 PDT\r\ngpg:                using RSA key 7D344E2992071B0AAAE1EDB0E68DE2A80314303D\r\ngpg: Can't check signature: No public key\r\n```\r\n\r\n**With PR**\r\n```\r\n# No GPG keys trusted\r\n$> spack install --cache-only zlib\r\n==> Installing zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6\r\n==> Extracting zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6 from binary cache\r\ngpg: WARNING: unsafe permissions on homedir '/Users/walker/.gnupg'\r\ngpgconf: socketdir is '/Users/walker/.gnupg'\r\ngpgconf: \tno /run/user dir\r\ngpgconf: \tusing homedir as fallback\r\n==> Error: Failed to install zlib due to ProcessError: Command exited with status 2:\r\n    '/usr/local/bin/gpg' '--verify' '/var/folders/9v/y92nf36513l__z5rtnm_g4q00000gn/T/tmp_e3d9m3x/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spec.yaml.asc' '/var/folders/9v/y92nf36513l__z5rtnm_g4q00000gn/T/tmp_e3d9m3x/darwin-catalina-cannonlake-apple-clang-11.0.3-zlib-1.2.3-ry6cgr4nxbtapbqdhorsy2vl4yvt4sw6.spec.yaml'\r\ngpg: Signature made Sun Jul  4 14:20:38 2021 PDT\r\ngpg:                using RSA key 7D344E2992071B0AAAE1EDB0E68DE2A80314303D\r\ngpg: Can't check signature: No public key\r\n```\r\n\r\n@tldahlgren ",
    "performed_via_github_app": null
}