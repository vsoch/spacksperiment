{
    "url": "https://api.github.com/repos/spack/spack/issues/21905",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21905/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21905/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21905/events",
    "html_url": "https://github.com/spack/spack/issues/21905",
    "id": 815443222,
    "node_id": "MDU6SXNzdWU4MTU0NDMyMjI=",
    "number": 21905,
    "title": "[ctpl] [Compilation failure] The ctpl fails to be installed and compiled in Debian, Ubuntu, and SUSE.",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2021-02-24T12:43:38Z",
    "updated_at": "2021-07-06T09:24:02Z",
    "closed_at": "2021-07-06T09:24:02Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Explain, in a clear and concise way, the command you ran and the result you were trying to achieve.\r\nExample: \"I ran `spack find` to list all the installed packages and ...\" -->\r\nHello,I meet a question about the **ctpl** fails to be installed and compiled in Debian, Ubuntu, and SUSE.\r\n### Steps to reproduce the issue\r\n\r\n```console\r\nsuse:~ # spack install --keep-stage -v ctpl\r\n\u2026\u2026\r\n==> Installing gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw\r\n==> No binary for gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw found: installing from source\r\n==> Using cached archive: /home/spack/var/spack/cache/_source-cache/archive/08/0890c1f00d4817279be51602e67c4805daf264092adc58f9c04338566e8225ba.tar.gz\r\n==> gtk-doc: Executing phase: 'autoreconf'\r\n\u2026\u2026\r\nchecking for dblatex... no\r\nchecking for fop... no\r\nconfigure: WARNING: neither dblatex nor fop found, so no pdf output from xml\r\nchecking for XML catalog... /etc/xml/catalog\r\nchecking for xmlcatalog... /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/libxml2-2.9.10-q53z5tuyykogabuihd3v52mvze3jey7d/bin/xmlcatalog\r\nchecking for DocBook XML DTD V4.3 in XML catalog... not found\r\nconfigure: error: could not find DocBook XML DTD V4.3 in XML catalog\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-src/configure' '--prefix=/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw\r\n\r\n1 error found in build log:\r\n     125    checking for dblatex... no\r\n     126    checking for fop... no\r\n     127    configure: WARNING: neither dblatex nor fop found, so no pdf output from xml\r\n     128    checking for XML catalog... /etc/xml/catalog\r\n     129    checking for xmlcatalog... /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/libxml2-2.9.10-q53z5tuyykogabuihd3v52mvze3jey7d/bin/xmlcatalog\r\n     130    checking for DocBook XML DTD V4.3 in XML catalog... not found\r\n  >> 131    configure: error: could not find DocBook XML DTD V4.3 in XML catalog\r\n\r\nSee build log for details:\r\n  /home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy since gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw failed\r\n\r\n```\r\nTherefore ,the issue is about that the dependency **gtk-doc@1.32** is not be installed.\r\nHere's my solution\uff1a\r\n```console\r\nsuse:~ # spack spec gtk-doc\r\nInput spec\r\n--------------------------------\r\ngtk-doc\r\n\r\nConcretized\r\n--------------------------------\r\ngtk-doc@1.32%gcc@7.4.0 arch=linux-sles15-aarch64\r\n\u2026\u2026\r\n    ^docbook-xsl@1.79.2%gcc@7.4.0 patches=a92c39715c54949ba9369add1809527b8f155b7e2a2b2e30cb4b39ee715f2e30 arch=linux-sles15-aarch64\r\n        ^docbook-xml@4.5%gcc@7.4.0 arch=linux-sles15-aarch64\r\n\u2026\u2026\r\nsuse:/home/spack/var # curl http://ftp5.gwdg.de/pub/opensuse/repositories/GNOME:/Factory/openSUSE_Factory/src/ | grep gtk-doc\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0<a href=\"gtk-doc-1.32-90.4.src.rpm\">gtk-doc-1.32-90.4.src.rpm</a>                          10-Jan-2021 19:07              794669\r\n<a href=\"gtk-doc-manual-1.32-90.4.src.rpm\">gtk-doc-manual-1.32-90.4.src.rpm</a>                   10-Jan-2021 19:16              794448\r\n100 52989    0 52989    0     0  29356      0 --:--:--  0:00:01 --:--:-- 29340\r\nsuse:/home/spack/var # wget http://ftp5.gwdg.de/pub/opensuse/repositories/GNOME:/Factory/openSUSE_Factory/src/gtk-doc-1.32-90.4.src.rpm\r\n--2021-02-23 16:09:51--  http://ftp5.gwdg.de/pub/opensuse/repositories/GNOME:/Factory/openSUSE_Factory/src/gtk-doc-1.32-90.4.src.rpm\r\nConnecting to 172.18.32.221:8080... connected.\r\nProxy request sent, awaiting response... 200 OK\r\nLength: 794669 (776K) [application/x-redhat-package-manager]\r\nSaving to: \u2018gtk-doc-1.32-90.4.src.rpm\u2019\r\n\r\ngtk-doc-1.32-90.4.src.rpm                            100%[====================================================================================================================>] 776.04K  3.24MB/s    in 0.2s\r\n\r\n2021-02-23 16:09:56 (3.24 MB/s) - \u2018gtk-doc-1.32-90.4.src.rpm\u2019 saved [794669/794669]\r\n\r\nsuse:/home/spack/var # rpm -ivh gtk-doc-1.32-90.4.src.rpm\r\nwarning: gtk-doc-1.32-90.4.src.rpm: Header V3 DSA/SHA1 Signature, key ID 629ff0c2: NOKEY\r\nUpdating / installing...\r\n   1:gtk-doc-1.32-90.4                ################################# [100%]\r\nsuse:~ # find / -name \"*.spec\" 2>/dev/null | grep gtk-doc\r\n/usr/src/packages/SPECS/gtk-doc.spec\r\nsuse:~ # cd /usr/src/packages/SPECS/\r\nsuse:/usr/src/packages/SPECS # ls\r\ngtk-doc.spec\r\nsuse:/usr/src/packages/SPECS # vim gtk-doc.spec\r\n\u2026\u2026\r\n%global flavor %{nil}\r\n%if \"%{flavor}\" == \"doc\"\r\n%bcond_without  doc\r\n%define psuffix -manual\r\n%else\r\n%bcond_with     doc\r\n%endif\r\n\r\nName:           gtk-doc%{?psuffix}\r\nVersion:        1.32\r\nRelease:        90.4\r\n%if \"%{flavor}\" == \"\"\r\nSummary:        GTK+ Documentation Generator\r\nLicense:        GPL-2.0-or-later\r\nGroup:          Productivity/Publishing/SGML\r\n%else\r\nSummary:        Manual for Gtkdoc\r\nLicense:        GFDL-1.1-or-later\r\nGroup:          Documentation/HTML\r\n%endif\r\nURL:            http://www.gtk.org/gtk-doc/\r\n# When updating this package, please don't forget to update the gtk-doc.m4 Source in glib2.\r\nSource0:        https://download.gnome.org/sources/gtk-doc/1.32/gtk-doc-%{version}.tar.xz\r\n\r\nBuildRequires:  docbook-xsl-stylesheets\r\nBuildRequires:  libtool\r\nBuildRequires:  libxml2-tools\r\nBuildRequires:  pkgconfig\r\nBuildRequires:  python3-base\r\nBuildRequires:  sgml-skel\r\n%if %{with doc}\r\nBuildRequires:  fdupes\r\nBuildRequires:  yelp-tools\r\n# gtk-doc-manual was split from the main package\r\nProvides:       gtk-doc:%{_datadir}/help/C/gtk-doc-manual/index.docbook\r\nConflicts:      gtk-doc < %{version}-%{release}\r\nConflicts:      gtk-doc-lang < %{version}-%{release}\r\n%else\r\nBuildRequires:  xsltproc\r\nRequires:       docbook-xsl-stylesheets\r\nRequires:       docbook_4\r\nRequires:       glib2-devel\r\nRequires:       libxml2-tools\r\nRequires:       python3-pygments\r\nRequires:       xsltproc\r\nRecommends:     gtk-doc-manual\r\n# Old for <= 10.2 & CODE10\r\nProvides:       gtkdoc = %{version}\r\nObsoletes:      gtkdoc\r\n%endif\r\n\u2026\u2026\r\nsuse:/usr/src/packages/SPECS # rpm -ql sgml-skel\r\n/etc/sgml\r\n/etc/sgml/catalog\r\n/etc/xml\r\n/etc/xml/catalog\r\n/etc/xml/catalog-d.xml\r\n/etc/xml/catalog.d\r\n\u2026\u2026\r\nsuse:~ # cat /etc/xml/catalog\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE catalog PUBLIC \"-//OASIS//DTD Entity Resolution XML Catalog V1.0//EN\" \"http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd\">\r\n<catalog xmlns=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\">\r\n  <nextCatalog catalog=\"catalog-d.xml\"/>\r\n  <nextCatalog catalog=\"suse-catalog.xml\"/>\r\n</catalog>\r\nsuse:~ # vim /etc/xml/\r\ncatalog.d/\r\ncatalog\r\ncatalog-d.xml\r\ncatalog.rpmsave\r\nsuse-catalog.xml\r\nsuse:~ # cd /etc/xml/catalog.d/\r\nsuse:/etc/xml/catalog.d #ls\r\nxmlcharent.xml #No docbook_4.xml and docbook-xsl-stylesheets.xml\r\n```\r\nAs you can see, the following dependencies are required in the source code\uff1a**docbook-xsl-stylesheets\u3001sgml-skel\u3001docbook_4**.The dependency of the three gtk-doc files is necessary.So I want to add them to the package.py of the gtk-doc in spack [in suse system]\r\n```console\r\nsuse:~ # cat /etc/xml/\r\ncat: /etc/xml/: Is a directory\r\nsuse:~ # vim /etc/xml/\r\nsuse:~ # spack list docbook-xsl-stylesheets\r\n==> 0 packages.\r\nsuse:~ # spack list sgml-skel\r\n==> 0 packages.\r\nsuse:~ # spack list docbook_4\r\n==> 0 packages.\r\n```\r\nTherefore,I use the **zypper search** to search them and they all exit in suse system but not the spack. and the sgml-skel (generating the /etc/xml/catalog file), the docbook-xsl-stylesheets (automatically written to the catalog.d/docbook-xsl-stylesheets.xml file in the catalog file),the docbook_4 (Write data into the catalog.d/docbook_4.xml file in the catalog.\r\n```console\r\nsuse:~ # zypper install docbook_4\r\nLoading repository data...\r\nReading installed packages...\r\nResolving package dependencies...\r\n\r\nThe following NEW package is going to be installed:\r\n  docbook_4\r\n\r\nThe following package has no support information from its vendor:\r\n  docbook_4\r\n\r\n1 new package to install.\r\nOverall download size: 255.3 KiB. Already cached: 0 B. After the operation, additional 6.1 MiB will be used.\r\nContinue? [y/n/v/...? shows all options] (y): y\r\nRetrieving package docbook_4-4.5-2.18.noarch                                                                                                                                (1/1), 255.3 KiB (  6.1 MiB unpacked)\r\nRetrieving: docbook_4-4.5-2.18.noarch.rpm .................................................................................................................................................................[done]\r\nChecking for file conflicts: ..............................................................................................................................................................................[done]\r\n(1/1) Installing: docbook_4-4.5-2.18.noarch ...............................................................................................................................................................[done]\r\nsuse:~ # spack install --keep-stage -v gtk-doc\r\n\u2026\u2026\r\nchecking for xmlcatalog... /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/libxml2-2.9.10-q53z5tuyykogabuihd3v52mvze3jey7d/bin/xmlcatalog\r\nchecking for DocBook XML DTD V4.3 in XML catalog... found\r\nchecking for DocBook XSL Stylesheets in XML catalog... not found\r\nconfigure: error: could not find DocBook XSL Stylesheets in XML catalog\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-src/configure' '--prefix=/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw'\r\n\r\n1 error found in build log:\r\n     126    checking for fop... no\r\n     127    configure: WARNING: neither dblatex nor fop found, so no pdf output from xml\r\n     128    checking for XML catalog... /etc/xml/catalog\r\n     129    checking for xmlcatalog... /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/libxml2-2.9.10-q53z5tuyykogabuihd3v52mvze3jey7d/bin/xmlcatalog\r\n     130    checking for DocBook XML DTD V4.3 in XML catalog... found\r\n     131    checking for DocBook XSL Stylesheets in XML catalog... not found\r\n  >> 132    configure: error: could not find DocBook XSL Stylesheets in XML catalog\r\n\r\nSee build log for details:\r\n  /home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-build-out.txt\r\nsuse:~ # zypper install docbook-xsl-stylesheets\r\nLoading repository data...\r\nReading installed packages...\r\nResolving package dependencies...\r\n\r\nThe following NEW package is going to be installed:\r\n  docbook-xsl-stylesheets\r\n\r\nThe following package has no support information from its vendor:\r\n  docbook-xsl-stylesheets\r\n\r\n1 new package to install.\r\nOverall download size: 3.9 MiB. Already cached: 0 B. After the operation, additional 21.1 MiB will be used.\r\nContinue? [y/n/v/...? shows all options] (y): y\r\nRetrieving package docbook-xsl-stylesheets-1.79.2-1.18.noarch                                                                                                               (1/1),   3.9 MiB ( 21.1 MiB unpacked)\r\nRetrieving: docbook-xsl-stylesheets-1.79.2-1.18.noarch.rpm ................................................................................................................................................[done]\r\nChecking for file conflicts: ..............................................................................................................................................................................[done]\r\n(1/1) Installing: docbook-xsl-stylesheets-1.79.2-1.18.noarch ..............................................................................................................................................[done]\r\nsuse:~ # cat /etc/xml/catalog\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE catalog PUBLIC \"-//OASIS//DTD Entity Resolution XML Catalog V1.0//EN\" \"http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd\">\r\n<catalog xmlns=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\">\r\n  <nextCatalog catalog=\"catalog-d.xml\"/>\r\n  <nextCatalog catalog=\"suse-catalog.xml\"/>\r\n</catalog>\r\nsuse:~ # cat /etc/xml/catalog-d.xml\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE catalog PUBLIC \"-//OASIS//DTD Entity Resolution XML Catalog V1.0//EN\" \"http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd\">\r\n<catalog xmlns=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\">\r\n<!-- Bogus entry to avoid this being empty -->\r\n<uri name=\"http://this.does/not#exist\" uri=\"file:///does/not/exist/either\"/>\r\n\r\n  <group id=\"docbook-xsl-stylesheets\">\r\n  <rewriteSystem systemIdStartString=\"http://docbook.sourceforge.net/release/xsl/1.79.2\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/@VERSION@\"/>\r\n  <rewriteURI uriStartString=\"http://docbook.sourceforge.net/release/xsl/1.79.2\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/@VERSION@\"/>\r\n  <rewriteSystem systemIdStartString=\"http://docbook.sourceforge.net/release/xsl/current\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/current\"/>\r\n  <rewriteURI uriStartString=\"http://docbook.sourceforge.net/release/xsl/current\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/current\"/>\r\n  <rewriteURI uriStartString=\"http://cdn.docbook.org/release/xsl-nons/1.79.2\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/@VERSION@\"/>\r\n  <rewriteSystem systemIdStartString=\"http://cdn.docbook.org/release/xsl-nons/1.79.2\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/@VERSION@\"/>\r\n  <rewriteURI uriStartString=\"http://cdn.docbook.org/release/xsl-nons/current\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/current\"/>\r\n  <rewriteSystem systemIdStartString=\"http://cdn.docbook.org/release/xsl-nons/current\" rewritePrefix=\"file:///usr/share/xml/docbook/stylesheet/nwalsh/current\"/>\r\n  </group>\r\n\r\n  <group id=\"docbook_4\">\r\n    <!-- === Version 4.1.2 === -->\r\n    <delegatePublic publicIdStartString=\"-//OASIS//DTD DocBook XML V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//DTD DocBook CALS Table Model V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook Information Pool V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook Document Hierarchy V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Additional General Entities V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Notations V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Character Entities V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Additional General Entities V4.1.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2/catalog.xml\"/>\r\n    <rewriteSystem rewritePrefix=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2\" systemIdStartString=\"http://www.oasis-open.org/docbook/xml/4.1.2\"/>\r\n    <rewriteSystem rewritePrefix=\"file:///usr/share/xml/docbook/schema/dtd/4.1.2\" systemIdStartString=\"http://www.docbook.org/xml/4.1.2\"/>\r\n    <!-- === Version 4.2 === -->\r\n    <delegatePublic publicIdStartString=\"-//OASIS//DTD DocBook XML V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//DTD DocBook CALS Table Model V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook Information Pool V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook Document Hierarchy V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Additional General Entities V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Notations V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Character Entities V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Additional General Entities V4.2//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.2/catalog.xml\"/>\r\n    <rewriteSystem rewritePrefix=\"file:///usr/share/xml/docbook/schema/dtd/4.2\" systemIdStartString=\"http://www.oasis-open.org/docbook/xml/4.2\"/>\r\n    <rewriteSystem rewritePrefix=\"file:///usr/share/xml/docbook/schema/dtd/4.2\" systemIdStartString=\"http://www.docbook.org/xml/4.2\"/>\r\n    <!-- === Version 4.3 === -->\r\n    <delegatePublic publicIdStartString=\"-//OASIS//DTD DocBook XML V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//DTD DocBook CALS Table Model V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook Information Pool V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook Document Hierarchy V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ELEMENTS DocBook XML HTML Tables V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Additional General Entities V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Notations V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Character Entities V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <delegatePublic publicIdStartString=\"-//OASIS//ENTITIES DocBook Additional General Entities V4.3//EN\" catalog=\"file:///usr/share/xml/docbook/schema/dtd/4.3/catalog.xml\"/>\r\n    <rewriteSystem rewritePrefix=\"file:///usr/share/xml/docbook/schema/dtd/4.3\" systemIdStartString=\"http://www.oasis-open.org/docbook/xml/4.3\"/>\r\n    <rewriteSystem rewritePrefix=\"file:///usr/share/xml/docbook/schema/dtd/4.3\" systemIdStartString=\"http://www.docbook.org/xml/4.3\"/>\r\nsuse:~ # cd /etc/xml/catalog.d/\r\nsuse:/etc/xml/catalog.d # ls\r\ndocbook-xsl-stylesheets.xml  docbook_4.xml  xmlcharent.xml\r\n\u2026\u2026\r\nsuse:~ # spack install --keep-stage -v gtk-doc\r\n\u2026\u2026\r\nmake[2]: Entering directory '/home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-src'\r\n /usr/bin/mkdir -p '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/bin'\r\n /usr/bin/mkdir -p '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/share/gtk-doc/data'\r\n /usr/bin/mkdir -p '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/share/pkgconfig'\r\n /usr/bin/mkdir -p '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/share/gtk-doc/python/gtkdoc'\r\n /usr/bin/install -c gtkdoc-check gtkdoc-depscan gtkdoc-fixxref gtkdoc-mkdb gtkdoc-mkhtml gtkdoc-mkhtml2 gtkdoc-mkman gtkdoc-mkpdf gtkdoc-rebase gtkdoc-scan gtkdoc-scangobj '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/bin'\r\n /usr/bin/install -c -m 644 gtk-doc.pc '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/share/pkgconfig'\r\n /usr/bin/install -c -m 644 gtk-doc.xsl version-greater-or-equal.xsl devhelp2.xsd devhelp2.xsl style/home.png style/left.png style/left-insensitive.png style/right.png style/right-insensitive.png style/up.png style/up-insensitive.png style/style.css '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/share/gtk-doc/data'\r\n /usr/bin/install -c -m 644 gtkdoc/__init__.py gtkdoc/check.py gtkdoc/common.py gtkdoc/config.py gtkdoc/fixxref.py gtkdoc/highlight.py gtkdoc/md_to_db.py gtkdoc/mkdb.py gtkdoc/mkhtml.py gtkdoc/mkhtml2.py gtkdoc/mkman.py gtkdoc/mkpdf.py gtkdoc/rebase.py gtkdoc/scan.py gtkdoc/scangobj.py '/home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/share/gtk-doc/python/gtkdoc'\r\nmake[2]: Leaving directory '/home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-src'\r\nmake[1]: Leaving directory '/home/stage/root/spack-stage-gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw/spack-src'\r\n[+] /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/gtk-doc-1.32-uc6564z6kx5iugi23576smxmu4q3t4zw\r\n```\r\nAs you see my mind, but I don't know if it's feasible in suse, even though gtk-doc is already installed, however, the Spack does not have related dependencies **sgml-skel, docbook-xsl-stylesheets, and docbook_4** (which exist in the SUSE system).But I have no other way to solve this problem.If you have, you can provide the following to install gtk-doc.\r\n\r\n```console\r\nsuse:~ # spack install --keep-stage -v ctpl\r\n\u2026\u2026\r\n==> Installing ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy\r\n==> No binary for ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy found: installing from source\r\n==> Using cached archive: /home/spack/var/spack/cache/_source-cache/archive/03/034875ba8e1ce87b7ee85bc7146a6a2b2a6ac0518482b36d65eb67dd09c03d0a.tar.gz\r\n==> ctpl: Executing phase: 'autoreconf'\r\n==> [2021-02-24-20:51:39.497618] '/bin/bash' './autogen.sh'\r\nautoreconf: Entering directory `.'\r\nautoreconf: running: autopoint --force\r\nCan't exec \"autopoint\": No such file or directory at /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/autoconf-2.69-jg44afikddsjy7thn23jcaq3are2sk5t/share/autoconf/Autom4te/FileUtils.pm line 345.\r\nautoreconf: failed to run autopoint: No such file or directory\r\nautoreconf: autopoint is needed because this package uses Gettext\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/bin/bash' './autogen.sh'\r\n\r\n2 errors found in build log:\r\n  >> 5    Can't exec \"autopoint\": No such file or directory at /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/autoconf-2.69-jg44afikddsjy7thn23jcaq3are2sk5t/share/autoconf/Autom4te/FileUtils.pm line 345\r\n          .\r\n  >> 6    autoreconf: failed to run autopoint: No such file or directory\r\n     7    autoreconf: autopoint is needed because this package uses Gettext\r\n\r\nSee build log for details:\r\n  /home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-build-out.txt\r\n\r\nsuse:~ # spack edit ctpl\r\n# Copyright 2013-2020 Lawrence Livermore National Security, LLC and other\r\n# Spack Project Developers. See the top-level COPYRIGHT file for details.\r\n#\r\n# SPDX-License-Identifier: (Apache-2.0 OR MIT)\r\n\r\nfrom spack import *\r\n\r\n\r\nclass Ctpl(AutotoolsPackage):\r\n    \"\"\"CTPL is a template engine library written in C and distributed\r\n    under the terms of the GNU GPL.\"\"\"\r\n\r\n    homepage = \"https://github.com/b4n/ctpl\"\r\n    url      = \"https://github.com/b4n/ctpl/archive/0.3.tar.gz\"\r\n\r\n    version('0.3', sha256='034875ba8e1ce87b7ee85bc7146a6a2b2a6ac0518482b36d65eb67dd09c03d0a')\r\n\r\n+  depends_on('gettext', type='build')\r\n    depends_on('autoconf', type='build')\r\n    depends_on('automake', type='build')\r\n    depends_on('libtool',  type='build')\r\n    depends_on('m4',       type='build')\r\n    depends_on('gtk-doc')\r\n    depends_on('glib@2.10:')\r\n\r\n    def autoreconf(self, spec, prefix):\r\n        bash = which('bash')\r\n        bash('./autogen.sh')\r\n\r\nsuse:~ # spack install --keep-stage -v ctpl\r\n\u2026\u2026\r\nmake[1]: Leaving directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src/testsuite'\r\nMaking install in po\r\nmake[1]: Entering directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src/po'\r\n/usr/bin/mkdir -p /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/share\r\ninstalling fr.gmo as /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/share/locale/fr/LC_MESSAGES/ctpl.mo\r\ninstalling it.gmo as /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/share/locale/it/LC_MESSAGES/ctpl.mo\r\nif test \"ctpl\" = \"gettext-tools\"; then \\\r\n  /usr/bin/mkdir -p /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/share/gettext/po; \\\r\n  for file in Makefile.in.in remove-potcdate.sin quot.sed boldquot.sed en@quot.header en@boldquot.header insert-header.sin Rules-quot   Makevars.template; do \\\r\n    /usr/bin/install -c -m 644 ./$file \\\r\n                    /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/share/gettext/po/$file; \\\r\n  done; \\\r\n  for file in Makevars; do \\\r\n    rm -f /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/share/gettext/po/$file; \\\r\n  done; \\\r\nelse \\\r\n  : ; \\\r\nfi\r\nmake[1]: Leaving directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src/po'\r\nmake[1]: Entering directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src'\r\nmake[2]: Entering directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src'\r\nmake[2]: Nothing to be done for 'install-exec-am'.\r\nmake[2]: Nothing to be done for 'install-data-am'.\r\nmake[2]: Leaving directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src'\r\nmake[1]: Leaving directory '/home/stage/root/spack-stage-ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy/spack-src'\r\n[+] /home/spack/opt/spack/linux-sles15-aarch64/gcc-7.4.0/ctpl-0.3-srtmpkaqsf23gghtan5yvf73fu6nytuy\r\n```\r\nThis is my solution to ctpl, do not know whether it is feasible, if you have a better method, welcome to provide.\r\n### Information on your system\r\nsuse:~ # spack debug report\r\n* **Spack:** 0.16.0-77-98460b6f4\r\n* **Python:** 3.6.5\r\n* **Platform:** linux-sles15-aarch64\r\n* **Concretizer:** original\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n- [ ] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->\r\n",
    "performed_via_github_app": null
}