{
    "url": "https://api.github.com/repos/spack/spack/issues/3385",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/3385/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/3385/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/3385/events",
    "html_url": "https://github.com/spack/spack/issues/3385",
    "id": 212906824,
    "node_id": "MDU6SXNzdWUyMTI5MDY4MjQ=",
    "number": 3385,
    "title": "Perl installation fails when CPATH ends in \":\"",
    "user": {
        "login": "aprokop",
        "id": 7297887,
        "node_id": "MDQ6VXNlcjcyOTc4ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7297887?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aprokop",
        "html_url": "https://github.com/aprokop",
        "followers_url": "https://api.github.com/users/aprokop/followers",
        "following_url": "https://api.github.com/users/aprokop/following{/other_user}",
        "gists_url": "https://api.github.com/users/aprokop/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/aprokop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aprokop/subscriptions",
        "organizations_url": "https://api.github.com/users/aprokop/orgs",
        "repos_url": "https://api.github.com/users/aprokop/repos",
        "events_url": "https://api.github.com/users/aprokop/events{/privacy}",
        "received_events_url": "https://api.github.com/users/aprokop/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446619526,
            "node_id": "MDU6TGFiZWw0NDY2MTk1MjY=",
            "url": "https://api.github.com/repos/spack/spack/labels/new-package",
            "name": "new-package",
            "color": "444444",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-03-09T01:14:28Z",
    "updated_at": "2017-03-09T17:47:21Z",
    "closed_at": "2017-03-09T17:47:21Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "When installing perl I was getting failures:\r\n```\r\n==> Using cached archive: /home/xap/local/opt/spack/var/spack/cache/perl/perl-5.24.1.tar.gz\r\n==> Using cached archive: /home/xap/local/opt/spack/var/spack/cache/perl/cpanm-5.24.1.tar.gz\r\n==> Already staged perl-5.24.1-hgkjfrxge4zw5rp6gtupthacebdf4ccu in /home/xap/local/opt/spack/var/spack/stage/perl-5.24.1-hgkjfrxge4zw5rp6gtupthacebdf4ccu\r\n==> Already staged resource-cpanm-hgkjfrxge4zw5rp6gtupthacebdf4ccu in /home/xap/local/opt/spack/var/spack/stage/resource-cpanm-hgkjfrxge4zw5rp6gtupthacebdf4ccu\r\n==> No patches needed for perl\r\n==> Building perl [Package]\r\n==> Executing phase : 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j32'\r\n/home/xap/local/opt/spack/var/spack/repos/builtin/packages/perl/package.py:72, in install:\r\n     64       def install(self, spec, prefix):\r\n     65           configure = Executable('./Configure')\r\n     66           configure_args = [\"-des\", \"-Dprefix=\" + prefix]\r\n     67           # Discussion of -fPIC for Intel at:\r\n     68           # https://github.com/LLNL/spack/pull/3081\r\n     69           if spec.satisfies('%intel'):\r\n     70               configure_args.append(\"-Accflags=\" + self.compiler.pic_flag)\r\n     71           configure(*configure_args)\r\n  >> 72           make()\r\n     73           if self.run_tests:\r\n     74               make(\"test\")\r\n     75           make(\"install\")\r\n     76   \r\n     77           if '+cpanm' in spec:\r\n     78               with working_dir(join_path('cpanm', 'cpanm')):\r\n     79                   perl = Executable(join_path(prefix.bin, 'perl'))\r\n     80                   perl('Makefile.PL')\r\n     81                   make()\r\n     82                   make('install')\r\n```\r\nThe error started with\r\n```\r\ninvalid application of \u2018sizeof\u2019 to incomplete type \u2018struct pollfd\u2019\r\n```\r\nSearching online produced [this](http://serverfault.com/questions/145288/make-error-when-compiling-perl-5-12-1-rhel-5-5) (i don't think OS matters, though).\r\n\r\nI checked and indeed my CPATH ended with \":\". I removed that and it compiled successfully.",
    "performed_via_github_app": null
}