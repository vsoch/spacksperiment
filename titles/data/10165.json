{
    "url": "https://api.github.com/repos/spack/spack/issues/10165",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10165/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10165/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10165/events",
    "html_url": "https://github.com/spack/spack/pull/10165",
    "id": 393140332,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjQwMjQ1NDkx",
    "number": 10165,
    "title": "Add libiconv variant to glib",
    "user": {
        "login": "hartzell",
        "id": 312978,
        "node_id": "MDQ6VXNlcjMxMjk3OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/312978?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hartzell",
        "html_url": "https://github.com/hartzell",
        "followers_url": "https://api.github.com/users/hartzell/followers",
        "following_url": "https://api.github.com/users/hartzell/following{/other_user}",
        "gists_url": "https://api.github.com/users/hartzell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hartzell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hartzell/subscriptions",
        "organizations_url": "https://api.github.com/users/hartzell/orgs",
        "repos_url": "https://api.github.com/users/hartzell/repos",
        "events_url": "https://api.github.com/users/hartzell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hartzell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446630669,
            "node_id": "MDU6TGFiZWw0NDY2MzA2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/dependencies",
            "name": "dependencies",
            "color": "c2e0c6",
            "default": false,
            "description": null
        },
        {
            "id": 493969518,
            "node_id": "MDU6TGFiZWw0OTM5Njk1MTg=",
            "url": "https://api.github.com/repos/spack/spack/labels/variants",
            "name": "variants",
            "color": "c2e0c6",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 10,
    "created_at": "2018-12-20T17:22:38Z",
    "updated_at": "2018-12-29T17:25:56Z",
    "closed_at": "2018-12-21T17:33:29Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/10165",
        "html_url": "https://github.com/spack/spack/pull/10165",
        "diff_url": "https://github.com/spack/spack/pull/10165.diff",
        "patch_url": "https://github.com/spack/spack/pull/10165.patch"
    },
    "body": "Enable explicitly building glib with or without libiconv.\r\n\r\nWe're seeing something like what was described in #6962.  In our case it seems to be caused by glib depending on libxm2, which in turn has a dependency on libiconv.  This puts the libiconv bits in the build environment and glib trips over them.\r\n\r\nHeads up: if you build with `~iconv` but there is something else in the spec that includes libiconv then glib will *still* automagically discover it and the build will fail.\r\n\r\nI don't currently have the cycles to dig into glib's configure script and figure out why it's still tripping over the libiconv header when it's explicitly been configured with `--with-libiconv=no`.\r\n\r\nIn order for our build to succeed, we need to build `glib+iconv`.  I've made the default `~iconv`.  I could make it `+iconv` if that seems preferable.\r\n\r\n",
    "performed_via_github_app": null
}