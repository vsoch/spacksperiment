{
    "url": "https://api.github.com/repos/spack/spack/issues/19882",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/19882/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/19882/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/19882/events",
    "html_url": "https://github.com/spack/spack/pull/19882",
    "id": 741788702,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTIwMDQxNTc5",
    "number": 19882,
    "title": "WRF: Add version 3.9.1.1 and improve recipe robustness",
    "user": {
        "login": "ptooley",
        "id": 32297355,
        "node_id": "MDQ6VXNlcjMyMjk3MzU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/32297355?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ptooley",
        "html_url": "https://github.com/ptooley",
        "followers_url": "https://api.github.com/users/ptooley/followers",
        "following_url": "https://api.github.com/users/ptooley/following{/other_user}",
        "gists_url": "https://api.github.com/users/ptooley/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ptooley/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ptooley/subscriptions",
        "organizations_url": "https://api.github.com/users/ptooley/orgs",
        "repos_url": "https://api.github.com/users/ptooley/repos",
        "events_url": "https://api.github.com/users/ptooley/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ptooley/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616788,
            "node_id": "MDU6TGFiZWw0NDY2MTY3ODg=",
            "url": "https://api.github.com/repos/spack/spack/labels/new-version",
            "name": "new-version",
            "color": "0e8a16",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2020-11-12T17:29:40Z",
    "updated_at": "2020-11-16T21:56:40Z",
    "closed_at": "2020-11-16T21:56:40Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/19882",
        "html_url": "https://github.com/spack/spack/pull/19882",
        "diff_url": "https://github.com/spack/spack/pull/19882.diff",
        "patch_url": "https://github.com/spack/spack/pull/19882.patch"
    },
    "body": "PR to improve several aspects of WRF support in Spack:\r\n\r\nThe headline issue here is the fact that upstream use `make -i -k` and their custom make script always returns 0. This means that the standard approach of checking the return code won't detect a failed build.  Instead we need to actually check the output of the script to see if it succeeded.  My approach is the least-bad solution I could find.\r\n\r\nSecond big issue is that the configure script *enforces* interactivity and dynamically generates its option.  Previous recipe version had response values hardcoded for an assumed x86 platform.  This new version should be platform independent and has been tested on at least aarch64 and x86_64.\r\n\r\nAdditionally I have added support for v 3.9 which is a common HPC benchmarking workload, and fixed an issue with failure to compile against recent glibcs that don't ship sunrpc headers.\r\n\r\n* Include version 3.9.1.1 as common benchmarking workload\r\n* Fix compilation against recent glibc (use spack installed libtirpc)\r\n* Detect and handle failed compilation (upstream use make -i)",
    "performed_via_github_app": null
}