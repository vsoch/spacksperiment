{
    "url": "https://api.github.com/repos/spack/spack/issues/16258",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16258/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16258/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16258/events",
    "html_url": "https://github.com/spack/spack/pull/16258",
    "id": 605475517,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDA3ODY5Nzk4",
    "number": 16258,
    "title": "tensorflow: compile against spack-provided protobuf",
    "user": {
        "login": "aweits",
        "id": 6664568,
        "node_id": "MDQ6VXNlcjY2NjQ1Njg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6664568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aweits",
        "html_url": "https://github.com/aweits",
        "followers_url": "https://api.github.com/users/aweits/followers",
        "following_url": "https://api.github.com/users/aweits/following{/other_user}",
        "gists_url": "https://api.github.com/users/aweits/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/aweits/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aweits/subscriptions",
        "organizations_url": "https://api.github.com/users/aweits/orgs",
        "repos_url": "https://api.github.com/users/aweits/repos",
        "events_url": "https://api.github.com/users/aweits/events{/privacy}",
        "received_events_url": "https://api.github.com/users/aweits/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446630669,
            "node_id": "MDU6TGFiZWw0NDY2MzA2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/dependencies",
            "name": "dependencies",
            "color": "c2e0c6",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-04-23T12:01:36Z",
    "updated_at": "2021-02-12T13:19:46Z",
    "closed_at": "2020-04-23T16:14:10Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/16258",
        "html_url": "https://github.com/spack/spack/pull/16258",
        "diff_url": "https://github.com/spack/spack/pull/16258.diff",
        "patch_url": "https://github.com/spack/spack/pull/16258.patch"
    },
    "body": "This allows horovod to be built with frameworks=pytorch,tensorflow.\r\n\r\nI tracked down the crash I observed in #15719, where loading torch\r\nbefore tensorflow would cause a crash in:\r\n\r\ngoogle::protobuf::internal::(anonymous\r\nnamespace)::InitSCC_DFS(google::protobuf::internal::SCCInfoBase*)\r\n\r\nThe solution is to make tensorflow compile against the protobuf\r\nversion Spack provides, instead of allowing it to use it's own.\r\nIt's likely we'll want to go after some of the others\r\nthat are listed in third_party/systemlibs/syslibs_configure.bzl\r\nin the future.",
    "performed_via_github_app": null
}