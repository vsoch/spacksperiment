{
    "url": "https://api.github.com/repos/spack/spack/issues/24268",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24268/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24268/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24268/events",
    "html_url": "https://github.com/spack/spack/issues/24268",
    "id": 918557618,
    "node_id": "MDU6SXNzdWU5MTg1NTc2MTg=",
    "number": 24268,
    "title": "Virtual dependencies not resolved",
    "user": {
        "login": "UweSauter",
        "id": 19325781,
        "node_id": "MDQ6VXNlcjE5MzI1Nzgx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19325781?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/UweSauter",
        "html_url": "https://github.com/UweSauter",
        "followers_url": "https://api.github.com/users/UweSauter/followers",
        "following_url": "https://api.github.com/users/UweSauter/following{/other_user}",
        "gists_url": "https://api.github.com/users/UweSauter/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/UweSauter/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/UweSauter/subscriptions",
        "organizations_url": "https://api.github.com/users/UweSauter/orgs",
        "repos_url": "https://api.github.com/users/UweSauter/repos",
        "events_url": "https://api.github.com/users/UweSauter/events{/privacy}",
        "received_events_url": "https://api.github.com/users/UweSauter/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 1433532775,
            "node_id": "MDU6TGFiZWwxNDMzNTMyNzc1",
            "url": "https://api.github.com/repos/spack/spack/labels/triage",
            "name": "triage",
            "color": "ed9793",
            "default": false,
            "description": "The issue needs to be prioritized"
        },
        {
            "id": 480333036,
            "node_id": "MDU6TGFiZWw0ODAzMzMwMzY=",
            "url": "https://api.github.com/repos/spack/spack/labels/workaround",
            "name": "workaround",
            "color": "b60205",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-06-11T10:23:07Z",
    "updated_at": "2021-06-22T18:37:28Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "This issue happens with at least virtual dependencies; I'll use `uuid` as example for a virtual dependency in this issue report and `xset` as a package that depends on `uuid`. The other virtual dependency that is affected is `pkgconfig` but it could be more.\r\n\r\nWhen disabling the `builtin` repository by using `repo::` in the site or user `repos.yaml` and copying over package specs from `builtin` to the local repository, Spack then fails to resolve virtual dependencies.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ cd /tmp\r\n\r\n$ git clone https://github.com/spack/spack.git\r\nKlone nach 'spack' ...\r\nremote: Enumerating objects: 285507, done.\r\nremote: Counting objects: 100% (400/400), done.\r\nremote: Compressing objects: 100% (293/293), done.\r\nremote: Total 285507 (delta 138), reused 223 (delta 40), pack-reused 285107\r\nEmpfange Objekte: 100% (285507/285507), 115.82 MiB | 4.74 MiB/s, fertig.\r\nL\u00f6se Unterschiede auf: 100% (121452/121452), fertig.\r\n\r\n$ source spack/share/spack/setup-env.sh\r\n\r\n$ spack repo create local_repo\r\n==> Created repo with namespace 'local_repo'.\r\n==> To register it with spack, run this command:\r\n  spack repo add /tmp/local_repo\r\n\r\n$ spack repo add --scope site /tmp/local_repo\r\n==> Added repo with namespace 'local_repo'.\r\n\r\n$ cat /tmp/spack/etc/spack/repos.yaml \r\nrepos:\r\n- /tmp/local_repo\r\n\r\n$ sed -i -e 's/repos:/repos::/' /tmp/spack/etc/spack/repos.yaml\r\n\r\n$ cat /tmp/spack/etc/spack/repos.yaml \r\nrepos::\r\n- /tmp/local_repo\r\n\r\n$ cd /tmp/spack/var/spack/repos/builtin/packages\r\n\r\n$ rsync -a berkeley-db gdbm inputproto kbproto libice libpthread-stubs libsm libuuid libx11 libxau libxcb libxdmcp libxext libxmu libxt ncurses pkgconf perl pkg-config readline util-macros util-linux-uuid xcb-proto xextproto xproto xset xtrans /tmp/local_repo/packages/\r\n\r\n$ cd /tmp\r\n\r\n$ spack config get packages | grep uuid\r\n      uuid: [util-linux-uuid, libuuid]\r\n\r\n$ spack list\r\n==> 27 packages.\r\nberkeley-db  kbproto           libsm    libxau    libxext  ncurses     pkgconf          util-macros  xproto\r\ngdbm         libice            libuuid  libxcb    libxmu   perl        readline         xcb-proto    xset\r\ninputproto   libpthread-stubs  libx11   libxdmcp  libxt    pkg-config  util-linux-uuid  xextproto    xtrans\r\n\r\n\r\n$ spack spec xset\r\nInput spec\r\n--------------------------------\r\nxset\r\n\r\nConcretized\r\n--------------------------------\r\n==> Error: Package 'uuid' not found.\r\n\r\n$ spack --debug spec xset\r\n==> [2021-06-11-12:16:23.762231] Imported spec from built-in commands\r\n==> [2021-06-11-12:16:23.762852] Imported spec from built-in commands\r\nInput spec\r\n--------------------------------\r\nxset\r\n\r\nConcretized\r\n--------------------------------\r\n==> [2021-06-11-12:16:23.763980] Reading config file /tmp/spack/etc/spack/defaults/config.yaml\r\n==> [2021-06-11-12:16:23.776110] Reading config file /tmp/spack/etc/spack/defaults/repos.yaml\r\n==> [2021-06-11-12:16:23.777350] Reading config file /tmp/spack/etc/spack/repos.yaml\r\n==> [2021-06-11-12:16:23.792773] xproto applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.793410] xproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.794908] xtrans applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.795551] xtrans applying constraint util-macros\r\n==> [2021-06-11-12:16:23.796004] libice applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.796672] libice applying constraint util-macros\r\n==> [2021-06-11-12:16:23.797141] libice applying constraint xproto\r\n==> [2021-06-11-12:16:23.797652] libice applying constraint xtrans\r\n==> [2021-06-11-12:16:23.798122] libice applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.798781] libice applying constraint util-macros\r\n==> [2021-06-11-12:16:23.799603] libsm applying constraint xproto\r\n==> [2021-06-11-12:16:23.800281] libsm applying constraint xtrans\r\n==> [2021-06-11-12:16:23.800555] libsm applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.801266] libsm applying constraint util-macros\r\n==> [2021-06-11-12:16:23.801988] libsm applying constraint libice@1.0.5:\r\n==> [2021-06-11-12:16:23.802426] libsm applying constraint uuid\r\n==> [2021-06-11-12:16:23.803106] libsm applying constraint xproto\r\n==> [2021-06-11-12:16:23.803767] libsm applying constraint xtrans\r\n==> [2021-06-11-12:16:23.804030] libsm applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.804708] libsm applying constraint util-macros\r\n==> [2021-06-11-12:16:23.805386] libxt applying constraint libice\r\n==> [2021-06-11-12:16:23.811108] libxau applying constraint xproto\r\n==> [2021-06-11-12:16:23.811592] libxau applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.812614] libxau applying constraint util-macros\r\n==> [2021-06-11-12:16:23.815482] libxdmcp applying constraint xproto\r\n==> [2021-06-11-12:16:23.815905] libxdmcp applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.816677] libxdmcp applying constraint util-macros\r\n==> [2021-06-11-12:16:23.818210] libxcb applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.818993] libxcb applying constraint util-macros\r\n==> [2021-06-11-12:16:23.819814] libxcb applying constraint libpthread-stubs\r\n==> [2021-06-11-12:16:23.820607] libxcb applying constraint libxau@0.99.2:\r\n==> [2021-06-11-12:16:23.821377] libxcb applying constraint libxdmcp\r\n==> [2021-06-11-12:16:23.822195] libxcb applying constraint xcb-proto\r\n==> [2021-06-11-12:16:23.822622] libxcb applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.823411] libxcb applying constraint util-macros\r\n==> [2021-06-11-12:16:23.824022] libx11 applying constraint xproto@7.0.17:\r\n==> [2021-06-11-12:16:23.825459] xextproto applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.826247] xextproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.826835] libx11 applying constraint xtrans\r\n==> [2021-06-11-12:16:23.828168] kbproto applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.828999] kbproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.831426] inputproto applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.832275] inputproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.832875] libx11 applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.833740] libx11 applying constraint util-macros\r\n==> [2021-06-11-12:16:23.840287] ncurses applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.841091] readline applying constraint ncurses\r\n==> [2021-06-11-12:16:23.842005] gdbm applying constraint readline\r\n==> [2021-06-11-12:16:23.844347] perl applying constraint gdbm\r\n==> [2021-06-11-12:16:23.845219] perl applying constraint berkeley-db\r\n==> [2021-06-11-12:16:23.846196] libx11 applying constraint libxcb@1.1.92:\r\n==> [2021-06-11-12:16:23.847322] libx11 applying constraint xproto@7.0.17:\r\n==> [2021-06-11-12:16:23.848529] libx11 applying constraint xextproto\r\n==> [2021-06-11-12:16:23.849498] libx11 applying constraint xtrans\r\n==> [2021-06-11-12:16:23.850514] libx11 applying constraint kbproto\r\n==> [2021-06-11-12:16:23.851600] libx11 applying constraint inputproto\r\n==> [2021-06-11-12:16:23.852031] libx11 applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.853209] libx11 applying constraint util-macros\r\n==> [2021-06-11-12:16:23.854158] libx11 applying constraint perl\r\n==> [2021-06-11-12:16:23.855114] libxt applying constraint xproto\r\n==> [2021-06-11-12:16:23.855991] libxt applying constraint kbproto\r\n==> [2021-06-11-12:16:23.856431] libxt applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.857327] libxt applying constraint util-macros\r\n==> [2021-06-11-12:16:23.858240] libxt applying constraint libsm\r\n==> [2021-06-11-12:16:23.859110] libxt applying constraint libice\r\n==> [2021-06-11-12:16:23.859950] libxt applying constraint libx11\r\n==> [2021-06-11-12:16:23.860774] libxt applying constraint xproto\r\n==> [2021-06-11-12:16:23.861646] libxt applying constraint kbproto\r\n==> [2021-06-11-12:16:23.862109] libxt applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.863137] libxt applying constraint util-macros\r\n==> [2021-06-11-12:16:23.865777] libxext applying constraint libx11@1.6:\r\n==> [2021-06-11-12:16:23.866661] libxext applying constraint xproto@7.0.13:\r\n==> [2021-06-11-12:16:23.867475] libxext applying constraint xextproto@7.1.99:\r\n==> [2021-06-11-12:16:23.867975] libxext applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.868847] libxext applying constraint util-macros\r\n==> [2021-06-11-12:16:23.869800] libxext applying constraint libx11@1.6:\r\n==> [2021-06-11-12:16:23.870715] libxext applying constraint xproto@7.0.13:\r\n==> [2021-06-11-12:16:23.871657] libxext applying constraint xextproto@7.1.99:\r\n==> [2021-06-11-12:16:23.872096] libxext applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.873015] libxext applying constraint util-macros\r\n==> [2021-06-11-12:16:23.873928] libxmu applying constraint libx11\r\n==> [2021-06-11-12:16:23.874826] libxmu applying constraint xextproto\r\n==> [2021-06-11-12:16:23.875280] libxmu applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.876283] libxmu applying constraint util-macros\r\n==> [2021-06-11-12:16:23.877138] libxmu applying constraint libxt\r\n==> [2021-06-11-12:16:23.878009] libxmu applying constraint libxext\r\n==> [2021-06-11-12:16:23.878854] libxmu applying constraint libx11\r\n==> [2021-06-11-12:16:23.879853] libxmu applying constraint xextproto\r\n==> [2021-06-11-12:16:23.880355] libxmu applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.881248] libxmu applying constraint util-macros\r\n==> [2021-06-11-12:16:23.882291] xset applying constraint libx11\r\n==> [2021-06-11-12:16:23.883238] xset applying constraint xproto@7.0.17:\r\n==> [2021-06-11-12:16:23.883644] xset applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.884600] xset applying constraint util-macros\r\n==> [2021-06-11-12:16:23.885750] xset applying constraint libxmu\r\n==> [2021-06-11-12:16:23.886466] xset applying constraint libx11\r\n==> [2021-06-11-12:16:23.887134] xset applying constraint xproto@7.0.17:\r\n==> [2021-06-11-12:16:23.887368] xset applying constraint pkgconfig\r\n==> [2021-06-11-12:16:23.888351] xset applying constraint util-macros\r\n==> [2021-06-11-12:16:23.889939] Reading config file /tmp/spack/etc/spack/defaults/packages.yaml\r\n==> [2021-06-11-12:16:23.917144] xset applying constraint libxmu\r\n==> [2021-06-11-12:16:23.917633] libxmu applying constraint libxt\r\n==> [2021-06-11-12:16:23.918056] libxt applying constraint libsm\r\n==> [2021-06-11-12:16:23.918502] libsm applying constraint libice@1.0.5:\r\n==> [2021-06-11-12:16:23.918941] libice applying constraint xproto\r\n==> [2021-06-11-12:16:23.919175] xproto applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.919833] xproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.920493] libice applying constraint xtrans\r\n==> [2021-06-11-12:16:23.920718] xtrans applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.921324] xtrans applying constraint util-macros\r\n==> [2021-06-11-12:16:23.921591] libice applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.922011] libice applying constraint util-macros\r\n==> [2021-06-11-12:16:23.922225] libsm applying constraint uuid\r\n==> [2021-06-11-12:16:23.922634] libsm applying constraint xproto\r\n==> [2021-06-11-12:16:23.923041] libsm applying constraint xtrans\r\n==> [2021-06-11-12:16:23.923255] libsm applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.923669] libsm applying constraint util-macros\r\n==> [2021-06-11-12:16:23.924086] libxt applying constraint libice\r\n==> [2021-06-11-12:16:23.924646] libxt applying constraint libx11\r\n==> [2021-06-11-12:16:23.925147] libx11 applying constraint libxcb@1.1.92:\r\n==> [2021-06-11-12:16:23.925920] libxcb applying constraint libpthread-stubs\r\n==> [2021-06-11-12:16:23.926442] libxcb applying constraint libxau@0.99.2:\r\n==> [2021-06-11-12:16:23.926883] libxau applying constraint xproto\r\n==> [2021-06-11-12:16:23.927108] libxau applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.927578] libxau applying constraint util-macros\r\n==> [2021-06-11-12:16:23.928277] libxcb applying constraint libxdmcp\r\n==> [2021-06-11-12:16:23.928772] libxdmcp applying constraint xproto\r\n==> [2021-06-11-12:16:23.928985] libxdmcp applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.929399] libxdmcp applying constraint util-macros\r\n==> [2021-06-11-12:16:23.929898] libxcb applying constraint xcb-proto\r\n==> [2021-06-11-12:16:23.930125] libxcb applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.930535] libxcb applying constraint util-macros\r\n==> [2021-06-11-12:16:23.930990] libx11 applying constraint xproto@7.0.17:\r\n==> [2021-06-11-12:16:23.931470] libx11 applying constraint xextproto\r\n==> [2021-06-11-12:16:23.931698] xextproto applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.932110] xextproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.932515] libx11 applying constraint xtrans\r\n==> [2021-06-11-12:16:23.932922] libx11 applying constraint kbproto\r\n==> [2021-06-11-12:16:23.933149] kbproto applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.933557] kbproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.933968] libx11 applying constraint inputproto\r\n==> [2021-06-11-12:16:23.934196] inputproto applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.934949] inputproto applying constraint util-macros\r\n==> [2021-06-11-12:16:23.935407] libx11 applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.936174] libx11 applying constraint util-macros\r\n==> [2021-06-11-12:16:23.936782] libx11 applying constraint perl\r\n==> [2021-06-11-12:16:23.937363] perl applying constraint gdbm\r\n==> [2021-06-11-12:16:23.938089] gdbm applying constraint readline\r\n==> [2021-06-11-12:16:23.938558] readline applying constraint ncurses\r\n==> [2021-06-11-12:16:23.938783] ncurses applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.939194] perl applying constraint berkeley-db\r\n==> [2021-06-11-12:16:23.939618] libxt applying constraint xproto\r\n==> [2021-06-11-12:16:23.940032] libxt applying constraint kbproto\r\n==> [2021-06-11-12:16:23.940237] libxt applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.940699] libxt applying constraint util-macros\r\n==> [2021-06-11-12:16:23.941389] libxmu applying constraint libxext\r\n==> [2021-06-11-12:16:23.941864] libxext applying constraint libx11@1.6:\r\n==> [2021-06-11-12:16:23.942286] libxext applying constraint xproto@7.0.13:\r\n==> [2021-06-11-12:16:23.942718] libxext applying constraint xextproto@7.1.99:\r\n==> [2021-06-11-12:16:23.943183] libxext applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.943597] libxext applying constraint util-macros\r\n==> [2021-06-11-12:16:23.944001] libxmu applying constraint libx11\r\n==> [2021-06-11-12:16:23.944550] libxmu applying constraint xextproto\r\n==> [2021-06-11-12:16:23.944821] libxmu applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.945241] libxmu applying constraint util-macros\r\n==> [2021-06-11-12:16:23.945651] xset applying constraint libx11\r\n==> [2021-06-11-12:16:23.946070] xset applying constraint xproto@7.0.17:\r\n==> [2021-06-11-12:16:23.946278] xset applying constraint pkgconf\r\n==> [2021-06-11-12:16:23.946687] xset applying constraint util-macros\r\n==> [2021-06-11-12:16:23.955788] UnknownPackageError: Package 'uuid' not found.\r\n==> [2021-06-11-12:16:23.955853] Error: Package 'uuid' not found.\r\nTraceback (most recent call last):\r\n  File \"/tmp/spack/lib/spack/spack/main.py\", line 771, in main\r\n    return _invoke_command(command, parser, args, unknown)\r\n  File \"/tmp/spack/lib/spack/spack/main.py\", line 499, in _invoke_command\r\n    return_val = command(parser, args)\r\n  File \"/tmp/spack/lib/spack/spack/cmd/spec.py\", line 109, in spec\r\n    spec.concretize()\r\n  File \"/tmp/spack/lib/spack/spack/spec.py\", line 2572, in concretize\r\n    self._old_concretize(tests)\r\n  File \"/tmp/spack/lib/spack/spack/spec.py\", line 2371, in _old_concretize\r\n    self._expand_virtual_packages(concretizer),\r\n  File \"/tmp/spack/lib/spack/spack/spec.py\", line 2274, in _expand_virtual_packages\r\n    candidates = concretizer.choose_virtual_or_external(spec)\r\n  File \"/tmp/spack/lib/spack/spack/concretize.py\", line 144, in choose_virtual_or_external\r\n    candidates = self._valid_virtuals_and_externals(spec)\r\n  File \"/tmp/spack/lib/spack/spack/concretize.py\", line 99, in _valid_virtuals_and_externals\r\n    candidates = spack.repo.path.providers_for(spec)\r\n  File \"/tmp/spack/lib/spack/spack/repo.py\", line 90, in converter\r\n    return function(self, spec_like, *args, **kwargs)\r\n  File \"/tmp/spack/lib/spack/spack/repo.py\", line 593, in providers_for\r\n    raise UnknownPackageError(vpkg_spec.fullname)\r\nspack.repo.UnknownPackageError: Package 'uuid' not found.\r\n\r\n$ spack debug report\r\n* **Spack:** 0.16.2-3097-dbdf8f2ce7\r\n* **Python:** 3.9.5\r\n* **Platform:** linux-arch-zen2\r\n* **Concretizer:** original\r\n\r\n```\r\n\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate\r\n- [X] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->\r\n",
    "performed_via_github_app": null
}