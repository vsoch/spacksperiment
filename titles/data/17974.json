{
    "url": "https://api.github.com/repos/spack/spack/issues/17974",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/17974/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/17974/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/17974/events",
    "html_url": "https://github.com/spack/spack/issues/17974",
    "id": 676300901,
    "node_id": "MDU6SXNzdWU2NzYzMDA5MDE=",
    "number": 17974,
    "title": "Build fail: petsc on RHEL 7, Ubuntu 18.04 (x86_64 and ppc64le)",
    "user": {
        "login": "eugeneswalker",
        "id": 38933153,
        "node_id": "MDQ6VXNlcjM4OTMzMTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugeneswalker",
        "html_url": "https://github.com/eugeneswalker",
        "followers_url": "https://api.github.com/users/eugeneswalker/followers",
        "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
        "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
        "repos_url": "https://api.github.com/users/eugeneswalker/repos",
        "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 1474769306,
            "node_id": "MDU6TGFiZWwxNDc0NzY5MzA2",
            "url": "https://api.github.com/repos/spack/spack/labels/e4s",
            "name": "e4s",
            "color": "5224ad",
            "default": false,
            "description": ""
        },
        {
            "id": 966031931,
            "node_id": "MDU6TGFiZWw5NjYwMzE5MzE=",
            "url": "https://api.github.com/repos/spack/spack/labels/ecp",
            "name": "ecp",
            "color": "79d7ea",
            "default": false,
            "description": ""
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-08-10T17:34:35Z",
    "updated_at": "2020-08-10T20:45:38Z",
    "closed_at": "2020-08-10T20:45:38Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "`petsc` build is failing using `spack@develop` (10-Aug, 1398038beead1a1532fc337165e2b6bf9d58c284) on:\r\n* `Ubuntu 18.04` `x86_64 + ppc64le` `%gcc@7.5.0`\r\n* `RHEL 7` `x86_64 + ppc64le` `%gcc@8.3.1`\r\n\r\nConcrete spec for `petsc` on RHEL7-x86_64: [petsc-stemyz.yml.txt](https://github.com/spack/spack/files/5052331/petsc-stemyz.yml.txt)\r\nBuild log: [petsc-build-out.txt](https://github.com/spack/spack/files/5052364/petsc-build-out.txt)\r\n\r\n\r\n**RHEL7 x86_64 Error**\r\n```\r\n$> spack install -f ./petsc-stemyz.yml\r\n...\r\n==> Installing petsc\r\n==> petsc: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/python-3.7.8-6em5koj4zvl5rv4gu77f2kcqjvtpiyhx/bin/python3.7' 'configure' '--prefix=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf' '--with-ssl=0' '--download-c2html=0' '--download-sowing=0' '--download-hwloc=0' 'CFLAGS=' 'FFLAGS=' 'CXXFLAGS=' '--with-cc=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/mpich-3.2.1-sy6nknikubw4oimdegcslfqd5yahd5cn/bin/mpicc' '--with-cxx=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/mpich-3.2.1-sy6nknikubw4oimdegcslfqd5yahd5cn/bin/mpic++' '--with-fc=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/mpich-3.2.1-sy6nknikubw4oimdegcslfqd5yahd5cn/bin/mpif90' '--with-precision=double' '--with-scalar-type=real' '--with-shared-libraries=1' '--with-debugging=0' '--with-64-bit-indices=0' 'COPTFLAGS=' 'FOPTFLAGS=' 'CXXOPTFLAGS=' '--with-blas-lapack-lib=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/openblas-0.3.10-uh6r2aprc43b3mm24nwumzkvmcxi6tlz/lib/libopenblas.so' '--with-x=0' '--with-clanguage=C' '--with-scalapack=0' '--with-cuda=0' '--with-metis=1' '--with-metis-dir=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/metis-5.1.0-7rcixsk24ch3w2oewcrnbq6xbrkgrkpz' '--with-hypre=1' '--with-hypre-dir=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/hypre-2.19.0-7amcokfszpiykyyas2wc5ejqthmhmjp4' '--with-parmetis=1' '--with-parmetis-dir=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/parmetis-4.0.3-tssafa2c6pu7aovphwaobwgbyhqhsccs' '--with-mumps=0' '--with-trilinos=0' '--with-fftw=0' '--with-valgrind=0' '--with-gmp=0' '--with-libpng=0' '--with-giflib=0' '--with-mpfr=0' '--with-netcdf=0' '--with-pnetcdf=0' '--with-moab=0' '--with-random123=0' '--with-exodusii=0' '--with-cgns=0' '--with-memkind=0' '--with-p4est=0' '--with-saws=0' '--with-yaml=0' '--with-libjpeg=0' '--with-cxx-dialect=C++11' '--with-superlu_dist-include=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/superlu-dist-6.3.0-rtbtondidwhh7ic35ldmoxj5t3kubmwr/include' '--with-superlu_dist-lib=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/superlu-dist-6.3.0-rtbtondidwhh7ic35ldmoxj5t3kubmwr/lib/libsuperlu_dist.a' '--with-superlu_dist=1' '--with-suitesparse=0' '--with-hdf5-include=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/hdf5-1.10.6-oa6ixwl3s2ayhgmhk3wkmo2rvt43aret/include' '--with-hdf5-lib=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/hdf5-1.10.6-oa6ixwl3s2ayhgmhk3wkmo2rvt43aret/lib/libhdf5.so' '--with-hdf5=1' '--with-zlib-include=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/zlib-1.2.11-kzcdykxiwmefakdug4fnprjxe4s4g6mj/include' '--with-zlib-lib=/spack/opt/spack/linux-rhel7-x86_64/gcc-8.1.0/zlib-1.2.11-kzcdykxiwmefakdug4fnprjxe4s4g6mj/lib/libz.so' '--with-zlib=1'\r\n\r\n2 warnings found in build log:\r\n     19     TESTING: setExternalPackagesDir from PETSc.options.externalpackagesdir(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/PE\r\n            TSc/options/externalpackagesdir.py:15)\r\n     20     TESTING: cleanExternalpackagesDir from PETSc.options.externalpackagesdir(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/\r\n            PETSc/options/externalpackagesdir.py:22)\r\n     21     TESTING: configureCLanguage from PETSc.options.languages(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/PETSc/options/la\r\n            nguages.py:27)\r\n     22     TESTING: printEnvVariables from config.setCompilers(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/se\r\n            tCompilers.py:1725)\r\n     23     TESTING: resetEnvCompilers from config.setCompilers(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/se\r\n            tCompilers.py:1732)\r\n     24                   ===============================================================================\r\n  >> 25     ***** WARNING: F77 (set to /spack/lib/spack/env/gcc/gfortran) found in environment variables - ignoring\r\n     26                          use ./configure F77=$F77 if you really want to use that value ******\r\n     27                   ===============================================================================\r\n     28\r\n     29     TESTING: checkEnvCompilers from config.setCompilers(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/se\r\n            tCompilers.py:1762)\r\n     30     TESTING: checkMPICompilerOverride from config.setCompilers(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/co\r\n            nfig/setCompilers.py:1695)\r\n     31     TESTING: requireMpiLdPath from config.setCompilers(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/set\r\n            Compilers.py:1716)\r\n\r\n     ...\r\n\r\n     215    TESTING: configurePrecision from PETSc.options.scalarTypes(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/PETSc/options/\r\n            scalarTypes.py:81)\r\n     216    TESTING: configureMkdir from config.programs(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/programs.\r\n            py:22)\r\n     217    TESTING: configureAutoreconf from config.programs(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/prog\r\n            rams.py:44)\r\n     218    TESTING: configurePrograms from config.programs(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/progra\r\n            ms.py:71)\r\n     219    TESTING: configureMake from config.packages.make(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/packa\r\n            ges/make.py:87)\r\n     220                    ===============================================================================\r\n  >> 221    ***** WARNING: You have an older version of Gnu make, it will work,\r\n     222                          but may not support all the parallel testing options. You can install the\r\n     223                          latest Gnu make with your package manager, such as brew or macports, or use\r\n     224                          the --download-make option to get the latest Gnu make *****\r\n     225                    ===============================================================================\r\n     226\r\n     227    TESTING: setupGNUMake from config.packages.make(/tmp/root/spack-stage/spack-stage-petsc-3.13.4-ryx455hkhpztnyinbg6kp2anxr2owzaf/spack-src/config/BuildSystem/config/packag\r\n            es/make.py:121)\r\n```\r\n\r\n\r\n@balay @jedbrown @BarrySmith @scottwittenburg @shahzebsiddiqui ",
    "performed_via_github_app": null
}