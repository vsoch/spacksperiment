{
    "url": "https://api.github.com/repos/spack/spack/issues/8065",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8065/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8065/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8065/events",
    "html_url": "https://github.com/spack/spack/issues/8065",
    "id": 321363718,
    "node_id": "MDU6SXNzdWUzMjEzNjM3MTg=",
    "number": 8065,
    "title": "spack install flang -- No rule to make target 'install'. ",
    "user": {
        "login": "denera",
        "id": 7097165,
        "node_id": "MDQ6VXNlcjcwOTcxNjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7097165?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/denera",
        "html_url": "https://github.com/denera",
        "followers_url": "https://api.github.com/users/denera/followers",
        "following_url": "https://api.github.com/users/denera/following{/other_user}",
        "gists_url": "https://api.github.com/users/denera/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/denera/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/denera/subscriptions",
        "organizations_url": "https://api.github.com/users/denera/orgs",
        "repos_url": "https://api.github.com/users/denera/repos",
        "events_url": "https://api.github.com/users/denera/events{/privacy}",
        "received_events_url": "https://api.github.com/users/denera/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2018-05-08T22:07:30Z",
    "updated_at": "2020-01-13T18:44:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Installing flang with spack on MacOS High Sierra 10.13.4 fails at the very end at the 'install' phase. Makefile reports error that there is no make target for 'install'.\r\n\r\n### Expected Result\r\n\r\n`spack install flang` completes successfully.\r\n\r\n### Actual Result\r\n\r\n`spack install flang` fails with:\r\n\r\n```console\r\n==> Installing flang\r\n==> Trying to clone git repository: https://github.com/flang-compiler/flang on branch master\r\n==> No checksum needed when fetching with git\r\n==> Already staged flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s in /Users/adener/Developer/spack/var/spack/stage/flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s\r\n==> No patches needed for flang\r\n==> Building flang [CMakePackage]\r\n==> Executing phase: 'cmake'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8' 'install'\r\n\r\n1 error found in build log:\r\n     25    make[1]: Entering directory '/private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build'\r\n     26    make[1]: Nothing to be done for 'all'.\r\n     27    make[1]: Leaving directory '/private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build'\r\n     28    /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/cmake-3.11.1-t5c5kjxtmcqrw3luyshq6zxhl3dpvfjj/bin/cmake -E cmake_progres\r\n           s_start /private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build/CMakeFiles 0\r\n     29    ==> Executing phase: 'install'\r\n     30    ==> 'make' '-j8' 'install'\r\n  >> 31    make: *** No rule to make target 'install'.  Stop.\r\n```\r\n\r\n### Additional Notes\r\n\r\nAll flang dependencies built successfully:\r\n\r\n```console\r\n==> pkgconf is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/pkgconf-1.4.0-ugvrjfyaed7jxw2slq3f7kgn6tn35zqm\r\n==> ncurses is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/ncurses-6.0-tl5ltx7x4ueresy6xopqyix3lndtl7qd\r\n==> zlib is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/zlib-1.2.11-jgaeca4brdhqqd3tk4vsy7etd7azclu5\r\n==> openssl is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/openssl-1.0.2n-htziaklxroesro3u3uvf76brn4p3jjdt\r\n==> cmake is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/cmake-3.11.1-t5c5kjxtmcqrw3luyshq6zxhl3dpvfjj\r\n==> libsigsegv is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/libsigsegv-2.11-chuhsvgkrcryplwipy46j5wfm2sbrjj3\r\n==> m4 is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/m4-1.4.18-caxsf7l5yd7qbq2bown6bzi5el3ltfwf\r\n==> bison is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/bison-3.0.4-gkoyhhvehbliuqsr6lnyipn6d2faxive\r\n==> bzip2 is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/bzip2-1.0.6-73vi2erii7dtejj6d2mrpwzltbiqhpps\r\n==> xz is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/xz-5.2.3-mse3ao2ac7gjnufpgtd7h7y3pmap6fhn\r\n==> libxml2 is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/libxml2-2.9.4-apfs6mtlexlqwf7doudgma6psjr2uect\r\n==> tar is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/tar-1.30-nqi65cgxtomxnu7ld6jaj3k6sttfv3c2\r\n==> gettext is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/gettext-0.19.8.1-t7qq7gqgn36jt3jxekdm4phko4nqvg4m\r\n==> help2man is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/help2man-1.47.4-wtzks6js7q5b2uanydjh6qthtwyknjtd\r\n==> flex is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/flex-2.6.4-qks75us6zz5zoeropf6p6p5ruvqnstvw\r\n==> binutils is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/binutils-2.29.1-llif5spqmqqasf2b3vdp6pbdhwmckix2\r\n==> libedit is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/libedit-3.1-20170329-ovcsb2cxqlt637dldgrdso7niiachx23\r\n==> readline is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/readline-7.0-btu7e3buxtljkwbasitlu272akon36no\r\n==> gdbm is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/gdbm-1.14.1-tzjntbfadiktwjikpvp5s3vkauni22fg\r\n==> sqlite is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/sqlite-3.22.0-svxa2qbh76momtkyncjveonkr6wxnokz\r\n==> python is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/python-2.7.14-nw46rv7gek2p7ecd5uejcijjhnyci3y4\r\n==> py-setuptools is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/py-setuptools-39.0.1-i55uk4ypf5i4ixjhtyr6uhqvnkls72kf\r\n==> py-lit is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/py-lit-0.5.0-nomncxxl3q3kluxnylqfdr2ajrzwbabu\r\n==> pcre is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/pcre-8.41-rqtuqsqizazl3le2gl53wew63d3yj72t\r\n==> swig is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/swig-3.0.12-x75amfuwsgv5iyc4ia2qfbocb5wtwwib\r\n==> llvm is already installed in /Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47\r\n```\r\n\r\nThe complete build log is available here:\r\n\r\n```console\r\n==> Executing phase: 'cmake'\r\n==> 'cmake' '/Users/adener/Developer/spack/var/spack/stage/flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s/flang' '-G' 'Unix Makefiles' '-DCMAKE_INSTALL_PREFIX:PATH=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s' '-DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo' '-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON' '-DCMAKE_FIND_FRAMEWORK:STRING=LAST' '-DCMAKE_FIND_APPBUNDLE:STRING=LAST' '-DCMAKE_INSTALL_RPATH_USE_LINK_PATH:BOOL=FALSE' '-DCMAKE_INSTALL_RPATH:STRING=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s/lib64;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/binutils-2.29.1-llif5spqmqqasf2b3vdp6pbdhwmckix2/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/gettext-0.19.8.1-t7qq7gqgn36jt3jxekdm4phko4nqvg4m/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/bzip2-1.0.6-73vi2erii7dtejj6d2mrpwzltbiqhpps/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/libxml2-2.9.4-apfs6mtlexlqwf7doudgma6psjr2uect/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/xz-5.2.3-mse3ao2ac7gjnufpgtd7h7y3pmap6fhn/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/zlib-1.2.11-jgaeca4brdhqqd3tk4vsy7etd7azclu5/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/ncurses-6.0-tl5ltx7x4ueresy6xopqyix3lndtl7qd/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/libedit-3.1-20170329-ovcsb2cxqlt637dldgrdso7niiachx23/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/python-2.7.14-nw46rv7gek2p7ecd5uejcijjhnyci3y4/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/gdbm-1.14.1-tzjntbfadiktwjikpvp5s3vkauni22fg/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/readline-7.0-btu7e3buxtljkwbasitlu272akon36no/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/openssl-1.0.2n-htziaklxroesro3u3uvf76brn4p3jjdt/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/sqlite-3.22.0-svxa2qbh76momtkyncjveonkr6wxnokz/lib;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/pcre-8.41-rqtuqsqizazl3le2gl53wew63d3yj72t/lib' '-DCMAKE_PREFIX_PATH:STRING=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/cmake-3.11.1-t5c5kjxtmcqrw3luyshq6zxhl3dpvfjj;/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47' '-DWITH_WERROR=OFF' '-DCMAKE_C_COMPILER=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47/bin/clang' '-DCMAKE_CXX_COMPILER=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47/bin/clang++' '-DCMAKE_Fortran_COMPILER=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47/bin/flang' '-DFLANG_LIBOMP=/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/llvm-5.0.0-u6ocpzypgfwqhutqdgxbruxx5pi2kn47/lib/libomp.dylib'\r\nUnsupported OS: Darwin\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CMAKE_CXX_COMPILER\r\n    CMAKE_C_COMPILER\r\n    CMAKE_FIND_APPBUNDLE\r\n    CMAKE_FIND_FRAMEWORK\r\n    CMAKE_Fortran_COMPILER\r\n    CMAKE_PREFIX_PATH\r\n    FLANG_LIBOMP\r\n    WITH_WERROR\r\n\r\n\r\n-- Build files have been written to: /private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build\r\n==> Executing phase: 'build'\r\n==> 'make' '-j8'\r\n/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/cmake-3.11.1-t5c5kjxtmcqrw3luyshq6zxhl3dpvfjj/bin/cmake -H/Users/adener/Developer/spack/var/spack/stage/flang-develop-qmpbpgfcfuqc2t4vct46la7mwlpydf6s/flang -B/private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build --check-build-system CMakeFiles/Makefile.cmake 0\r\n/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/cmake-3.11.1-t5c5kjxtmcqrw3luyshq6zxhl3dpvfjj/bin/cmake -E cmake_progress_start /private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build/CMakeFiles /private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build/CMakeFiles/progress.marks\r\nmake -f CMakeFiles/Makefile2 all\r\nmake[1]: Entering directory '/private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build'\r\nmake[1]: Nothing to be done for 'all'.\r\nmake[1]: Leaving directory '/private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build'\r\n/Users/adener/Developer/spack/opt/spack/darwin-highsierra-x86_64/clang-9.1.0-apple/cmake-3.11.1-t5c5kjxtmcqrw3luyshq6zxhl3dpvfjj/bin/cmake -E cmake_progress_start /private/var/folders/jm/2wl7kbvd0fg_p582g8n4j5m80000gn/T/adener/spack-stage/spack-stage-3lpm31lc/flang/spack-build/CMakeFiles 0\r\n==> Executing phase: 'install'\r\n==> 'make' '-j8' 'install'\r\nmake: *** No rule to make target 'install'.  Stop.\r\n```",
    "performed_via_github_app": null
}