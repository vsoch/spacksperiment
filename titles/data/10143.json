{
    "url": "https://api.github.com/repos/spack/spack/issues/10143",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10143/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10143/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10143/events",
    "html_url": "https://github.com/spack/spack/issues/10143",
    "id": 392353705,
    "node_id": "MDU6SXNzdWUzOTIzNTM3MDU=",
    "number": 10143,
    "title": "Installation issue: lmod  -- build error with patch for libbsd on rhel7",
    "user": {
        "login": "mforde84",
        "id": 20908622,
        "node_id": "MDQ6VXNlcjIwOTA4NjIy",
        "avatar_url": "https://avatars.githubusercontent.com/u/20908622?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mforde84",
        "html_url": "https://github.com/mforde84",
        "followers_url": "https://api.github.com/users/mforde84/followers",
        "following_url": "https://api.github.com/users/mforde84/following{/other_user}",
        "gists_url": "https://api.github.com/users/mforde84/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mforde84/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mforde84/subscriptions",
        "organizations_url": "https://api.github.com/users/mforde84/orgs",
        "repos_url": "https://api.github.com/users/mforde84/repos",
        "events_url": "https://api.github.com/users/mforde84/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mforde84/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 620268714,
            "node_id": "MDU6TGFiZWw2MjAyNjg3MTQ=",
            "url": "https://api.github.com/repos/spack/spack/labels/patch",
            "name": "patch",
            "color": "5319e7",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-12-18T21:59:40Z",
    "updated_at": "2018-12-19T17:37:12Z",
    "closed_at": "2018-12-19T17:37:12Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Sorry I'm very new to spack, and I'm running into some patch issues trying to install lmod to a rhel7 machine.\r\n\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ vagrant init generic/rhel7\r\n$ vagrant ssh\r\n$ cd opt;\r\n$ git clone https://github.com/spack/spack\r\n$ cd spack\r\n$ export SPACK_ROOT=$PWD\r\n$ export PATH=$SPACK_ROOT/bin:$PATH\r\n$ . $SPACK_ROOT/share/spack/setup-env.sh\r\n$ spack install lmod\r\n... errors out\r\n\r\n[root@controller spack]# spack spec lmod\r\nInput spec\r\n--------------------------------\r\nlmod\r\n\r\nConcretized\r\n--------------------------------\r\nlmod@7.8%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n    ^lua@5.3.4%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n        ^ncurses@6.1%gcc@4.8.5~symlinks~termlib arch=linux-rhel7-x86_64 \r\n            ^pkgconf@1.5.4%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n        ^readline@7.0%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n        ^unzip@6.0%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n    ^lua-luafilesystem@1_6_3%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n        ^git@2.20.1%gcc@4.8.5~tcltk arch=linux-rhel7-x86_64 \r\n            ^autoconf@2.69%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n                ^m4@1.4.18%gcc@4.8.5 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-rhel7-x86_64 \r\n                    ^libsigsegv@2.11%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n                ^perl@5.26.2%gcc@4.8.5+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-rhel7-x86_64 \r\n                    ^gdbm@1.18.1%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n            ^automake@1.16.1%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n            ^curl@7.60.0%gcc@4.8.5~darwinssl~libssh~libssh2~nghttp2 arch=linux-rhel7-x86_64 \r\n                ^openssl@1.1.1%gcc@4.8.5+systemcerts arch=linux-rhel7-x86_64 \r\n                    ^zlib@1.2.11%gcc@4.8.5+optimize+pic+shared arch=linux-rhel7-x86_64 \r\n            ^expat@2.2.5%gcc@4.8.5+libbsd arch=linux-rhel7-x86_64 \r\n                ^libbsd@0.9.1%gcc@4.8.5 patches=aaae81b3edc29362a94770cc235f1eb6d6f84bb6168c4084a7376a09a2ae93c2 arch=linux-rhel7-x86_64 \r\n            ^gettext@0.19.8.1%gcc@4.8.5+bzip2+curses+git~libunistring+libxml2 patches=9acdb4e73f67c241b5ef32505c9ddf7cf6884ca8ea661692f21dca28483b04b8 +tar+xz arch=linux-rhel7-x86_64 \r\n                ^bzip2@1.0.6%gcc@4.8.5+shared arch=linux-rhel7-x86_64 \r\n                    ^diffutils@3.6%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n                ^libxml2@2.9.8%gcc@4.8.5~python arch=linux-rhel7-x86_64 \r\n                    ^xz@5.2.4%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n                ^tar@1.30%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n            ^libiconv@1.15%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n            ^libtool@2.4.6%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n            ^pcre@8.42%gcc@4.8.5+jit+utf arch=linux-rhel7-x86_64 \r\n    ^lua-luaposix@33.4.0%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n    ^tcl@8.6.8%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n\r\n[root@controller spack]# spack install libbsd\r\n==> Installing libbsd\r\n==> Searching for binary cache of libbsd\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for libbsd found: installing from source\r\n==> Using cached archive: /opt/spack/var/spack/cache/libbsd/libbsd-0.9.1.tar.xz\r\n==> Staging archive: /opt/spack/var/spack/stage/libbsd-0.9.1-r3trfta3vmqcxxbzsacgagk7hiaiau3s/libbsd-0.9.1.tar.xz\r\n==> Created stage in /opt/spack/var/spack/stage/libbsd-0.9.1-r3trfta3vmqcxxbzsacgagk7hiaiau3s\r\n1 out of 1 hunk FAILED -- saving rejects to file include/bsd/sys/cdefs.h.rej\r\n==> Patch cdefs.h.patch failed.\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/bin/patch' '-s' '-p' '1' '-i' '/opt/spack/var/spack/repos/builtin/packages/libbsd/cdefs.h.patch' '-d' '.'\r\n\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\n$ uname -a \r\nLinux controller 3.10.0-862.el7.x86_64 #1 SMP Wed Mar 21 18:14:51 EDT 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n$ cat /etc/system-release\r\nRed Hat Enterprise Linux Server release 7.6 (Maipo)\r\n\r\n``` \r\nand, if relevant, post or attach:\r\n\r\n- `packages.yaml`\r\n- `compilers.yaml`\r\n\r\nto the issue \r\n\r\nNot entirely clear where these are located?\r\n\r\n### Additional information\r\n\r\nSometimes the issue benefits from additional details. In these cases there are\r\na few things we can suggest doing. First of all, you can post the full output of:\r\n```console\r\n$ spack spec --install-status lmod\r\n[root@controller etc]# spack spec --install-status lmod\r\nInput spec\r\n--------------------------------\r\n -   lmod\r\n\r\nConcretized\r\n--------------------------------\r\n -   lmod@7.8%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]      ^lua@5.3.4%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]          ^ncurses@6.1%gcc@4.8.5~symlinks~termlib arch=linux-rhel7-x86_64 \r\n[+]              ^pkgconf@1.5.4%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]          ^readline@7.0%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]          ^unzip@6.0%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -       ^lua-luafilesystem@1_6_3%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -           ^git@2.20.1%gcc@4.8.5~tcltk arch=linux-rhel7-x86_64 \r\n[+]              ^autoconf@2.69%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]                  ^m4@1.4.18%gcc@4.8.5 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-rhel7-x86_64 \r\n[+]                      ^libsigsegv@2.11%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]                  ^perl@5.26.2%gcc@4.8.5+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-rhel7-x86_64 \r\n[+]                      ^gdbm@1.18.1%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]              ^automake@1.16.1%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]              ^curl@7.60.0%gcc@4.8.5~darwinssl~libssh~libssh2~nghttp2 arch=linux-rhel7-x86_64 \r\n[+]                  ^openssl@1.1.1%gcc@4.8.5+systemcerts arch=linux-rhel7-x86_64 \r\n[+]                      ^zlib@1.2.11%gcc@4.8.5+optimize+pic+shared arch=linux-rhel7-x86_64 \r\n -               ^expat@2.2.5%gcc@4.8.5+libbsd arch=linux-rhel7-x86_64 \r\n -                   ^libbsd@0.9.1%gcc@4.8.5 patches=aaae81b3edc29362a94770cc235f1eb6d6f84bb6168c4084a7376a09a2ae93c2 arch=linux-rhel7-x86_64 \r\n -               ^gettext@0.19.8.1%gcc@4.8.5+bzip2+curses+git~libunistring+libxml2 patches=9acdb4e73f67c241b5ef32505c9ddf7cf6884ca8ea661692f21dca28483b04b8 +tar+xz arch=linux-rhel7-x86_64 \r\n -                   ^bzip2@1.0.6%gcc@4.8.5+shared arch=linux-rhel7-x86_64 \r\n -                       ^diffutils@3.6%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -                   ^libxml2@2.9.8%gcc@4.8.5~python arch=linux-rhel7-x86_64 \r\n -                       ^xz@5.2.4%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -                   ^tar@1.30%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -               ^libiconv@1.15%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -               ^libtool@2.4.6%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n -               ^pcre@8.42%gcc@4.8.5+jit+utf arch=linux-rhel7-x86_64 \r\n -       ^lua-luaposix@33.4.0%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n[+]      ^tcl@8.6.8%gcc@4.8.5 arch=linux-rhel7-x86_64 \r\n...\r\n```\r\nto show people whether Spack installed a faulty software or if it was not able to\r\nbuild it at all. \r\n\r\nIf your build didn't make it past the configure stage, Spack as also commands to parse \r\nlogs and report error and warning messages:\r\n```console\r\n$ spack log-parse --show=errors,warnings <file-to-parse>\r\n```\r\nYou might want to run this command on the `config.log` or any other similar file\r\nfound in the stage directory: \r\n```console\r\n[root@controller spack]# spack location -s lmod\r\n/opt/spack/var/spack/stage/lmod-7.8-tf4lqsqo4ffijreb4ssbf3tpjqb3kkxb\r\n```\r\nIn case in `config.log` there are other settings that you think might be the cause \r\nof the build failure, you can consider attaching the file to this issue.\r\n```console\r\n[root@controller spack]# ll /opt/spack/var/spack/stage/lmod-7.8-tf4lqsqo4ffijreb4ssbf3tpjqb3kkxb/\r\ntotal 0\r\n```\r\nRebuilding the package with the following options:\r\n```console\r\n[root@controller etc]# spack -d install -j 1 lmod\r\n==> Reading config file /opt/spack/etc/spack/defaults/modules.yaml\r\n==> Reading config file /opt/spack/etc/spack/defaults/linux/modules.yaml\r\n==> Reading config file /opt/spack/etc/spack/defaults/config.yaml\r\n==> Reading config file /opt/spack/etc/spack/defaults/repos.yaml\r\n==> Reading config file /opt/spack/etc/spack/defaults/packages.yaml\r\n==> READ LOCK: /root/.spack/cache/providers/.builtin-index.yaml.lock[0:0] [Acquiring]\r\n==> READ LOCK: /root/.spack/cache/providers/.builtin-index.yaml.lock[0:0] [Acquired]\r\n==> READ LOCK: /root/.spack/cache/providers/.builtin-index.yaml.lock[0:0] [Released]\r\n==> Reading config file /root/.spack/linux/compilers.yaml\r\n==> DATABASE LOCK TIMEOUT: 120s\r\n==> PACKAGE LOCK TIMEOUT: No timeout\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5529395756612494658:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5529395756612494658:1] [Acquired]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/lock[0:0] [Acquired]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/lock[0:0] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5529395756612494658:1] [Released]\r\n==> link /opt/spack/var/spack/stage/lmod-7.8-tf4lqsqo4ffijreb4ssbf3tpjqb3kkxb -> /tmp/root/spack-stage/spack-stage-0e6ZGk\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5529395756612494658:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5529395756612494658:1] [Acquired]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5529395756612494658:1] [Released]\r\n==> Installing lmod dependencies\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3306097597550001336:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3306097597550001336:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3306097597550001336:1] [Released]\r\n==> link /opt/spack/var/spack/stage/pkgconf-1.5.4-lpbty7z5pl4xcz5espjf3q3lwhmcbkxq -> /tmp/root/spack-stage/spack-stage-4gdOOu\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3306097597550001336:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3306097597550001336:1] [Acquired]\r\n==> pkgconf is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/pkgconf-1.5.4-lpbty7z5pl4xcz5espjf3q3lwhmcbkxq\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3306097597550001336:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6437916248499161147:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6437916248499161147:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6437916248499161147:1] [Released]\r\n==> link /opt/spack/var/spack/stage/ncurses-6.1-wkyck363aqihprfuuiipgdmzt6vjk6nk -> /tmp/root/spack-stage/spack-stage-5hJtw5\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6437916248499161147:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6437916248499161147:1] [Acquired]\r\n==> ncurses is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/ncurses-6.1-wkyck363aqihprfuuiipgdmzt6vjk6nk\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6437916248499161147:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5238252783809966745:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5238252783809966745:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5238252783809966745:1] [Released]\r\n==> link /opt/spack/var/spack/stage/readline-7.0-sfsamtunmnste5uxxmlvskfkjz7uhbcj -> /tmp/root/spack-stage/spack-stage-TuUXGs\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5238252783809966745:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5238252783809966745:1] [Acquired]\r\n==> readline is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/readline-7.0-sfsamtunmnste5uxxmlvskfkjz7uhbcj\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5238252783809966745:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1703220015039601267:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1703220015039601267:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1703220015039601267:1] [Released]\r\n==> link /opt/spack/var/spack/stage/unzip-6.0-f5dbwkgfrk2oov7xbetny3qhhbkegfmj -> /tmp/root/spack-stage/spack-stage-apg2QU\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1703220015039601267:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1703220015039601267:1] [Acquired]\r\n==> unzip is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/unzip-6.0-f5dbwkgfrk2oov7xbetny3qhhbkegfmj\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1703220015039601267:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[8265281426144169521:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[8265281426144169521:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[8265281426144169521:1] [Released]\r\n==> link /opt/spack/var/spack/stage/lua-5.3.4-4vufwvg35iogfmr5wmhwq5yo2maha7ja -> /tmp/root/spack-stage/spack-stage-io_sRT\r\n==> link /opt/spack/var/spack/stage/resource-luarocks-4vufwvg35iogfmr5wmhwq5yo2maha7ja -> /tmp/root/spack-stage/spack-stage-1fne9l\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[8265281426144169521:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[8265281426144169521:1] [Acquired]\r\n==> lua is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/lua-5.3.4-4vufwvg35iogfmr5wmhwq5yo2maha7ja\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[8265281426144169521:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[7798185437166155213:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[7798185437166155213:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[7798185437166155213:1] [Released]\r\n==> link /opt/spack/var/spack/stage/libsigsegv-2.11-3byxblkv2nvzumj3wk5cbzyud5hpjdlv -> /tmp/root/spack-stage/spack-stage-KrZk1O\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[7798185437166155213:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[7798185437166155213:1] [Acquired]\r\n==> libsigsegv is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/libsigsegv-2.11-3byxblkv2nvzumj3wk5cbzyud5hpjdlv\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[7798185437166155213:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1579839987092468803:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1579839987092468803:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1579839987092468803:1] [Released]\r\n==> link /opt/spack/var/spack/stage/m4-1.4.18-fpmxamrbgvuinzjofvamktlmzzqq347t -> /tmp/root/spack-stage/spack-stage-k9RvoT\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1579839987092468803:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1579839987092468803:1] [Acquired]\r\n==> m4 is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/m4-1.4.18-fpmxamrbgvuinzjofvamktlmzzqq347t\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[1579839987092468803:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6093679930026684944:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6093679930026684944:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6093679930026684944:1] [Released]\r\n==> link /opt/spack/var/spack/stage/gdbm-1.18.1-verdgofikxsccbgxxozvdsrnewnc6jgh -> /tmp/root/spack-stage/spack-stage-KLGWeY\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6093679930026684944:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6093679930026684944:1] [Acquired]\r\n==> gdbm is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/gdbm-1.18.1-verdgofikxsccbgxxozvdsrnewnc6jgh\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6093679930026684944:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6349191301999206016:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6349191301999206016:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6349191301999206016:1] [Released]\r\n==> link /opt/spack/var/spack/stage/perl-5.26.2-wa43pmynkm6qb5j7yi7mxo45jmrmi5iz -> /tmp/root/spack-stage/spack-stage-E0ac5e\r\n==> link /opt/spack/var/spack/stage/resource-cpanm-wa43pmynkm6qb5j7yi7mxo45jmrmi5iz -> /tmp/root/spack-stage/spack-stage-y1uMNC\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6349191301999206016:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6349191301999206016:1] [Acquired]\r\n==> perl is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/perl-5.26.2-wa43pmynkm6qb5j7yi7mxo45jmrmi5iz\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6349191301999206016:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[51853771843487525:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[51853771843487525:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[51853771843487525:1] [Released]\r\n==> link /opt/spack/var/spack/stage/autoconf-2.69-afyhc5rf7whevgknfmn5bwtv6dxde2wi -> /tmp/root/spack-stage/spack-stage-OhmGVk\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[51853771843487525:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[51853771843487525:1] [Acquired]\r\n==> autoconf is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/autoconf-2.69-afyhc5rf7whevgknfmn5bwtv6dxde2wi\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[51853771843487525:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[374898105021230744:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[374898105021230744:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[374898105021230744:1] [Released]\r\n==> link /opt/spack/var/spack/stage/automake-1.16.1-bjt47lrrqpotdgeauyinhmgkzi4skkkk -> /tmp/root/spack-stage/spack-stage-NavqCO\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[374898105021230744:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[374898105021230744:1] [Acquired]\r\n==> automake is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/automake-1.16.1-bjt47lrrqpotdgeauyinhmgkzi4skkkk\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[374898105021230744:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6122994731022097757:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6122994731022097757:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6122994731022097757:1] [Released]\r\n==> link /opt/spack/var/spack/stage/zlib-1.2.11-vhzh5cfaki5lx5sjuth5iuojq5azdkbd -> /tmp/root/spack-stage/spack-stage-7eeeXm\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6122994731022097757:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6122994731022097757:1] [Acquired]\r\n==> zlib is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/zlib-1.2.11-vhzh5cfaki5lx5sjuth5iuojq5azdkbd\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[6122994731022097757:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5908120669360253833:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5908120669360253833:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5908120669360253833:1] [Released]\r\n==> link /opt/spack/var/spack/stage/openssl-1.1.1-up53rzdwxdlrf4gtat6zrew4vc5hhjgd -> /tmp/root/spack-stage/spack-stage-dzOeWu\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5908120669360253833:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5908120669360253833:1] [Acquired]\r\n==> openssl is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/openssl-1.1.1-up53rzdwxdlrf4gtat6zrew4vc5hhjgd\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5908120669360253833:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3607452505321571133:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3607452505321571133:1] [Acquired]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3607452505321571133:1] [Released]\r\n==> link /opt/spack/var/spack/stage/curl-7.60.0-mqqh3ymhsidhuj7cyy4nexpq3zi7jwbp -> /tmp/root/spack-stage/spack-stage-TX0Tfm\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3607452505321571133:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3607452505321571133:1] [Acquired]\r\n==> curl is already installed in /opt/spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/curl-7.60.0-mqqh3ymhsidhuj7cyy4nexpq3zi7jwbp\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[3607452505321571133:1] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5148609870426378261:1] [Acquiring]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5148609870426378261:1] [Acquired]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/lock[0:0] [Acquired]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/lock[0:0] [Released]\r\n==> WRITE LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5148609870426378261:1] [Released]\r\n==> link /opt/spack/var/spack/stage/libbsd-0.9.1-r3trfta3vmqcxxbzsacgagk7hiaiau3s -> /tmp/root/spack-stage/spack-stage-8GTdOX\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5148609870426378261:1] [Acquiring]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5148609870426378261:1] [Acquired]\r\n==> READ LOCK: /opt/spack/opt/spack/.spack-db/prefix_lock[5148609870426378261:1] [Released]\r\n==> Installing libbsd\r\n==> Searching for binary cache of libbsd\r\n==> Reading config file /root/.spack/linux/mirrors.yaml\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for libbsd found: installing from source\r\n==> Using cached archive: /opt/spack/var/spack/cache/libbsd/libbsd-0.9.1.tar.xz\r\n==> Staging archive: /opt/spack/var/spack/stage/libbsd-0.9.1-r3trfta3vmqcxxbzsacgagk7hiaiau3s/libbsd-0.9.1.tar.xz\r\n==> '/bin/tar' '-xf' '/opt/spack/var/spack/stage/libbsd-0.9.1-r3trfta3vmqcxxbzsacgagk7hiaiau3s/libbsd-0.9.1.tar.xz'\r\n==> Created stage in /opt/spack/var/spack/stage/libbsd-0.9.1-r3trfta3vmqcxxbzsacgagk7hiaiau3s\r\n==> '/bin/patch' '-s' '-p' '1' '-i' '/opt/spack/var/spack/repos/builtin/packages/libbsd/cdefs.h.patch' '-d' '.'\r\n1 out of 1 hunk FAILED -- saving rejects to file include/bsd/sys/cdefs.h.rej\r\n==> Patch cdefs.h.patch failed.\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/bin/patch' '-s' '-p' '1' '-i' '/opt/spack/var/spack/repos/builtin/packages/libbsd/cdefs.h.patch' '-d' '.'\r\nTraceback (most recent call last):\r\n  File \"/opt/spack/lib/spack/spack/build_environment.py\", line 731, in child_process\r\n    return_value = function()\r\n  File \"/opt/spack/lib/spack/spack/package.py\", line 1437, in build_process\r\n    self.do_patch()\r\n  File \"/opt/spack/lib/spack/spack/package.py\", line 1015, in do_patch\r\n    patch.apply(self.stage)\r\n  File \"/opt/spack/lib/spack/spack/patch.py\", line 85, in apply\r\n    \"-d\", self.working_dir)\r\n  File \"/opt/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n    proc.returncode, long_msg)\r\nProcessError: Command exited with status 1:\r\n    '/bin/patch' '-s' '-p' '1' '-i' '/opt/spack/var/spack/repos/builtin/packages/libbsd/cdefs.h.patch' '-d' '.'\r\n...\r\n```\r\n",
    "performed_via_github_app": null
}