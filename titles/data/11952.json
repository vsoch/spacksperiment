{
    "url": "https://api.github.com/repos/spack/spack/issues/11952",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/11952/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/11952/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/11952/events",
    "html_url": "https://github.com/spack/spack/pull/11952",
    "id": 465321202,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk1Mzg2NDE5",
    "number": 11952,
    "title": "Add additional options to GROMACS",
    "user": {
        "login": "victorusu",
        "id": 15230430,
        "node_id": "MDQ6VXNlcjE1MjMwNDMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15230430?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/victorusu",
        "html_url": "https://github.com/victorusu",
        "followers_url": "https://api.github.com/users/victorusu/followers",
        "following_url": "https://api.github.com/users/victorusu/following{/other_user}",
        "gists_url": "https://api.github.com/users/victorusu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/victorusu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/victorusu/subscriptions",
        "organizations_url": "https://api.github.com/users/victorusu/orgs",
        "repos_url": "https://api.github.com/users/victorusu/repos",
        "events_url": "https://api.github.com/users/victorusu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/victorusu/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2019-07-08T15:24:41Z",
    "updated_at": "2020-07-27T07:00:37Z",
    "closed_at": "2020-07-27T07:00:36Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/11952",
        "html_url": "https://github.com/spack/spack/pull/11952",
        "diff_url": "https://github.com/spack/spack/pull/11952.diff",
        "patch_url": "https://github.com/spack/spack/pull/11952.patch"
    },
    "body": "This PR adds additional options used to install GROMACS at CSCS. \r\n* The `subcounters` options add additional statistical information at the end of GROMACS output, which give hint to users on the directions of setting the correct number of MPI ranks, OpenMP threads and PME nodes. This does not add time to the simulations, since these statistics are only computed after the md loop has finished.\r\n* The `own_fftw` options add the possibility of allowing GROMACS to install FFTW. At least on the systems that we have tested at CSCS, this option generates a executable that runs up-to 5% faster when using PME.\r\n* The `omp_max_threads` options allows to change the number of OpenMP threads. By default GROMACS sets it to 64. We have systems with more than that number of cores. The number of OpenMP threads has to be a multiple of 32, in this case, I have given the possibility to choose between `auto` (let GROMACS set it), `64`, `128` and `256`.\r\n* The `static` option adds the CMake option `-DGMX_PREFER_STATIC_LIB=ON` to GROMACS build. This generates static binaries and it is the advised way of compiling on a Cray (http://manual.gromacs.org/documentation/2019.3/install-guide/index.html#building-on-cray). However, some tests on other non-Cray systems have shown that for some input files this option  generates a executable that runs up-to 10% faster.\r\n* The `mdrun_only` options adds the possibility to build/install only the `mdrun` executable.",
    "performed_via_github_app": null
}