{
    "url": "https://api.github.com/repos/spack/spack/issues/24573",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24573/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24573/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24573/events",
    "html_url": "https://github.com/spack/spack/pull/24573",
    "id": 931994016,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Njc5NDA1MjM5",
    "number": 24573,
    "title": "py-numpy: conflict with gcc11 and switch master to main",
    "user": {
        "login": "manuelakuhn",
        "id": 36827019,
        "node_id": "MDQ6VXNlcjM2ODI3MDE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36827019?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/manuelakuhn",
        "html_url": "https://github.com/manuelakuhn",
        "followers_url": "https://api.github.com/users/manuelakuhn/followers",
        "following_url": "https://api.github.com/users/manuelakuhn/following{/other_user}",
        "gists_url": "https://api.github.com/users/manuelakuhn/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/manuelakuhn/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/manuelakuhn/subscriptions",
        "organizations_url": "https://api.github.com/users/manuelakuhn/orgs",
        "repos_url": "https://api.github.com/users/manuelakuhn/repos",
        "events_url": "https://api.github.com/users/manuelakuhn/events{/privacy}",
        "received_events_url": "https://api.github.com/users/manuelakuhn/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 881436839,
            "node_id": "MDU6TGFiZWw4ODE0MzY4Mzk=",
            "url": "https://api.github.com/repos/spack/spack/labels/conflicts",
            "name": "conflicts",
            "color": "92efd2",
            "default": false,
            "description": ""
        },
        {
            "id": 446616788,
            "node_id": "MDU6TGFiZWw0NDY2MTY3ODg=",
            "url": "https://api.github.com/repos/spack/spack/labels/new-version",
            "name": "new-version",
            "color": "0e8a16",
            "default": false,
            "description": null
        },
        {
            "id": 446619758,
            "node_id": "MDU6TGFiZWw0NDY2MTk3NTg=",
            "url": "https://api.github.com/repos/spack/spack/labels/python",
            "name": "python",
            "color": "c2e0c6",
            "default": false,
            "description": null
        },
        {
            "id": 729584669,
            "node_id": "MDU6TGFiZWw3Mjk1ODQ2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/update-package",
            "name": "update-package",
            "color": "c68137",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "adamjstewart",
            "id": 12021217,
            "node_id": "MDQ6VXNlcjEyMDIxMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adamjstewart",
            "html_url": "https://github.com/adamjstewart",
            "followers_url": "https://api.github.com/users/adamjstewart/followers",
            "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
            "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
            "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
            "repos_url": "https://api.github.com/users/adamjstewart/repos",
            "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2021-06-28T21:06:48Z",
    "updated_at": "2021-07-02T20:31:31Z",
    "closed_at": "2021-06-29T21:40:32Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/24573",
        "html_url": "https://github.com/spack/spack/pull/24573",
        "diff_url": "https://github.com/spack/spack/pull/24573.diff",
        "patch_url": "https://github.com/spack/spack/pull/24573.patch"
    },
    "body": "This fixes the syntax of the conflict between numpy 1.21.0 and gcc11 so that the clingo concretizer recognizes it (see below).\r\nIn addition the upstream master branch was renamed to main.\r\n\r\n\r\nConcretization before:\r\n```\r\n$ spack spec py-numpy\r\nInput spec\r\n--------------------------------\r\npy-numpy\r\n\r\nConcretized\r\n--------------------------------\r\npy-numpy@1.21.0%gcc@11.1.0+blas+lapack patches=873745d7b547857fcfec9cae90b09c133b42a4f0c23b6c2d84cf37e2dd816604 arch=linux-fedora32-haswell\r\n    ^openblas@0.3.15%gcc@11.1.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared threads=none arch=linux-fedora32-haswell\r\n        ^perl@5.34.0%gcc@11.1.0+cpanm+shared+threads arch=linux-fedora32-haswell\r\n            ^berkeley-db@18.1.40%gcc@11.1.0+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-fedora32-haswell\r\n            ^gdbm@1.19%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^readline@8.1%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                    ^ncurses@6.2%gcc@11.1.0~symlinks+termlib abi=none arch=linux-fedora32-haswell\r\n                        ^pkgconf@1.7.4%gcc@11.1.0 arch=linux-fedora32-haswell\r\n    ^py-cython@0.29.22%gcc@11.1.0 arch=linux-fedora32-haswell\r\n        ^py-setuptools@50.3.2%gcc@11.1.0 arch=linux-fedora32-haswell\r\n            ^python@3.8.10%gcc@11.1.0+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87 arch=linux-fedora32-haswell\r\n                ^bzip2@1.0.8%gcc@11.1.0~debug~pic+shared arch=linux-fedora32-haswell\r\n                    ^diffutils@3.7%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                        ^libiconv@1.16%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^expat@2.3.0%gcc@11.1.0+libbsd arch=linux-fedora32-haswell\r\n                    ^libbsd@0.11.3%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                        ^libmd@1.0.3%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^gettext@0.21%gcc@11.1.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-fedora32-haswell\r\n                    ^libxml2@2.9.10%gcc@11.1.0~python arch=linux-fedora32-haswell\r\n                        ^xz@5.2.5%gcc@11.1.0~pic libs=shared,static arch=linux-fedora32-haswell\r\n                        ^zlib@1.2.11%gcc@11.1.0+optimize+pic+shared arch=linux-fedora32-haswell\r\n                    ^tar@1.34%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^libffi@3.3%gcc@11.1.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=linux-fedora32-haswell\r\n                ^openssl@1.1.1k%gcc@11.1.0~docs+systemcerts arch=linux-fedora32-haswell\r\n                ^sqlite@3.35.5%gcc@11.1.0+column_metadata+fts~functions~rtree arch=linux-fedora32-haswell\r\n                ^util-linux-uuid@2.36.2%gcc@11.1.0 arch=linux-fedora32-haswell\r\n```\r\n-> still uses gcc together with numpy 1.21.0\r\n\r\nConcretization after:\r\n```\r\n$ spack spec py-numpy\r\nInput spec\r\n--------------------------------\r\npy-numpy\r\n\r\nConcretized\r\n--------------------------------\r\npy-numpy@1.21.0%gcc@10.2.1+blas+lapack patches=873745d7b547857fcfec9cae90b09c133b42a4f0c23b6c2d84cf37e2dd816604 arch=linux-fedora32-haswell\r\n    ^openblas@0.3.15%gcc@10.2.1~bignuma~consistent_fpcsr~ilp64+locking+pic+shared threads=none arch=linux-fedora32-haswell\r\n        ^perl@5.34.0%gcc@10.2.1+cpanm+shared+threads arch=linux-fedora32-haswell\r\n            ^berkeley-db@18.1.40%gcc@10.2.1+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-fedora32-haswell\r\n            ^gdbm@1.19%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                ^readline@8.1%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                    ^ncurses@6.2%gcc@10.2.1~symlinks+termlib abi=none arch=linux-fedora32-haswell\r\n                        ^pkgconf@1.7.4%gcc@10.2.1 arch=linux-fedora32-haswell\r\n    ^py-cython@0.29.22%gcc@10.2.1 arch=linux-fedora32-haswell\r\n        ^py-setuptools@50.3.2%gcc@10.2.1 arch=linux-fedora32-haswell\r\n            ^python@3.8.10%gcc@10.2.1+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87 arch=linux-fedora32-haswell\r\n                ^bzip2@1.0.8%gcc@10.2.1~debug~pic+shared arch=linux-fedora32-haswell\r\n                    ^diffutils@3.7%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                        ^libiconv@1.16%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                ^expat@2.3.0%gcc@10.2.1+libbsd arch=linux-fedora32-haswell\r\n                    ^libbsd@0.11.3%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                        ^libmd@1.0.3%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                ^gettext@0.21%gcc@10.2.1+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-fedora32-haswell\r\n                    ^libxml2@2.9.10%gcc@10.2.1~python arch=linux-fedora32-haswell\r\n                        ^xz@5.2.5%gcc@10.2.1~pic libs=shared,static arch=linux-fedora32-haswell\r\n                        ^zlib@1.2.11%gcc@10.2.1+optimize+pic+shared arch=linux-fedora32-haswell\r\n                    ^tar@1.34%gcc@10.2.1 arch=linux-fedora32-haswell\r\n                ^libffi@3.3%gcc@10.2.1 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=linux-fedora32-haswell\r\n                ^openssl@1.1.1k%gcc@10.2.1~docs+systemcerts arch=linux-fedora32-haswell\r\n                ^sqlite@3.35.5%gcc@10.2.1+column_metadata+fts~functions~rtree arch=linux-fedora32-haswell\r\n                ^util-linux-uuid@2.36.2%gcc@10.2.1 arch=linux-fedora32-haswell\r\n```\r\n-> downgrades gcc\r\nresp.:\r\n```\r\n$ spack spec py-numpy %gcc@11.1.0\r\nInput spec\r\n--------------------------------\r\npy-numpy%gcc@11.1.0\r\n\r\nConcretized\r\n--------------------------------\r\npy-numpy@1.20.3%gcc@11.1.0+blas+lapack patches=873745d7b547857fcfec9cae90b09c133b42a4f0c23b6c2d84cf37e2dd816604 arch=linux-fedora32-haswell\r\n    ^openblas@0.3.15%gcc@11.1.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared threads=none arch=linux-fedora32-haswell\r\n        ^perl@5.34.0%gcc@11.1.0+cpanm+shared+threads arch=linux-fedora32-haswell\r\n            ^berkeley-db@18.1.40%gcc@11.1.0+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-fedora32-haswell\r\n            ^gdbm@1.19%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^readline@8.1%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                    ^ncurses@6.2%gcc@11.1.0~symlinks+termlib abi=none arch=linux-fedora32-haswell\r\n                        ^pkgconf@1.7.4%gcc@11.1.0 arch=linux-fedora32-haswell\r\n    ^py-cython@0.29.22%gcc@11.1.0 arch=linux-fedora32-haswell\r\n        ^py-setuptools@50.3.2%gcc@11.1.0 arch=linux-fedora32-haswell\r\n            ^python@3.8.10%gcc@11.1.0+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87 arch=linux-fedora32-haswell\r\n                ^bzip2@1.0.8%gcc@11.1.0~debug~pic+shared arch=linux-fedora32-haswell\r\n                    ^diffutils@3.7%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                        ^libiconv@1.16%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^expat@2.3.0%gcc@11.1.0+libbsd arch=linux-fedora32-haswell\r\n                    ^libbsd@0.11.3%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                        ^libmd@1.0.3%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^gettext@0.21%gcc@11.1.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-fedora32-haswell\r\n                    ^libxml2@2.9.10%gcc@11.1.0~python arch=linux-fedora32-haswell\r\n                        ^xz@5.2.5%gcc@11.1.0~pic libs=shared,static arch=linux-fedora32-haswell\r\n                        ^zlib@1.2.11%gcc@11.1.0+optimize+pic+shared arch=linux-fedora32-haswell\r\n                    ^tar@1.34%gcc@11.1.0 arch=linux-fedora32-haswell\r\n                ^libffi@3.3%gcc@11.1.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=linux-fedora32-haswell\r\n                ^openssl@1.1.1k%gcc@11.1.0~docs+systemcerts arch=linux-fedora32-haswell\r\n                ^sqlite@3.35.5%gcc@11.1.0+column_metadata+fts~functions~rtree arch=linux-fedora32-haswell\r\n                ^util-linux-uuid@2.36.2%gcc@11.1.0 arch=linux-fedora32-haswell\r\n```\r\n-> downgrades numpy",
    "performed_via_github_app": null
}