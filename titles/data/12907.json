{
    "url": "https://api.github.com/repos/spack/spack/issues/12907",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12907/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12907/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12907/events",
    "html_url": "https://github.com/spack/spack/issues/12907",
    "id": 496874911,
    "node_id": "MDU6SXNzdWU0OTY4NzQ5MTE=",
    "number": 12907,
    "title": "Installation issue: vim doesn't install correct version",
    "user": {
        "login": "jlconlin",
        "id": 1275437,
        "node_id": "MDQ6VXNlcjEyNzU0Mzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1275437?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jlconlin",
        "html_url": "https://github.com/jlconlin",
        "followers_url": "https://api.github.com/users/jlconlin/followers",
        "following_url": "https://api.github.com/users/jlconlin/following{/other_user}",
        "gists_url": "https://api.github.com/users/jlconlin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jlconlin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jlconlin/subscriptions",
        "organizations_url": "https://api.github.com/users/jlconlin/orgs",
        "repos_url": "https://api.github.com/users/jlconlin/repos",
        "events_url": "https://api.github.com/users/jlconlin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jlconlin/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-09-23T03:06:38Z",
    "updated_at": "2019-09-23T03:06:59Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install vim@8.1.0338 \r\n```\r\nThis does not generate any errors, but it doesn't install vim 8.1.x.\r\n```console\r\n$ spack load vim\r\n$ which vim\r\n/Users/jlconlin/spack/opt/spack/darwin-mojave-x86_64/clang-11.0.0/vim-8.1.0338-7oglfyutvypbsbrytrvjuszce74qlwmb/bin/vim\r\n$ vim --version\r\nVIM - Vi IMproved 8.0 (2016 Sep 12, compiled Feb 22 2019 19:03:04)\r\nIncluded patches: 1-503, 505-680, 682-1283\r\nCompiled by root@apple.com\r\nNormal version without GUI.  Features included (+) or not (-):\r\n+acl             +file_in_path    -mouse_sgr       +tag_old_static\r\n-arabic          +find_in_path    -mouse_sysmouse  -tag_any_white\r\n+autocmd         +float           -mouse_urxvt     -tcl\r\n-balloon_eval    +folding         +mouse_xterm     -termguicolors\r\n-browse          -footer          +multi_byte      -terminal\r\n+builtin_terms   +fork()          +multi_lang      +terminfo\r\n+byte_offset     -gettext         -mzscheme        +termresponse\r\n+channel         -hangul_input    +netbeans_intg   +textobjects\r\n+cindent         +iconv           +num64           +timers\r\n-clientserver    +insert_expand   +packages        +title\r\n-clipboard       +job             +path_extra      -toolbar\r\n+cmdline_compl   +jumplist        -perl            +user_commands\r\n+cmdline_hist    -keymap          +persistent_undo +vertsplit\r\n+cmdline_info    +lambda          +postscript      +virtualedit\r\n+comments        -langmap         +printer         +visual\r\n-conceal         +libcall         -profile         +visualextra\r\n+cryptv          +linebreak       +python/dyn      +viminfo\r\n+cscope          +lispindent      -python3         +vreplace\r\n+cursorbind      +listcmds        +quickfix        +wildignore\r\n+cursorshape     +localmap        +reltime         +wildmenu\r\n+dialog_con      -lua             -rightleft       +windows\r\n+diff            +menu            +ruby/dyn        +writebackup\r\n+digraphs        +mksession       +scrollbind      -X11\r\n-dnd             +modify_fname    +signs           -xfontset\r\n-ebcdic          +mouse           +smartindent     -xim\r\n-emacs_tags      -mouseshape      +startuptime     -xpm\r\n+eval            -mouse_dec       +statusline      -xsmp\r\n+ex_extra        -mouse_gpm       -sun_workshop    -xterm_clipboard\r\n+extra_search    -mouse_jsbterm   +syntax          -xterm_save\r\n-farsi           -mouse_netterm   +tag_binary      \r\n   system vimrc file: \"$VIM/vimrc\"\r\n     user vimrc file: \"$HOME/.vimrc\"\r\n 2nd user vimrc file: \"~/.vim/vimrc\"\r\n      user exrc file: \"$HOME/.exrc\"\r\n       defaults file: \"$VIMRUNTIME/defaults.vim\"\r\n  fall-back for $VIM: \"/usr/share/vim\"\r\nCompilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H   -DMACOS_X_UNIX  -g -O2 -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1      \r\nLinking: gcc   -L/usr/local/lib -o vim        -lm -lncurses  -liconv -framework Cocoa  \r\n```\r\n\r\nI also tried adding some options, but those were not honored either\r\n```console\r\nspack install vim@8.1.0338 huge=True gui=True\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\nDarwin loft1934449.lanl.gov 18.6.0 Darwin Kernel Version 18.6.0: Thu Apr 25 23:16:27 PDT 2019; root:xnu-4903.261.4~2/RELEASE_X86_64 x86_64\r\n``` \r\n\r\n### Additional information\r\n\r\nSometimes the issue benefits from additional details. In these cases there are\r\na few things we can suggest doing. First of all, you can post the full output of:\r\n```console\r\n$ spack spec --install-status vim\r\nInput spec\r\n--------------------------------\r\n -   vim\r\n\r\nConcretized\r\n--------------------------------\r\n -   vim@8.1.0338%clang@11.0.0~big~cscope~gui~huge~lua~normal~perl~python~ruby~small~tiny~x arch=darwin-mojave-x86_64\r\n[+]      ^ncurses@6.1%clang@11.0.0~symlinks~termlib arch=darwin-mojave-x86_64\r\n[+]          ^pkgconf@1.6.1%clang@11.0.0 arch=darwin-mojave-x86_64\r\n\r\n```\r\nto show people whether Spack installed a faulty software or if it was not able to\r\nbuild it at all. \r\n",
    "performed_via_github_app": null
}