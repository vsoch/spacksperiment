{
    "url": "https://api.github.com/repos/spack/spack/issues/8802",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8802/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8802/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8802/events",
    "html_url": "https://github.com/spack/spack/issues/8802",
    "id": 344407049,
    "node_id": "MDU6SXNzdWUzNDQ0MDcwNDk=",
    "number": 8802,
    "title": "spack spec -t can report misleading dependency types in case of multiple dependencies",
    "user": {
        "login": "healther",
        "id": 4048699,
        "node_id": "MDQ6VXNlcjQwNDg2OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4048699?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/healther",
        "html_url": "https://github.com/healther",
        "followers_url": "https://api.github.com/users/healther/followers",
        "following_url": "https://api.github.com/users/healther/following{/other_user}",
        "gists_url": "https://api.github.com/users/healther/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/healther/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/healther/subscriptions",
        "organizations_url": "https://api.github.com/users/healther/orgs",
        "repos_url": "https://api.github.com/users/healther/repos",
        "events_url": "https://api.github.com/users/healther/events{/privacy}",
        "received_events_url": "https://api.github.com/users/healther/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 471995122,
            "node_id": "MDU6TGFiZWw0NzE5OTUxMjI=",
            "url": "https://api.github.com/repos/spack/spack/labels/commands",
            "name": "commands",
            "color": "006b75",
            "default": false,
            "description": null
        },
        {
            "id": 446630556,
            "node_id": "MDU6TGFiZWw0NDY2MzA1NTY=",
            "url": "https://api.github.com/repos/spack/spack/labels/specs",
            "name": "specs",
            "color": "b60205",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 9,
    "created_at": "2018-07-25T11:38:49Z",
    "updated_at": "2018-07-30T07:53:33Z",
    "closed_at": "2018-07-29T18:54:21Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "We noticed this internally with one of our more complicated meta packages. But it is straight forward to reproduce by creating 4 packages:\r\n* a: depends on b and c with either link or run dependency\r\n* b: depends on d type build\r\n* c: depends on d type either link or run\r\n* d: no dependencies\r\n\r\n### Expected Result\r\n\r\n```\r\nspack spec -t a\r\n```\r\nto correctly identify d being a link/run dependency instead of only being a build dependency.\r\n\r\n### Actual Result\r\n\r\n```\r\n$ spack spec -t a\r\nInput spec\r\n--------------------------------\r\n[    ]  a\r\n\r\nConcretized\r\n--------------------------------\r\n[    ]  a@1%clang@10.0.0-apple arch=darwin-highsierra-x86_64 \r\n[bl  ]      ^b@1.2.3%clang@10.0.0-apple arch=darwin-highsierra-x86_64 \r\n[b   ]          ^d@1.2.3%clang@10.0.0-apple arch=darwin-highsierra-x86_64 \r\n[bl  ]      ^c@1.2.3%clang@10.0.0-apple arch=darwin-highsierra-x86_64 \r\n```\r\n\r\n\r\nI'll try to track this down either later today or this week, but for now we should tread the type identification of dependencies of dependencies from `spack spec -t` as unreliable.",
    "performed_via_github_app": null
}