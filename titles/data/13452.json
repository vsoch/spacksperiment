{
    "url": "https://api.github.com/repos/spack/spack/issues/13452",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13452/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13452/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13452/events",
    "html_url": "https://github.com/spack/spack/issues/13452",
    "id": 512786551,
    "node_id": "MDU6SXNzdWU1MTI3ODY1NTE=",
    "number": 13452,
    "title": "Installation issue: gperf@3.0.4 %gcc@9.2.0 ",
    "user": {
        "login": "KineticTheory",
        "id": 17579601,
        "node_id": "MDQ6VXNlcjE3NTc5NjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/17579601?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KineticTheory",
        "html_url": "https://github.com/KineticTheory",
        "followers_url": "https://api.github.com/users/KineticTheory/followers",
        "following_url": "https://api.github.com/users/KineticTheory/following{/other_user}",
        "gists_url": "https://api.github.com/users/KineticTheory/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KineticTheory/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KineticTheory/subscriptions",
        "organizations_url": "https://api.github.com/users/KineticTheory/orgs",
        "repos_url": "https://api.github.com/users/KineticTheory/repos",
        "events_url": "https://api.github.com/users/KineticTheory/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KineticTheory/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2019-10-26T04:01:56Z",
    "updated_at": "2019-10-28T22:31:24Z",
    "closed_at": "2019-10-28T22:31:24Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n* git hash: 5582de837ef126ad736d44565a8d4231225b29da\r\n\r\n```console\r\nrm -rf ~/.spack\r\ncd /scratch\r\nrm -rf spack\r\ngit clone git@github.com:spack/spack && cd spack\r\nexport SPACK_ROOT=`pwd`\r\nexport PATH=`pwd`/bin:$PATH\r\nspack compiler add\r\nspack compiler list\r\n\r\n==> Available compilers\r\n-- gcc rhel7-x86_64 ---------------------------------------------\r\ngcc@4.8.5\r\n\r\nspack install gcc@9.2.0\r\nsource /scratch/spack/share/spack/setup-env.sh\r\nspack load gcc@9.2.0\r\nspack compiler add\r\nspack compiler list\r\n\r\n==> Available compilers\r\n-- gcc rhel7-x86_64 ---------------------------------------------\r\ngcc@9.2.0  gcc@4.8.5\r\n\r\nspack install gperf % gcc@9.2.0\r\n\r\n==> Installing gperf\r\n==> Searching for binary cache of gperf\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for gperf found: installing from source\r\n==> Fetching https://ftpmirror.gnu.org/gperf/gperf-3.0.4.tar.gz\r\n######################################################################## 100.0%\r\n==> Staging archive: /tmp/kellyt/spack-stage/spack-stage-gperf-3.0.4-buvuipk2igiid63wnhg2ckrdoayrpz7c/gperf-3.0.4.tar.gz\r\n==> Created stage in /tmp/kellyt/spack-stage/spack-stage-gperf-3.0.4-buvuipk2igiid63wnhg2ckrdoayrpz7c\r\n==> No patches needed for gperf\r\n==> Building gperf [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n6 errors found in build log:\r\n     95     /scratch/kellyt/spack.20191025/lib/spack/env/gcc/g++ -g -O2 -I. -I.\r\n            /../lib -c ./bool-array.cc\r\n     96     /scratch/kellyt/spack.20191025/lib/spack/env/gcc/g++ -g -O2 -I. -I.\r\n            /../lib -c ./hash-table.cc\r\n     97     /scratch/kellyt/spack.20191025/lib/spack/env/gcc/g++ -g -O2 -I. -I.\r\n            /../lib -c ./search.cc\r\n     98     /scratch/kellyt/spack.20191025/lib/spack/env/gcc/g++ -g -O2 -I. -I.\r\n            /../lib -c ./output.cc\r\n     99     /scratch/kellyt/spack.20191025/lib/spack/env/gcc/g++ -g -O2 -I. -I.\r\n            /../lib -c ./main.cc\r\n     100    /scratch/kellyt/spack.20191025/lib/spack/env/gcc/g++ -g -O2  -o gpe\r\n            rf version.o positions.o options.o keyword.o keyword-list.o input.o\r\n             bool-array.o hash-table.o search.o output.o main.o ../lib/libgp.a \r\n            -lm\r\n  >> 101    /scratch/kellyt/spack.20191025/opt/spack/linux-rhel7-haswell/gcc-4.\r\n            8.5/gcc-9.2.0-7qmgg3c3xt2bpg4typfxg7imt5zgpi3i/lib/gcc/x86_64-pc-li\r\n            nux-gnu/9.2.0/../../../../lib64/libstdc++.so: undefined reference t\r\n            o `libiconv'\r\n  >> 102    /scratch/kellyt/spack.20191025/opt/spack/linux-rhel7-haswell/gcc-4.\r\n            8.5/gcc-9.2.0-7qmgg3c3xt2bpg4typfxg7imt5zgpi3i/lib/gcc/x86_64-pc-li\r\n            nux-gnu/9.2.0/../../../../lib64/libstdc++.so: undefined reference t\r\n            o `libiconv_close'\r\n  >> 103    /scratch/kellyt/spack.20191025/opt/spack/linux-rhel7-haswell/gcc-4.\r\n            8.5/gcc-9.2.0-7qmgg3c3xt2bpg4typfxg7imt5zgpi3i/lib/gcc/x86_64-pc-li\r\n            nux-gnu/9.2.0/../../../../lib64/libstdc++.so: undefined reference t\r\n            o `libiconv_open'\r\n  >> 104    collect2: error: ld returned 1 exit status\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\n$ uname -a \r\nLinux x.x.x 3.10.0-1062.1.2.el7.x86_64 #1 SMP Mon Sep 16 14:19:51 EDT 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n$ lsb_release -d\r\nDescription:\tRed Hat Enterprise Linux Workstation release 7.7 (Maipo)\r\n\r\n% spack arch\r\nlinux-rhel7-broadwell\r\n``` \r\n\r\nconfig files\r\n- [compilers.yaml.txt](https://github.com/spack/spack/files/3774427/compilers.yaml.txt)\r\n- I don't have a packages.yaml file.\r\n\r\n### Additional information\r\n\r\nSometimes the issue benefits from additional details. In these cases there are\r\na few things we can suggest doing. First of all, you can post the full output of:\r\n\r\n```console\r\n$ spack spec --install-status  gperf\r\nInput spec\r\n--------------------------------\r\n -   gperf\r\n\r\nConcretized\r\n--------------------------------\r\n -   gperf@3.0.4%gcc@9.2.0 arch=linux-rhel7-broadwell\r\n```\r\n\r\nto show people whether Spack installed a faulty software or if it was not able to\r\nbuild it at all. \r\n\r\n```console\r\n$ spack location -s gperf\r\n/tmp/$USER/spack-stage/spack-stage-gperf-3.0.4-buvuipk2igiid63wnhg2ckrdoayrpz7c\r\n```\r\nRebuilding the package with the following options:\r\n```console\r\n$ spack -d install -j 1 gperf\r\n# produced the same error as above.\r\n```\r\n\r\n",
    "performed_via_github_app": null
}