{
    "url": "https://api.github.com/repos/spack/spack/issues/7822",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/7822/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/7822/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/7822/events",
    "html_url": "https://github.com/spack/spack/issues/7822",
    "id": 315791676,
    "node_id": "MDU6SXNzdWUzMTU3OTE2NzY=",
    "number": 7822,
    "title": "Docker container not building using spack",
    "user": {
        "login": "luca-heltai",
        "id": 2919756,
        "node_id": "MDQ6VXNlcjI5MTk3NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2919756?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luca-heltai",
        "html_url": "https://github.com/luca-heltai",
        "followers_url": "https://api.github.com/users/luca-heltai/followers",
        "following_url": "https://api.github.com/users/luca-heltai/following{/other_user}",
        "gists_url": "https://api.github.com/users/luca-heltai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/luca-heltai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luca-heltai/subscriptions",
        "organizations_url": "https://api.github.com/users/luca-heltai/orgs",
        "repos_url": "https://api.github.com/users/luca-heltai/repos",
        "events_url": "https://api.github.com/users/luca-heltai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/luca-heltai/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 832208203,
            "node_id": "MDU6TGFiZWw4MzIyMDgyMDM=",
            "url": "https://api.github.com/repos/spack/spack/labels/docker",
            "name": "docker",
            "color": "77b9d6",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-04-19T09:12:52Z",
    "updated_at": "2019-03-21T10:49:10Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "All, I'm trying to build a docker image containing deal.II (www.dealii.org) installed using spack. \r\n\r\nNo matter how hard I try, I always bump into compiling problems. My last attempt included trying to use clang to compile everything (gcc 7.3, 7.2, and 6.3 all failed at different stages: either PETSc, or Trilinos failed to build). Clang failed much earlier:\r\n\r\nI'm suspecting there is something deeper that I'm overlooking.\r\n\r\nA minimal failing example is the following Docker file (inspired to #4480):\r\n~~~\r\nFROM       ubuntu:16.04\r\n\r\n# general environment for docker\r\nENV        DEBIAN_FRONTEND=noninteractive \\\r\n           SPACK_ROOT=/usr/local \\\r\n           FORCE_UNSAFE_CONFIGURE=1\r\n\r\n# install minimal spack dependencies\r\nRUN        apt-get update \\\r\n           && apt-get install -y --no-install-recommends \\\r\n              autoconf \\\r\n              ca-certificates \\\r\n              curl \\\r\n              environment-modules \\\r\n              git \\\r\n              build-essential \\\r\n\t      gfortran \\\r\n              python \\\r\n              nano \\\r\n              sudo \\\r\n              unzip \\\r\n           && rm -rf /var/lib/apt/lists/*\r\n\r\n# install spack\r\nRUN        curl -s -L https://api.github.com/repos/llnl/spack/tarball \\\r\n           | tar xzC $SPACK_ROOT --strip 1\r\nRUN        echo \". $SPACK_ROOT/share/spack/setup-env.sh\" \\\r\n           > /etc/profile.d/spack.sh\r\n\r\nADD        packages.yaml $SPACK_ROOT/etc/spack/packages.yaml\r\n\r\n# install software\r\nRUN        spack install llvm \\\r\n           && spack clean -a\r\n\r\n# spack load llvm\r\n# spack compiler find\r\n# inspect and change compilers.yaml to have gfortran + clang\r\nADD        compilers.yaml $SPACK_ROOT/etc/spack/compilers.yaml\r\n\r\n# install software\r\nRUN        spack install --only=dependencies -j12 openmpi \\\r\n           && spack clean -a\r\n\r\nRUN        spack install -j12 openmpi \\\r\n           && spack clean -a\r\n\r\n# startup\r\nCMD        /bin/bash -l\r\n~~~\r\n\r\nThe last command fails with the following error:\r\n\r\n~~~\r\n==> Created stage in /usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k\r\n==> No patches needed for openmpi\r\n==> Building openmpi [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k/openmpi-3.0.1/configure' '--prefix=/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k' '--enable-shared' '--enable-static' '--enable-mpi-cxx' '--with-zlib=/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/zlib-1.2.11-qidy5dasri2meohchkrvz3qgk57mcfqs' '--without-psm' '--without-psm2' '--without-verbs' '--without-mxm' '--without-alps' '--without-lsf' '--without-tm' '--without-slurm' '--without-sge' '--without-loadleveler' '--without-pmi' '--disable-memchecker' '--with-hwloc=/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/hwloc-1.11.9-njxuybbrjzr7fcdqj7igir5kk5t5rpky' '--disable-java' '--disable-mpi-java' '--disable-mpi-thread-multiple' '--without-cuda' '--without-ucx'\r\n\r\n1 error found in build log:\r\n     280    * information (including exactly what command was given to the\r\n     281    * compiler and what error resulted when the command was executed) i\r\n            s\r\n     282    * available in the config.log file in the Open MPI build directory.\r\n     283    *******************************************************************\r\n            ***\r\n     284    configure: WARNING: Could not find functional C++ compiler, but\r\n     285    configure: WARNING: support for the C++ MPI bindings was requested.\r\n  >> 286    configure: error: Cannot continue\r\n\r\nSee build log for details:\r\n  /usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k/openmpi-3.0.1/spack-build.out\r\n~~~\r\n\r\nMy `compilers.yaml` looks like the following:\r\n\r\n~~~\r\ncompilers:\r\n- compiler:\r\n    environment: {}  \r\n    extra_rpaths: [] \r\n    flags: {}\r\n    modules: []\r\n    operating_system: ubuntu16.04\r\n    paths:\r\n      cc: /usr/bin/gcc\r\n      cxx: /usr/bin/g++\r\n      f77: /usr/bin/gfortran\r\n      fc: /usr/bin/gfortran\r\n    spec: gcc@5.4.0  \r\n    target: x86_64   \r\n- compiler:\r\n    environment: {}  \r\n    extra_rpaths: [] \r\n    flags: {}\r\n    modules: []\r\n    operating_system: ubuntu16.04\r\n    paths:\r\n      cc: /usr/local/opt/spack/linux-ubuntu16.04-x86_64/gcc-5.4.0/llvm-6.0.0-hm4xfanysz7qetsbp6ahwkikbdx37ver/bin/clang\r\n      cxx: /usr/local/opt/spack/linux-ubuntu16.04-x86_64/gcc-5.4.0/llvm-6.0.0-hm4xfanysz7qetsbp6ahwkikbdx37ver/bin/clang++\r\n      f77: /usr/bin/gfortran\r\n      fc: /usr/bin/gfortran\r\n    spec: clang@6.0.0\r\n    target: x86_64  \r\n~~~\r\nwhile my `packages.yaml` looks like\r\n~~~\r\npackages:\r\n  all:\r\n    compiler: [clang, gcc]\r\n    providers:\r\n      mpi: [openmpi]\r\n      blas: [openblas]\r\n      lapack: [openblas]\r\n      scalapack: [netlib-scalapack]\r\n  suite-sparse:\r\n    variants: ~tbb\r\n  astyle:\r\n    version: [2.04]\r\n  boost:\r\n    variants: +thread+system+serialization+iostreams+mpi\r\n  petsc:\r\n    variants: +mumps\r\n  dealii:\r\n    version: [develop]\r\n    variants: ~doc+optflags+adol-c+nanoflann+sundials+assimp+gmsh~python+scalapack\r\n  gcc:\r\n    variants: languages=c,c++,fortran\r\n~~~\r\n\r\nHere is the output of the `build.log` file:\r\n\r\n~~~\r\nSee build log for details:\r\n  /usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k/openmpi-3.0.1/spack-build.out\r\nroot@e9778f5736b0:/# cat /usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k/openmpi-3.0.1/spack-build.out\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> '/usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k/openmpi-3.0.1/configure' '--prefix=/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k' '--enable-shared' '--enable-static' '--enable-mpi-cxx' '--with-zlib=/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/zlib-1.2.11-qidy5dasri2meohchkrvz3qgk57mcfqs' '--without-psm' '--without-psm2' '--without-verbs' '--without-mxm' '--without-alps' '--without-lsf' '--without-tm' '--without-slurm' '--without-sge' '--without-loadleveler' '--without-pmi' '--disable-memchecker' '--with-hwloc=/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/hwloc-1.11.9-njxuybbrjzr7fcdqj7igir5kk5t5rpky' '--disable-java' '--disable-mpi-java' '--disable-mpi-thread-multiple' '--without-cuda' '--without-ucx'\r\nconfigure: WARNING: unrecognized options: --without-loadleveler, --disable-mpi-thread-multiple\r\nchecking for perl... perl\r\n\r\n============================================================================\r\n== Configuring Open MPI\r\n============================================================================\r\n\r\n*** Startup tests\r\nchecking build system type... x86_64-unknown-linux-gnu\r\nchecking host system type... x86_64-unknown-linux-gnu\r\nchecking target system type... x86_64-unknown-linux-gnu\r\nchecking for gcc... /usr/local/lib/spack/env/clang/clang\r\nchecking whether the C compiler works... yes\r\nchecking for C compiler default output file name... a.out\r\nchecking for suffix of executables... \r\nchecking whether we are cross compiling... no\r\nchecking for suffix of object files... o\r\nchecking whether we are using the GNU C compiler... yes\r\nchecking whether /usr/local/lib/spack/env/clang/clang accepts -g... yes\r\nchecking for /usr/local/lib/spack/env/clang/clang option to accept ISO C89... none needed\r\nchecking whether /usr/local/lib/spack/env/clang/clang understands -c and -o together... yes\r\nchecking how to run the C preprocessor... /usr/local/lib/spack/env/clang/clang -E\r\nchecking for grep that handles long lines and -e... /bin/grep\r\nchecking for egrep... /bin/grep -E\r\nchecking for ANSI C header files... yes\r\nchecking for sys/types.h... yes\r\nchecking for sys/stat.h... yes\r\nchecking for stdlib.h... yes\r\nchecking for string.h... yes\r\nchecking for memory.h... yes\r\nchecking for strings.h... yes\r\nchecking for inttypes.h... yes\r\nchecking for stdint.h... yes\r\nchecking for unistd.h... yes\r\nchecking minix/config.h usability... no\r\nchecking minix/config.h presence... no\r\nchecking for minix/config.h... no\r\nchecking whether it is safe to define __EXTENSIONS__... yes\r\nchecking for a BSD-compatible install... /usr/bin/install -c\r\nchecking whether build environment is sane... yes\r\nchecking for a thread-safe mkdir -p... /bin/mkdir -p\r\nchecking for gawk... no\r\nchecking for mawk... mawk\r\nchecking whether make sets $(MAKE)... yes\r\nchecking for style of include used by make... GNU\r\nchecking whether make supports nested variables... yes\r\nchecking whether UID '0' is supported by ustar format... yes\r\nchecking whether GID '0' is supported by ustar format... yes\r\nchecking how to create a ustar tar archive... gnutar\r\nchecking dependency style of /usr/local/lib/spack/env/clang/clang... gcc3\r\nchecking whether make supports nested variables... (cached) yes\r\n\r\n*** Checking versions\r\nchecking for repo version... v3.0.1\r\nchecking Open MPI version... 3.0.1\r\nchecking Open MPI release date... Mar 29, 2018\r\nchecking Open MPI repository version... v3.0.1\r\nchecking for repo version... v3.0.1\r\nchecking Open MPI Run-Time Environment version... 3.0.1\r\nchecking Open MPI Run-Time Environment release date... Mar 29, 2018\r\nchecking Open MPI Run-Time Environment repository version... v3.0.1\r\nchecking for repo version... v3.0.1\r\nchecking Open SHMEM version... 3.0.1\r\nchecking Open SHMEM release date... Mar 29, 2018\r\nchecking Open SHMEM repository version... v3.0.1\r\nchecking for repo version... v3.0.1\r\nchecking Open Portable Access Layer version... 3.0.1\r\nchecking Open Portable Access Layer release date... Mar 29, 2018\r\nchecking Open Portable Access Layer repository version... v3.0.1\r\nchecking for bootstrap Autoconf version... 2.69\r\nchecking for bootstrap Automake version... 1.15\r\nchecking for boostrap Libtool version... 2.4.6\r\n\r\n*** Initialization, setup\r\nconfigure: builddir: /tmp/root/spack-stage/spack-stage-7YfH3P/openmpi-3.0.1\r\nconfigure: srcdir: /usr/local/var/spack/stage/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k/openmpi-3.0.1\r\nconfigure: Detected VPATH build\r\ninstalling to directory \"/usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/openmpi-3.0.1-ouepzlgaffjdcgq3ztqxf6w74hex4t2k\"\r\n\r\n*** OPAL Configuration options\r\nchecking if want to run code coverage... no\r\nchecking if want to compile with branch probabilities... no\r\nchecking if want to debug memory usage... no\r\nchecking if want to profile memory usage... no\r\nchecking if want developer-level compiler pickyness... no\r\nchecking if want developer-level debugging code... no\r\nchecking if want to developer-level timing framework... no\r\nchecking if want to install project-internal header files... no\r\nchecking if want pretty-print stacktrace... yes\r\nchecking if want pty support... yes\r\nchecking if want weak symbol support... yes\r\nchecking if want dlopen support... yes\r\nchecking for default value of mca_base_component_show_load_errors... enabled by default\r\nchecking if want heterogeneous support... no\r\nchecking if word-sized integers must be word-size aligned... no\r\nchecking if want IPv6 support... no\r\nchecking if want package/brand string... Open MPI root@e9778f5736b0 Distribution\r\nchecking if want ident string... 3.0.1\r\nchecking if want to use an alternative checksum algo for messages... no\r\nchecking maximum length of processor name... 256\r\nchecking maximum length of error string... 256\r\nchecking maximum length of object name... 64\r\nchecking maximum length of info key... 36\r\nchecking maximum length of info val... 256\r\nchecking maximum length of port name... 1024\r\nchecking maximum length of datarep string... 128\r\nchecking if want getpwuid support... yes\r\nchecking for zlib in... /usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/zlib-1.2.11-qidy5dasri2meohchkrvz3qgk57mcfqs and /usr/local/opt/spack/linux-ubuntu16.04-x86_64/clang-6.0.0/zlib-1.2.11-qidy5dasri2meohchkrvz3qgk57mcfqs/lib\r\nchecking zlib.h usability... yes\r\nchecking zlib.h presence... yes\r\nchecking for zlib.h... yes\r\nchecking for library containing deflate... -lz\r\nchecking if libz requires libnl v1 or v3... \r\nchecking will zlib support be built... yes\r\nchecking __NetBSD__... no\r\nchecking __FreeBSD__... no\r\nchecking __OpenBSD__... no\r\nchecking __DragonFly__... no\r\nchecking __386BSD__... no\r\nchecking __bsdi__... no\r\nchecking __APPLE__... no\r\nchecking __linux__... yes\r\nchecking __sun__... no\r\nchecking __sun... no\r\nchecking netdb.h usability... yes\r\nchecking netdb.h presence... yes\r\nchecking for netdb.h... yes\r\nchecking netinet/in.h usability... yes\r\nchecking netinet/in.h presence... yes\r\nchecking for netinet/in.h... yes\r\nchecking netinet/tcp.h usability... yes\r\nchecking netinet/tcp.h presence... yes\r\nchecking for netinet/tcp.h... yes\r\nchecking for struct sockaddr_in... yes\r\nchecking if --with-cuda is set... not set (--with-cuda=no)\r\nchecking whether CU_POINTER_ATTRIBUTE_SYNC_MEMOPS is declared... no\r\nchecking whether cuPointerGetAttributes is declared... no\r\nchecking if have cuda support... no\r\nchecking if user requested external PMIx support()... no\r\n\r\n*** ORTE Configuration options\r\nchecking if want orterun \"--prefix\" behavior to be enabled by default... no\r\n\r\n*** OMPI Configuration options\r\nchecking if want compile-time warnings inside of mpi.h... yes\r\nchecking if want sparse process groups... no\r\nchecking if want peruse support... no\r\nchecking if want Fortran MPI bindings...  (try)\r\nchecking if want C++ bindings... yes\r\nchecking if want MPI::SEEK_SET support... yes\r\nchecking if want run-time MPI parameter checking... runtime\r\n\r\n*** OSHMEM Configuration options\r\nchecking if want oshmem... yes\r\nchecking if want SGI/Quadrics compatibility mode... yes\r\nchecking if want OSHMEM API parameter checking... always\r\nchecking for on_exit... yes\r\nchecking if want pshmem... yes\r\nchecking if want to build OSHMEM fortran bindings... yes\r\nchecking if want custom libmpi(_FOO) name... mpi\r\nchecking if want wrapper compiler rpath support... yes\r\n\r\n============================================================================\r\n== Compiler and preprocessor tests\r\n============================================================================\r\n\r\n*** C compiler and preprocessor\r\nchecking for gcc... (cached) /usr/local/lib/spack/env/clang/clang\r\nchecking whether we are using the GNU C compiler... (cached) yes\r\nchecking whether /usr/local/lib/spack/env/clang/clang accepts -g... (cached) yes\r\nchecking for /usr/local/lib/spack/env/clang/clang option to accept ISO C89... (cached) none needed\r\nchecking whether /usr/local/lib/spack/env/clang/clang understands -c and -o together... (cached) yes\r\nchecking for /usr/local/lib/spack/env/clang/clang option to accept ISO C99... none needed\r\nchecking for the C compiler vendor... gnu\r\nchecking for ANSI C header files... (cached) yes\r\nchecking if /usr/local/lib/spack/env/clang/clang supports -finline-functions... yes\r\nchecking if /usr/local/lib/spack/env/clang/clang supports -fno-strict-aliasing... yes\r\nconfigure: WARNING:  -fno-strict-aliasing has been added to CFLAGS\r\nchecking if /usr/local/lib/spack/env/clang/clang supports __builtin_expect... yes\r\nchecking if /usr/local/lib/spack/env/clang/clang supports __builtin_prefetch... yes\r\nchecking if /usr/local/lib/spack/env/clang/clang supports __builtin_clz... yes\r\nchecking for C optimization flags... -O3 -DNDEBUG -finline-functions -fno-strict-aliasing\r\nchecking for Interix environment... no\r\nchecking for C ident string support... static const char\r\nchecking for int8_t... yes\r\nchecking for uint8_t... yes\r\nchecking for int16_t... yes\r\nchecking for uint16_t... yes\r\nchecking for int32_t... yes\r\nchecking for uint32_t... yes\r\nchecking for int64_t... yes\r\nchecking for uint64_t... yes\r\nchecking for int128_t... no\r\nchecking for __int128... yes\r\nchecking for uint128_t... no\r\nchecking for long long... yes\r\nchecking for __float128... yes\r\nchecking for long double... yes\r\nchecking complex.h usability... yes\r\nchecking complex.h presence... yes\r\nchecking for complex.h... yes\r\nchecking for float _Complex... yes\r\nchecking for double _Complex... yes\r\nchecking for long double _Complex... yes\r\nchecking for intptr_t... yes\r\nchecking for uintptr_t... yes\r\nchecking for mode_t... yes\r\nchecking for ssize_t... yes\r\nchecking for ptrdiff_t... yes\r\nchecking size of _Bool... 1\r\nchecking size of char... 1\r\nchecking size of short... 2\r\nchecking size of int... 4\r\nchecking size of long... 8\r\nchecking size of long long... 8\r\nchecking size of float... 4\r\nchecking size of double... 8\r\nchecking size of long double... 16\r\nchecking size of __float128... 16\r\nchecking size of float _Complex... 8\r\nchecking size of double _Complex... 16\r\nchecking size of long double _Complex... 32\r\nchecking size of void *... 8\r\nchecking size of size_t... 8\r\nchecking size of ssize_t... 8\r\nchecking size of ptrdiff_t... 8\r\nchecking size of wchar_t... 4\r\nchecking size of pid_t... 4\r\nchecking alignment of bool... 1\r\nchecking alignment of int8_t... 1\r\nchecking alignment of int16_t... 2\r\nchecking alignment of int32_t... 4\r\nchecking alignment of int64_t... 8\r\nchecking alignment of char... 1\r\nchecking alignment of short... 2\r\nchecking alignment of wchar_t... 4\r\nchecking alignment of int... 4\r\nchecking alignment of long... 8\r\nchecking alignment of long long... 8\r\nchecking alignment of float... 4\r\nchecking alignment of double... 8\r\nchecking alignment of long double... 16\r\nchecking alignment of __float128... 16\r\nchecking alignment of float _Complex... 4\r\nchecking alignment of double _Complex... 8\r\nchecking alignment of long double _Complex... 16\r\nchecking alignment of void *... 8\r\nchecking alignment of size_t... 8\r\nchecking for weak symbol support... yes\r\nchecking for macro weak symbol support... yes\r\nchecking for functional offsetof macro... yes\r\n\r\n*** C++ compiler and preprocessor\r\nchecking whether we are using the GNU C++ compiler... yes\r\nchecking whether /usr/local/lib/spack/env/clang/clang++ accepts -g... yes\r\nchecking dependency style of /usr/local/lib/spack/env/clang/clang++... gcc3\r\nchecking how to run the C++ preprocessor... /usr/local/lib/spack/env/clang/clang++ -E\r\nchecking for the C++ compiler vendor... gnu\r\nchecking if /usr/local/lib/spack/env/clang/clang++ supports -finline-functions... yes\r\nconfigure: WARNING:  -finline-functions has been added to CXXFLAGS\r\nchecking if C and C++ are link compatible... yes\r\nchecking for C++ optimization flags... -O3 -DNDEBUG -finline-functions\r\nchecking size of bool... 0\r\nchecking alignment of bool... (cached) 1\r\n\r\n*** C++ compiler and preprocessor\r\nchecking whether we are using the GNU C++ compiler... (cached) yes\r\nchecking whether /usr/local/lib/spack/env/clang/clang++ accepts -g... (cached) yes\r\nchecking dependency style of /usr/local/lib/spack/env/clang/clang++... (cached) gcc3\r\nchecking how to run the C++ preprocessor... /usr/local/lib/spack/env/clang/clang++ -E\r\nchecking if C++ compiler works... no\r\n**********************************************************************\r\n* It appears that your C++ compiler is unable to produce working\r\n* executables.  A simple test application failed to properly\r\n* execute.  Note that this is likely not a problem with Open MPI,\r\n* but a problem with the local compiler installation.  More\r\n* information (including exactly what command was given to the\r\n* compiler and what error resulted when the command was executed) is\r\n* available in the config.log file in the Open MPI build directory.\r\n**********************************************************************\r\nconfigure: WARNING: Could not find functional C++ compiler, but\r\nconfigure: WARNING: support for the C++ MPI bindings was requested.\r\nconfigure: error: Cannot continue\r\n~~~\r\nI'm unsure if this is correct, but it looks like the configure process is thinking that clang is a gcc compiler. \r\n\r\n",
    "performed_via_github_app": null
}