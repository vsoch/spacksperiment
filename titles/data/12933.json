{
    "url": "https://api.github.com/repos/spack/spack/issues/12933",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12933/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12933/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12933/events",
    "html_url": "https://github.com/spack/spack/pull/12933",
    "id": 497910640,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzIwOTUxOTQw",
    "number": 12933,
    "title": "Features/deprecate",
    "user": {
        "login": "becker33",
        "id": 13971568,
        "node_id": "MDQ6VXNlcjEzOTcxNTY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/13971568?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/becker33",
        "html_url": "https://github.com/becker33",
        "followers_url": "https://api.github.com/users/becker33/followers",
        "following_url": "https://api.github.com/users/becker33/following{/other_user}",
        "gists_url": "https://api.github.com/users/becker33/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/becker33/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/becker33/subscriptions",
        "organizations_url": "https://api.github.com/users/becker33/orgs",
        "repos_url": "https://api.github.com/users/becker33/repos",
        "events_url": "https://api.github.com/users/becker33/events{/privacy}",
        "received_events_url": "https://api.github.com/users/becker33/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 471995122,
            "node_id": "MDU6TGFiZWw0NzE5OTUxMjI=",
            "url": "https://api.github.com/repos/spack/spack/labels/commands",
            "name": "commands",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-09-24T20:35:34Z",
    "updated_at": "2019-10-25T06:48:33Z",
    "closed_at": "2019-10-23T20:11:36Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/12933",
        "html_url": "https://github.com/spack/spack/pull/12933",
        "diff_url": "https://github.com/spack/spack/pull/12933.diff",
        "patch_url": "https://github.com/spack/spack/pull/12933.patch"
    },
    "body": "Closes #172.\r\nCloses #7409.\r\n\r\n``spack deprecate`` allows for the removal of insecure packages with minimal impact to their dependents. It is intended as a very big hammer for people who really know what they're doing, that will allow one package to be symlinked into the prefix of another to provide seamless transition for rpath'd and hard-coded applications using the old version.\r\n\r\nTake openssl as an example. Old versions are often found to have security flaws, and diligent sysadmins want to purge them from the system. Spack currently provides no way to do this without breaking every package that depends on openssl. With `spack deprecate`, the sysadmin will run \r\n\r\n``spack deprecate /hash-of-old-openssl /hash-of-new-openssl``\r\n\r\nand all hardcoded codes can use the new one transparently.\r\n\r\nFrom the documentation in this PR:\r\n\r\n``spack deprecate`` allows for the removal of insecure packages with minimal impact to their dependents.\r\n\r\n.. warning::\r\n\r\n  The ``spack deprecate`` command is designed for use only in extroardinary circumstances. This is a VERY big hammer to be used with care.\r\n\r\nThe ``spack deprecate`` command will remove one package and replace it with another by replacing the deprecated package's prefix with a link to the replacement package's prefix.\r\n\r\n.. warning::\r\n\r\n  The ``spack deprecate`` command makes no promises about binary compatibility. It is up to the user to ensure the replacement is suitable for the deprecated package.\r\n\r\nSpack tracks concrete deprecated specs and ensures that no future packages concretize to a deprecated spec.\r\n\r\nThe first spec given to the ``spack deprecate`` command is the package to deprecate. It is an abstract spec that must describe a single installed package. The second spec argument is the replacement spec. By default it must be an abstract spec that describes a single installed package, but with the ``-i/--install-replacement`` it can be any abstract spec that Spack will install and then use as the replacement. The ``-I/--no-install-replacement`` option will ensure the default behavior.\r\n\r\nBy default, ``spack deprecate`` will deprecate all dependencies of the deprecated spec, replacing each by the dependency of the same name in the replacement spec. The ``-d/--dependencies`` option will ensure the default, while the ``-D/--no-dependencies`` option will deprecate only the root of the deprecate spec in favor of the root of the replacement spec.\r\n\r\n``spack deprecate`` can use symbolic links or hard links. The default behavior is symbolic links, but the ``-l/--link-type`` flag can take options ``hard`` or ``soft``.",
    "performed_via_github_app": null
}