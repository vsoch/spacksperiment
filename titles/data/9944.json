{
    "url": "https://api.github.com/repos/spack/spack/issues/9944",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9944/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9944/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9944/events",
    "html_url": "https://github.com/spack/spack/issues/9944",
    "id": 384073327,
    "node_id": "MDU6SXNzdWUzODQwNzMzMjc=",
    "number": 9944,
    "title": "bcl2fastq2",
    "user": {
        "login": "sarawernig",
        "id": 29398591,
        "node_id": "MDQ6VXNlcjI5Mzk4NTkx",
        "avatar_url": "https://avatars.githubusercontent.com/u/29398591?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sarawernig",
        "html_url": "https://github.com/sarawernig",
        "followers_url": "https://api.github.com/users/sarawernig/followers",
        "following_url": "https://api.github.com/users/sarawernig/following{/other_user}",
        "gists_url": "https://api.github.com/users/sarawernig/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sarawernig/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sarawernig/subscriptions",
        "organizations_url": "https://api.github.com/users/sarawernig/orgs",
        "repos_url": "https://api.github.com/users/sarawernig/repos",
        "events_url": "https://api.github.com/users/sarawernig/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sarawernig/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 11,
    "created_at": "2018-11-25T12:13:33Z",
    "updated_at": "2018-11-28T01:22:15Z",
    "closed_at": "2018-11-28T01:22:15Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi! I'm having trouble installing bcl2fastq2 on macOS 10.14. All dependencies install normally, just the final install of the actual bcl2fastq2 package fails, already at the unpacking tarball. Any ideas what is going wrong?\r\n\r\n```\r\n$ uname -a \r\nDarwin Sara-MacBook.fritz.box 18.0.0 Darwin Kernel Version 18.0.0: Wed Aug 22 20:13:40 PDT 2018; root:xnu-4903.201.2~1/RELEASE_X86_64 x86_64\r\n```\r\n\r\n```\r\n$./spack install bcl2fastq2\r\n\r\n==> diffutils is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/diffutils-3.6-te2wy74ojq3v53ovt7s77jaxqxsmv3ly\r\n==> bzip2 is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/bzip2-1.0.6-syohzw57v2jfag5du2x4bowziw3m5p67\r\n==> zlib is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/zlib-1.2.11-uw6agnye4za7cpgyyaaejrzorhbhqno5\r\n==> boost is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/boost-1.54.0-mfzhszy5w55xkrt56mvh3ft6ezqlqa6r\r\n==> pkgconf is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/pkgconf-1.5.4-5lntwitdekpyj43kxfincaipd3fdgmtj\r\n==> ncurses is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/ncurses-6.1-zvaa4lhlhilypw5quj3akyd3apbq5gap\r\n==> readline is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/readline-7.0-722dzmgymxyxd6ovjvh4742kcetkqtfs\r\n==> gdbm is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/gdbm-1.18.1-il2toejg5r3zjhw4tyodx7te5c3cb4is\r\n==> perl is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/perl-5.26.2-uhov4vq4lk3u7biruczmxbytm22agi66\r\n==> openssl is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/openssl-1.1.1-3imbiyu5y3deo44yyyx4bgdayg4ciemt\r\n==> cmake is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/cmake-3.13.0-n5d7iyfajngmdo46ydpdnzwx43ui5nl7\r\n==> libgpg-error is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/libgpg-error-1.27-ef3dxjfx7myvx4xnbm5hwwoxqvv3kkz6\r\n==> libgcrypt is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/libgcrypt-1.8.1-zphnhsihwmmyktaoh52zjg5cyclj5zeu\r\n==> xz is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/xz-5.2.4-i47twa3ynjmijdjvt4nag47wtg65m7jc\r\n==> libxml2 is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/libxml2-2.7.8-fnyhdqa4eoy7ueqihjlxacno43ttz67q\r\n==> libiconv is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/libiconv-1.15-u27q4rowrbactosi7n57ever5q44jddx\r\n==> libxslt is already installed in /Users/sarawz/tools/spack/opt/spack/darwin-mojave-x86_64/clang-10.0.0-apple/libxslt-1.1.26-hzudmqz4dxmkufdzusksmarvbo4tis7f\r\n==> Installing bcl2fastq2\r\n==> Using cached archive: /Users/sarawz/tools/spack/var/spack/cache/bcl2fastq2/bcl2fastq2-2.20.0.422.zip\r\n==> Staging archive: /Users/sarawz/tools/spack/var/spack/stage/bcl2fastq2-2.20.0.422-mgl5ivvchxixqdbbbsw4xhztl3zdi4gp/bcl2fastq2-v2-20-0-tar.zip\r\n==> Created stage in /Users/sarawz/tools/spack/var/spack/stage/bcl2fastq2-2.20.0.422-mgl5ivvchxixqdbbbsw4xhztl3zdi4gp\r\n==> Unpacking bcl2fastq2 tarball\r\n==> cwd sez: /private/tmp/root/spack-stage/spack-stage-kRycW1\r\n==> Error: OSError: [Errno 66] Directory not empty: 'spack-expanded-archive'\r\n\r\n/Users/sarawz/tools/spack/var/spack/repos/builtin/packages/bcl2fastq2/package.py:82, in wrap:\r\n         79                    tar = which('tar')\r\n         80                    tarball = os.path.basename(tarball)\r\n         81                    tar('-xf', tarball)\r\n  >>     82                    tty.msg(\"Finished unpacking bcl2fastq2 tarball\")\r\n```\r\n\r\n```\r\n$ ./spack spec --install-status bcl2fastq2\r\nInput spec\r\n--------------------------------\r\n -   bcl2fastq2\r\n\r\nConcretized\r\n--------------------------------\r\n -   bcl2fastq2@2.20.0.422%clang@10.0.0-apple patches=04956b22cdcc054c458a4ad4797fcec8a9c434755d0037517931031ba6a2e755,22bd1a5faa46013d0b0ceea4164b4cf688b180674c72b25b37ad7635897be081 arch=darwin-mojave-x86_64 \r\n[+]      ^boost@1.54.0%clang@10.0.0-apple+atomic+chrono~clanglibcpp cxxstd=default +date_time~debug+exception+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy patches=f994ac84634f2f833a7a4d3179c5bf9a06f14349ef67aacba39d08837ffab004 ~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave arch=darwin-mojave-x86_64 \r\n[+]          ^bzip2@1.0.6%clang@10.0.0-apple+shared arch=darwin-mojave-x86_64 \r\n[+]              ^diffutils@3.6%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]          ^zlib@1.2.11%clang@10.0.0-apple+optimize+pic+shared arch=darwin-mojave-x86_64 \r\n[+]      ^cmake@3.13.0%clang@10.0.0-apple~doc+ncurses+openssl+ownlibs~qt arch=darwin-mojave-x86_64 \r\n[+]          ^ncurses@6.1%clang@10.0.0-apple~symlinks~termlib arch=darwin-mojave-x86_64 \r\n[+]              ^pkgconf@1.5.4%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]          ^openssl@1.1.1%clang@10.0.0-apple+systemcerts arch=darwin-mojave-x86_64 \r\n[+]              ^perl@5.26.2%clang@10.0.0-apple+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=darwin-mojave-x86_64 \r\n[+]                  ^gdbm@1.18.1%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]                      ^readline@7.0%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]      ^libgcrypt@1.8.1%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]          ^libgpg-error@1.27%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]      ^libxml2@2.7.8%clang@10.0.0-apple~python arch=darwin-mojave-x86_64 \r\n[+]          ^xz@5.2.4%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n[+]      ^libxslt@1.1.26%clang@10.0.0-apple~crypto arch=darwin-mojave-x86_64 \r\n[+]          ^libiconv@1.15%clang@10.0.0-apple arch=darwin-mojave-x86_64 \r\n\r\n```\r\n\r\n",
    "performed_via_github_app": null
}