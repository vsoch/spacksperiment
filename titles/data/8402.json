{
    "url": "https://api.github.com/repos/spack/spack/issues/8402",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8402/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8402/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8402/events",
    "html_url": "https://github.com/spack/spack/issues/8402",
    "id": 329884030,
    "node_id": "MDU6SXNzdWUzMjk4ODQwMzA=",
    "number": 8402,
    "title": "R 3.5.0 % gcc@7.3.0 on KNL XC40:: gcc and gfortran disagree on int and double",
    "user": {
        "login": "llpesce",
        "id": 20212980,
        "node_id": "MDQ6VXNlcjIwMjEyOTgw",
        "avatar_url": "https://avatars.githubusercontent.com/u/20212980?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/llpesce",
        "html_url": "https://github.com/llpesce",
        "followers_url": "https://api.github.com/users/llpesce/followers",
        "following_url": "https://api.github.com/users/llpesce/following{/other_user}",
        "gists_url": "https://api.github.com/users/llpesce/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/llpesce/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/llpesce/subscriptions",
        "organizations_url": "https://api.github.com/users/llpesce/orgs",
        "repos_url": "https://api.github.com/users/llpesce/repos",
        "events_url": "https://api.github.com/users/llpesce/events{/privacy}",
        "received_events_url": "https://api.github.com/users/llpesce/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2018-06-06T14:07:46Z",
    "updated_at": "2019-12-17T13:35:13Z",
    "closed_at": "2019-12-17T13:35:12Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "```\r\n> spack compiler info gcc@7.3.0\r\ngcc@7.3.0:\r\n        paths:\r\n                cc = cc\r\n                cxx = CC\r\n                f77 = ftn\r\n                fc = ftn\r\n        modules  = ['PrgEnv-gnu', 'gcc/7.3.0']\r\n        operating system  = cnl6\r\ngcc@7.3.0:\r\n        paths:\r\n                cc = cc\r\n                cxx = CC\r\n                f77 = ftn\r\n                fc = ftn\r\n        modules  = ['PrgEnv-gnu', 'gcc/7.3.0']\r\n        operating system  = CNL\r\n```\r\nI am using dirty because some libraries don't seem to get set properly in my build. Investigated in a different issue. All dependencies were eventually talked into installing.\r\n```\r\n>spack install  --dirty r %gcc@7.3.0\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/gpfs/mira-home/lpesce/SPACK/spack/var/spack/stage/r-3.5.0-epygoabxmv2thnc57pkt6bkxnlln433y/R-3.5.0/configure' '--prefix=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/r-3.5.0-epygoabxmv2thnc57pkt6bkxnlln433y' '--libdir=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/r-3.5.0-epygoabxmv2thnc57pkt6bkxnlln433y/rlib' '--enable-R-shlib' '--enable-BLAS-shlib' '--enable-R-framework=no' '--with-tcl-config=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/tcl-8.6.8-ilolq2lm43bmsda3oaecih3cgdvbv4t4/lib/tclConfig.sh' '--with-tk-config=/home/lpesce/SPACK/spack/cray-cnl6-mic_knl/gcc-7.3.0/tk-8.6.8-anwztuq2v6ytzkuxcwaphzybkiepba34/lib/tkConfig.sh' '--without-x'\r\n\r\n1 error found in build log:\r\n     315    checking for dummy main to link with Fortran 77 libraries... none\r\n     316    checking for Fortran 77 name-mangling scheme... lower case, underscore, no extra underscore\r\n     317    checking whether /gpfs/mira-home/lpesce/SPACK/spack/lib/spack/env/gcc/gfortran appends underscores to external names... yes\r\n     318    checking whether /gpfs/mira-home/lpesce/SPACK/spack/lib/spack/env/gcc/gfortran appends extra underscores to external names... no\r\n     319    checking whether mixed C/Fortran code can be run... yes\r\n     320    checking whether /gpfs/mira-home/lpesce/SPACK/spack/lib/spack/env/gcc/gfortran and /gpfs/mira-home/lpesce/SPACK/spack/lib/spack/env/gcc/gcc agree on int and double... configure: WARNING: /gpfs/mira-home/lpesce/SPACK/spack/lib/spack/env/gcc/gfortran and /gpfs/mira-home/lpesce/SPACK/spack/lib/spack/env/gcc/gcc disagree on int and double\r\n  >> 321    configure: error: Maybe change CFLAGS or FFLAGS?\r\n```\r\nThis is an old issue in installations of R that I did not see in a while. I am testing the config of R outside spack, I will comment more as I get those tests in\r\n\r\n\r\n> On Jun 1, 2018, at 10:43 PM, Mario Melara <notifications@github.com> wrote:\r\n> \r\n> #7345 <https://github.com/spack/spack/pull/7345> is the PR. I'm lacking tests since I need to figure out a good way to test a mock modules system.\r\n> \r\n> \u2014\r\n> You are receiving this because you authored the thread.\r\n> Reply to this email directly, view it on GitHub <https://github.com/spack/spack/issues/8334#issuecomment-394055205>, or mute the thread <https://github.com/notifications/unsubscribe-auth/ATRs9BMK5VJ5tKzRgvDABoQTsPS4Cr-fks5t4gn2gaJpZM4UVRpC>.\r\n> \r\n\r\n",
    "performed_via_github_app": null
}