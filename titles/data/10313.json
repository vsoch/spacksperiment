{
    "url": "https://api.github.com/repos/spack/spack/issues/10313",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10313/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10313/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10313/events",
    "html_url": "https://github.com/spack/spack/issues/10313",
    "id": 398165348,
    "node_id": "MDU6SXNzdWUzOTgxNjUzNDg=",
    "number": 10313,
    "title": "Installation issue: suite-sparse 5.3.0",
    "user": {
        "login": "benzwick",
        "id": 33216696,
        "node_id": "MDQ6VXNlcjMzMjE2Njk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/33216696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benzwick",
        "html_url": "https://github.com/benzwick",
        "followers_url": "https://api.github.com/users/benzwick/followers",
        "following_url": "https://api.github.com/users/benzwick/following{/other_user}",
        "gists_url": "https://api.github.com/users/benzwick/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/benzwick/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/benzwick/subscriptions",
        "organizations_url": "https://api.github.com/users/benzwick/orgs",
        "repos_url": "https://api.github.com/users/benzwick/repos",
        "events_url": "https://api.github.com/users/benzwick/events{/privacy}",
        "received_events_url": "https://api.github.com/users/benzwick/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "alalazo",
            "id": 4199709,
            "node_id": "MDQ6VXNlcjQxOTk3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alalazo",
            "html_url": "https://github.com/alalazo",
            "followers_url": "https://api.github.com/users/alalazo/followers",
            "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
            "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
            "organizations_url": "https://api.github.com/users/alalazo/orgs",
            "repos_url": "https://api.github.com/users/alalazo/repos",
            "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alalazo/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 6,
    "created_at": "2019-01-11T07:33:58Z",
    "updated_at": "2020-03-04T19:16:43Z",
    "closed_at": "2020-03-04T19:16:43Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install suite-sparse\r\n==> pkgconf is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/pkgconf-1.5.4-govrjwe257pbvbo3uuv2zlgjb7qbchiv\r\n==> ncurses is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/ncurses-6.1-7m7kwj3etap7iwagymy5ti3fen3jizh7\r\n==> readline is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/readline-7.0-q2qwhp7vn6mgg7kxoqw6semcx7jiwhhf\r\n==> gdbm is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/gdbm-1.18.1-qmpp2pk4aseqoupn4c2lwyozhq4clqui\r\n==> perl is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/perl-5.26.2-za57evsnti7bgysyttea6lb2zbvmgvgd\r\n==> zlib is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/zlib-1.2.11-lgevn3ckxbm4sxwjdoq3k5qfgmpsjt7o\r\n==> openssl is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/openssl-1.1.1-ptmpqg6qpzbiqigrgw54nk2ecm7h7o5y\r\n==> cmake is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/cmake-3.13.2-6zy5lexck2yepsfv2ju4ujjczpnbkx65\r\n==> metis is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/metis-5.1.0-jj2hpmf3df6v37rsc77lec26ep7ac5bj\r\n==> openblas is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/openblas-0.3.4-civzquuc27y2ar4g2oaqtu7b3gwkjvgz\r\n==> Installing suite-sparse\r\n==> Searching for binary cache of suite-sparse\r\n==> Warning: No Spack mirrors are currently configured\r\n==> No binary for suite-sparse found: installing from source\r\n==> Using cached archive: /home/ben/Downloads/spack-cache/suite-sparse/suite-sparse-5.3.0.tar.gz\r\n==> Staging archive: /home/ben/projects/spack/spack/var/spack/stage/suite-sparse-5.3.0-xd4moigqqgtoqzhs3xw53wk3lal2ayr6/SuiteSparse-5.3.0.tar.gz\r\n==> Created stage in /home/ben/projects/spack/spack/var/spack/stage/suite-sparse-5.3.0-xd4moigqqgtoqzhs3xw53wk3lal2ayr6\r\n==> No patches needed for suite-sparse\r\n==> Building suite-sparse [Package]\r\n==> Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8' 'install' 'INSTALL=/opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/suite-sparse-5.3.0-xd4moigqqgtoqzhs3xw53wk3lal2ayr6' 'AUTOCC=no' 'CUDA=no' 'CUDA_PATH=' 'CFOPENMP=' 'CFLAGS=-O3 -fPIC' 'FFLAGS=-fPIC' 'F77FLAGS=-fPIC' 'MY_METIS_LIB=-L/opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/metis-5.1.0-jj2hpmf3df6v37rsc77lec26ep7ac5bj/lib -lmetis' 'MY_METIS_INC=/opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/metis-5.1.0-jj2hpmf3df6v37rsc77lec26ep7ac5bj/include' 'BLAS=-L/opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/openblas-0.3.4-civzquuc27y2ar4g2oaqtu7b3gwkjvgz/lib -lopenblas' 'LAPACK=-L/opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/openblas-0.3.4-civzquuc27y2ar4g2oaqtu7b3gwkjvgz/lib -lopenblas' 'CFLAGS+=-fno-common -fexceptions'\r\n\r\n12 errors found in build log:\r\n     2718    [ 92%] Building CXX object CMakeFiles/mongoose_exe.dir/Executable/mongoose.o\r\n     2719    [ 94%] Building CXX object CMakeFiles/mongoose_test_performance.dir/Tests/Mongoose_Test_Performance_exe.o\r\n     2720    [ 94%] Building CXX object CMakeFiles/mongoose_test_performance.dir/Tests/Mongoose_Test_Performance.o\r\n     2721    [ 95%] Building CXX object CMakeFiles/mongoose_test_reference.dir/Tests/Mongoose_Test_Reference.o\r\n     2722    [ 95%] Building CXX object CMakeFiles/mongoose_test_reference.dir/Tests/Mongoose_Test_Reference_exe.o\r\n     2723    /usr/bin/ld: /usr/lib/gcc/x86_64-linux-gnu/6/../../../x86_64-linux-gnu/libsuitesparseconfig.a(SuiteSparse_config.o): relocation R_X86_64_PC32 against symbol `SuiteSparse_config' can not be used when making a shared object; re\r\n             compile with -fPIC\r\n  >> 2724    /usr/bin/ld: final link failed: Bad value\r\n  >> 2725    collect2: error: ld returned 1 exit status\r\n     2726    CMakeFiles/mongoose_dylib.dir/build.make:504: recipe for target 'lib/libmongoose.so.2.0.2' failed\r\n  >> 2727    make[4]: *** [lib/libmongoose.so.2.0.2] Error 1\r\n     2728    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2729    CMakeFiles/Makefile2:321: recipe for target 'CMakeFiles/mongoose_dylib.dir/all' failed\r\n  >> 2730    make[3]: *** [CMakeFiles/mongoose_dylib.dir/all] Error 2\r\n     2731    make[3]: *** Waiting for unfinished jobs....\r\n     2732    [ 96%] Linking CXX executable tests/mongoose_test_memory\r\n     2733    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2734    [ 96%] Built target mongoose_test_memory\r\n     2735    [ 97%] Linking CXX executable tests/mongoose_test_performance\r\n     2736    [ 98%] Linking CXX executable tests/mongoose_test_reference\r\n\r\n     ...\r\n\r\n     2743    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2744    [100%] Built target demo_exe\r\n     2745    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2746    [100%] Built target mongoose_exe\r\n     2747    make[3]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2748    Makefile:140: recipe for target 'all' failed\r\n  >> 2749    make[2]: *** [all] Error 2\r\n     2750    make[2]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2751    make[2]: Entering directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2752    make[3]: Entering directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2753    make[4]: Entering directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2754    make[4]: Entering directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2755    make[4]: Entering directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n\r\n     ...\r\n\r\n     2788    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2789    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2790    [ 69%] Built target mongoose_test_memory\r\n     2791    [ 72%] Built target mongoose_test_edgesep\r\n     2792    [ 75%] Built target mongoose_test_performance\r\n     2793    /usr/bin/ld: /usr/lib/gcc/x86_64-linux-gnu/6/../../../x86_64-linux-gnu/libsuitesparseconfig.a(SuiteSparse_config.o): relocation R_X86_64_PC32 against symbol `SuiteSparse_config' can not be used when making a shared object; re\r\n             compile with -fPIC\r\n  >> 2794    /usr/bin/ld: final link failed: Bad value\r\n  >> 2795    collect2: error: ld returned 1 exit status\r\n     2796    CMakeFiles/mongoose_dylib.dir/build.make:504: recipe for target 'lib/libmongoose.so.2.0.2' failed\r\n  >> 2797    make[4]: *** [lib/libmongoose.so.2.0.2] Error 1\r\n     2798    make[4]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2799    CMakeFiles/Makefile2:321: recipe for target 'CMakeFiles/mongoose_dylib.dir/all' failed\r\n  >> 2800    make[3]: *** [CMakeFiles/mongoose_dylib.dir/all] Error 2\r\n     2801    make[3]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2802    Makefile:140: recipe for target 'all' failed\r\n  >> 2803    make[2]: *** [all] Error 2\r\n     2804    make[2]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose/build'\r\n     2805    Makefile:28: recipe for target 'install' failed\r\n  >> 2806    make[1]: *** [install] Error 2\r\n     2807    make[1]: Leaving directory '/tmp/ben/spack-stage/spack-stage-DwNOha/SuiteSparse/Mongoose'\r\n     2808    Makefile:40: recipe for target 'install' failed\r\n  >> 2809    make: *** [install] Error 2\r\n\r\nSee build log for details:\r\n  /home/ben/projects/spack/spack/var/spack/stage/suite-sparse-5.3.0-xd4moigqqgtoqzhs3xw53wk3lal2ayr6/SuiteSparse/spack-build.out\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```console\r\n$ uname -a\r\nLinux 4.9.0-8-amd64 #1 SMP Debian 4.9.130-2 (2018-10-27) x86_64 GNU/Linux\r\nx86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:    Debian GNU/Linux 9.6 (stretch)\r\n``` \r\nI have the following Debian packages installed:\r\n```console\r\n$ aptitude search suitesparse | grep ^i\r\ni  libsuitesparse-dev - libraries for sparse matrices computations (development files)\r\ni A libsuitesparseconfig4 - configuration routines for all SuiteSparse modules\r\n```\r\n\r\n### Additional information\r\n\r\n```console\r\n$ spack spec --install-status suite-sparse\r\nInput spec\r\n--------------------------------\r\n -   suite-sparse\r\n\r\nConcretized\r\n--------------------------------\r\n -   suite-sparse@5.3.0%gcc@6.3.0~cuda~openmp+pic~tbb arch=linux-debian9-x86_64 \r\n[+]      ^cmake@3.13.2%gcc@6.3.0~doc+ncurses+openssl+ownlibs~qt arch=linux-debian9-x86_64 \r\n[+]          ^ncurses@6.1%gcc@6.3.0~symlinks~termlib arch=linux-debian9-x86_64 \r\n[+]              ^pkgconf@1.5.4%gcc@6.3.0 arch=linux-debian9-x86_64 \r\n[+]          ^openssl@1.1.1%gcc@6.3.0+systemcerts arch=linux-debian9-x86_64 \r\n[+]              ^perl@5.26.2%gcc@6.3.0+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-debian9-x86_64 \r\n[+]                  ^gdbm@1.18.1%gcc@6.3.0 arch=linux-debian9-x86_64 \r\n[+]                      ^readline@7.0%gcc@6.3.0 arch=linux-debian9-x86_64 \r\n[+]              ^zlib@1.2.11%gcc@6.3.0+optimize+pic+shared arch=linux-debian9-x86_64 \r\n[+]      ^metis@5.1.0%gcc@6.3.0 build_type=Release ~gdb~int64 patches=4991da938c1d3a1d3dea78e49bbebecba00273f98df2a656e38b83d55b281da1,b1225da886605ea558db7ac08dd8054742ea5afe5ed61ad4d0fe7a495b1270d2 ~real64+shared arch=linux-debian9-x86_64 \r\n[+]      ^openblas@0.3.4%gcc@6.3.0 cpu_target= ~ilp64+pic+shared threads=none ~virtual_machine arch=linux-debian9-x86_64 \r\n```\r\n\r\nThe previous version can be installed with:\r\n```console\r\n$ spack install suite-sparse@5.2.0\r\n==> suite-sparse is already installed in /opt/spack/opt/linux-debian9-x86_64/gcc-6.3.0/suite-sparse-5.2.0-ch2ebcppbbafra3h3symyhjfryyxid3q\r\n```",
    "performed_via_github_app": null
}