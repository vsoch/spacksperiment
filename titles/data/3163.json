{
    "url": "https://api.github.com/repos/spack/spack/issues/3163",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/3163/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/3163/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/3163/events",
    "html_url": "https://github.com/spack/spack/issues/3163",
    "id": 208238094,
    "node_id": "MDU6SXNzdWUyMDgyMzgwOTQ=",
    "number": 3163,
    "title": "Installing python packages with \"non-standard\" python install",
    "user": {
        "login": "BarrySmith",
        "id": 512185,
        "node_id": "MDQ6VXNlcjUxMjE4NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/512185?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BarrySmith",
        "html_url": "https://github.com/BarrySmith",
        "followers_url": "https://api.github.com/users/BarrySmith/followers",
        "following_url": "https://api.github.com/users/BarrySmith/following{/other_user}",
        "gists_url": "https://api.github.com/users/BarrySmith/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BarrySmith/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BarrySmith/subscriptions",
        "organizations_url": "https://api.github.com/users/BarrySmith/orgs",
        "repos_url": "https://api.github.com/users/BarrySmith/repos",
        "events_url": "https://api.github.com/users/BarrySmith/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BarrySmith/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2017-02-16T20:33:52Z",
    "updated_at": "2017-02-16T20:42:14Z",
    "closed_at": "2017-02-16T20:38:47Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "```\r\n$ ./bin/spack install  py-mpi4py\r\n==> Installing py-mpi4py\r\n==> python is externally installed in /usr/bin\r\n==> openmpi is externally installed in /usr/local\r\n==> Installing py-setuptools\r\n==> python is externally installed in /usr/bin\r\n==> Using cached archive: /Users/barrysmith/Src/spack/var/spack/cache/py-setuptools/py-setuptools-25.2.0.tar.gz\r\n==> Already staged py-setuptools-25.2.0-wtwwb2ylkss2ajlglap5yjr4ynulufqu in /Users/barrysmith/Src/spack/var/spack/stage/py-setuptools-25.2.0-wtwwb2ylkss2ajlglap5yjr4ynulufqu\r\n==> No patches needed for py-setuptools\r\n==> Building py-setuptools [PythonPackage]\r\n==> Executing phase : 'build'\r\n==> Error: ProcessError: /usr/bin/bin/python: No such file or directory\r\n    Command: '/usr/bin/bin/python' 'setup.py' '--no-user-cfg' 'build'\r\n/Users/barrysmith/Src/spack/lib/spack/spack/build_systems/python.py:110, in python:\r\n     109      def python(self, *args):\r\n  >> 110          inspect.getmodule(self).python(*args)\r\n\r\nSee build log for details:\r\n  /private/var/folders/c1/ldz_dt8n2r3dtwv_chp5pfr40000gn/T/barrysmith/spack-stage/spack-stage-Q3uxMF/setuptools-25.2.0/spack-build.out\r\n~/Src/spack (develop=) arch-basic\r\n```\r\n\r\n```\r\n$ which python\r\n/usr/local/bin/python\r\n```\r\n\r\nIn my .spack/packages.yaml file I have \r\n\r\n```\r\n    python:\r\n        paths:\r\n            python@2.7.1: /usr/bin\r\n        buildable: False  \r\n```      \r\n\r\nNote it is a different python.\r\n\r\n/Users/barrysmith/Src/spack/lib/spack/spack/build_systems/python.py is using some information from the \"front end python\" (the python I am running spack with) and some information from the \"back end python\" the python that spack is installing packages for to generate an incorrect location of the python executable. \r\n\r\nGiven your complicated way of overlaping .python(args) to execute the python script I cannot figure out how to debug and fix the problem. \r\n\r\n Note that this is similar to the bug I fixed in https://github.com/LLNL/spack/pull/2173 but different and my fix only resolves the problem in that one place.\r\n\r\n",
    "performed_via_github_app": null
}