{
    "url": "https://api.github.com/repos/spack/spack/issues/19255",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/19255/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/19255/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/19255/events",
    "html_url": "https://github.com/spack/spack/issues/19255",
    "id": 718743319,
    "node_id": "MDU6SXNzdWU3MTg3NDMzMTk=",
    "number": 19255,
    "title": "Installation issue: gcc",
    "user": {
        "login": "ikitayama",
        "id": 962791,
        "node_id": "MDQ6VXNlcjk2Mjc5MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/962791?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ikitayama",
        "html_url": "https://github.com/ikitayama",
        "followers_url": "https://api.github.com/users/ikitayama/followers",
        "following_url": "https://api.github.com/users/ikitayama/following{/other_user}",
        "gists_url": "https://api.github.com/users/ikitayama/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ikitayama/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ikitayama/subscriptions",
        "organizations_url": "https://api.github.com/users/ikitayama/orgs",
        "repos_url": "https://api.github.com/users/ikitayama/repos",
        "events_url": "https://api.github.com/users/ikitayama/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ikitayama/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 618601843,
            "node_id": "MDU6TGFiZWw2MTg2MDE4NDM=",
            "url": "https://api.github.com/repos/spack/spack/labels/cuda",
            "name": "cuda",
            "color": "85b737",
            "default": false,
            "description": ""
        },
        {
            "id": 616911200,
            "node_id": "MDU6TGFiZWw2MTY5MTEyMDA=",
            "url": "https://api.github.com/repos/spack/spack/labels/gcc",
            "name": "gcc",
            "color": "0052cc",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2020-10-11T02:37:13Z",
    "updated_at": "2021-04-23T21:45:19Z",
    "closed_at": "2021-04-23T21:45:19Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I'd like to build a GCC Spack package with OpenMP offloading support on Arm, but build fails.\r\n\r\n```\r\n\r\n$ spack install gcc@10.2.0+nvptx\r\n==> Warning: Missing a source id for cuda@11.0.194\r\n==> cuda@11.0.194 : externally installed in /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/cuda-11.0.2-noc4cl3o64limk22u73ixlsnf7h6er3l\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/cuda-11.0.2-noc4cl3o64limk22u73ixlsnf7h6er3l\r\n==> autoconf@2.69 : externally installed in /usr\r\n[+] /usr\r\n==> automake@1.16.1 : externally installed in /usr\r\n[+] /usr\r\n==> libtool@2.4.6 : externally installed in /usr\r\n[+] /usr\r\n==> m4@1.4.18 : externally installed in /usr\r\n[+] /usr\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/autoconf-archive-2019.01.06-arg5vbqxzjm2z7lyb5ugq5sgthym6war\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/zlib-1.2.11-g2qi3vharhazw3gny4qctrmutalr2i4m\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/gmp-6.1.2-cbrqvt3voio7zog75xwjtzvhymsczopt\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/zstd-1.4.5-yzcse6wxkurko7xy5wlakofsqlmxy6cn\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/mpfr-4.0.2-bc42mhxphj4zjp6ze5wd2hx2aquakexi\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/isl-0.21-xrj2pnuix2eud6idfxwyptpir4464ceg\r\n[+] /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.1/mpc-1.1.0-jrmhvodgan3g7ftnsa6nl2czr3w7ynls\r\n==> Installing gcc\r\n==> No binary for gcc found: installing from source\r\n==> Using cached archive: /home/users/itaru.kitayama/projects/spack/var/spack/cache/_source-cache/archive/b8/b8dd4368bb9c7f0b98188317ee0254dd8cc99d1e3a18d0ff146c855fe16c1d8c.tar.xz\r\n==> Using cached archive: /home/users/itaru.kitayama/projects/spack/var/spack/cache/_source-cache/git//MentorEmbedded/nvptx-tools/5f6f343a302d620b0868edab376c00b15741e39e.tar.gz\r\n==> Using cached archive: /home/users/itaru.kitayama/projects/spack/var/spack/cache/_source-cache/archive/3a/3ad3664f227357df15ff34e954bfd9f501009a647667cd307bf0658aefd6eb5b.tar.gz\r\n==> Warning: Fetching from mirror without a checksum!\r\n  This package is normally checked out from a version control system, but it has been archived on a spack mirror.  This means we cannot know a checksum for the tarball in advance. Be sure that your connection to this mirror is secure!\r\n==> Moving resource stage\r\n\tsource : /tmp/itaru.kitayama/spack-stage/resource-nvptx-tools-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/\r\n\tdestination : /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/nvptx-tools\r\n==> Moving resource stage\r\n\tsource : /tmp/itaru.kitayama/spack-stage/resource-newlib-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/\r\n\tdestination : /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/newlibsource/newlib-3.0.0.20180831\r\n==> gcc: Executing phase: 'autoreconf'\r\n==> gcc: Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n3 errors found in build log:\r\n     85      checking for strings.h... yes\r\n     86      checking for inttypes.h... yes\r\n     87      checking for stdint.h... yes\r\n     88      checking for unistd.h... yes\r\n     89      checking whether byte ordering is bigendian... no\r\n     90      checking for a BSD-compatible install... /usr/bin/install -c\r\n  >> 91      /bin/sh: ./../move-if-change: No such file or directory\r\n     92      checking for sys/file.h... yes\r\n     93      checking for sys/param.h... yes\r\n     94      checking for limits.h... yes\r\n     95      checking for stdlib.h... (cached) yes\r\n     96      checking for malloc.h... yes\r\n     97      checking for string.h... (cached) yes\r\n\r\n     ...\r\n\r\n     5268    checking for nvptx-none-lipo... nvptx-none-lipo\r\n     5269    checking for nvptx-none-nm... /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.0\r\n             -lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/spack-build-nvptx/./gcc/nm\r\n     5270    checking for nvptx-none-ranlib... /home/users/itaru.kitayama/projects/spack/opt/spac\r\n             k/linux-centos8-thunderx2/gcc-8.3.1/gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/nvpt\r\n             x-none/bin/ranlib\r\n     5271    checking for nvptx-none-strip... nvptx-none-strip\r\n     5272    checking whether ln -s works... yes\r\n     5273    checking for nvptx-none-gcc... /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.\r\n             0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/spack-build-nvptx/./gcc/xgcc -B/tmp/ita\r\n             ru.kitayama/spack-stage/spack-stage-gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spac\r\n             k-src/spack-build-nvptx/./gcc/ -nostdinc -B/tmp/itaru.kitayama/spack-stage/spack-sta\r\n             ge-gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/spack-build-nvptx/nvptx-non\r\n             e/newlib/ -isystem /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.0-lliylnvoao\r\n             tjpz3dibxbvn4de2lutcsu/spack-src/spack-build-nvptx/nvptx-none/newlib/targ-include -i\r\n             system /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.0-lliylnvoaotjpz3dibxbvn\r\n             4de2lutcsu/spack-src/newlib/libc/include -B/home/users/itaru.kitayama/projects/spack\r\n             /opt/spack/linux-centos8-thunderx2/gcc-8.3.1/gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lu\r\n             tcsu/nvptx-none/bin/ -B/home/users/itaru.kitayama/projects/spack/opt/spack/linux-cen\r\n             tos8-thunderx2/gcc-8.3.1/gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/nvptx-none/lib/\r\n              -isystem /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx\r\n             2/gcc-8.3.1/gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/nvptx-none/include -isystem\r\n             /home/users/itaru.kitayama/projects/spack/opt/spack/linux-centos8-thunderx2/gcc-8.3.\r\n             1/gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/nvptx-none/sys-include\r\n  >> 5274    checking for suffix of object files... configure: error: in `/tmp/itaru.kitayama/spa\r\n             ck-stage/spack-stage-gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-src/spack-bui\r\n             ld-nvptx/nvptx-none/libgcc':\r\n  >> 5275    configure: error: cannot compute suffix of object files: cannot compile\r\n     5276    See `config.log' for more details\r\n     5277    make[1]: *** [Makefile:11947: configure-target-libgcc] Error 1\r\n     5278    make[1]: *** Waiting for unfinished jobs....\r\n     5279    mv -f .deps/connection.Tpo .deps/connection.Plo\r\n     5280    mv -f .deps/findcomp.Tpo .deps/findcomp.Plo\r\n     5281    mv -f .deps/libcc1.Tpo .deps/libcc1.Plo\r\n\r\nSee build log for details:\r\n  /tmp/itaru.kitayama/spack-stage/spack-stage-gcc-10.2.0-lliylnvoaotjpz3dibxbvn4de2lutcsu/spack-build-out.txt\r\n```\r\n",
    "performed_via_github_app": null
}