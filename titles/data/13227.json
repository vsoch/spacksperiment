{
    "url": "https://api.github.com/repos/spack/spack/issues/13227",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13227/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13227/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13227/events",
    "html_url": "https://github.com/spack/spack/issues/13227",
    "id": 507541685,
    "node_id": "MDU6SXNzdWU1MDc1NDE2ODU=",
    "number": 13227,
    "title": "Installation issue: cmake",
    "user": {
        "login": "pibion",
        "id": 1872784,
        "node_id": "MDQ6VXNlcjE4NzI3ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1872784?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pibion",
        "html_url": "https://github.com/pibion",
        "followers_url": "https://api.github.com/users/pibion/followers",
        "following_url": "https://api.github.com/users/pibion/following{/other_user}",
        "gists_url": "https://api.github.com/users/pibion/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pibion/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pibion/subscriptions",
        "organizations_url": "https://api.github.com/users/pibion/orgs",
        "repos_url": "https://api.github.com/users/pibion/repos",
        "events_url": "https://api.github.com/users/pibion/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pibion/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 508566016,
            "node_id": "MDU6TGFiZWw1MDg1NjYwMTY=",
            "url": "https://api.github.com/repos/spack/spack/labels/cmake",
            "name": "cmake",
            "color": "c2e0c6",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "chuckatkins",
        "id": 320135,
        "node_id": "MDQ6VXNlcjMyMDEzNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/320135?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chuckatkins",
        "html_url": "https://github.com/chuckatkins",
        "followers_url": "https://api.github.com/users/chuckatkins/followers",
        "following_url": "https://api.github.com/users/chuckatkins/following{/other_user}",
        "gists_url": "https://api.github.com/users/chuckatkins/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chuckatkins/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chuckatkins/subscriptions",
        "organizations_url": "https://api.github.com/users/chuckatkins/orgs",
        "repos_url": "https://api.github.com/users/chuckatkins/repos",
        "events_url": "https://api.github.com/users/chuckatkins/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chuckatkins/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "chuckatkins",
            "id": 320135,
            "node_id": "MDQ6VXNlcjMyMDEzNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/320135?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chuckatkins",
            "html_url": "https://github.com/chuckatkins",
            "followers_url": "https://api.github.com/users/chuckatkins/followers",
            "following_url": "https://api.github.com/users/chuckatkins/following{/other_user}",
            "gists_url": "https://api.github.com/users/chuckatkins/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chuckatkins/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chuckatkins/subscriptions",
            "organizations_url": "https://api.github.com/users/chuckatkins/orgs",
            "repos_url": "https://api.github.com/users/chuckatkins/repos",
            "events_url": "https://api.github.com/users/chuckatkins/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chuckatkins/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 9,
    "created_at": "2019-10-16T00:03:20Z",
    "updated_at": "2019-11-09T14:54:43Z",
    "closed_at": "2019-11-06T07:42:24Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install cmake@3.15.4 %gcc@4.8.5\r\n... \r\n==> Executing phase: 'bootstrap'                                                                                        \r\n==> [2019-10-15-23:13:35.418868] './bootstrap' '--prefix=/home/daq/packages/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/cmake-3.15.4-n32j6iddoejl2qjmtqxo4npaelqsgaf5' '--parallel=8' '--no-system-libs' '--no-qt-gui' '--' '-DCMAKE_USE_OPENSSL=True'  \r\n--------------------------------------------                                                                           \r\nCMake 3.15.4, Copyright 2000-2019 Kitware, Inc. and Contributors\r\nC compiler on this system is: /home/daq/packages/spack/lib/spack/env/gcc/gcc\r\n---------------------------------------------                                                                           \r\nError when bootstrapping CMake:\r\nCannot find a C++ compiler that supports both C++11 and the specified C++ flags.\r\nPlease specify one using environment variable CXX.  \r\nThe C++ flags are \"\".  \r\nThey can be changed using the environment variable CXXFLAGS. \r\nSee cmake_bootstrap.log for compilers attempted.  \r\n```\r\n\r\n### Platform and user environment\r\n\r\nI am running a centos7 docker container, with gcc@4.8.5 installed on the system:\r\n```commandline\r\n$ uname -a \r\n(base) [daq@e0dcbfa7d647 ~]$ uname -a                                                                                   \r\nLinux e0dcbfa7d647 4.19.72-microsoft-standard #1 SMP Sun Sep 15 10:03:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$ gcc --version\r\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)\r\n$ spack compilers\r\n==> Available compilers                                                                                                 \r\n-- gcc centos7-x86_64 -------------------------------------------  \r\ngcc@4.8.5     \r\n``` \r\n\r\nI'm confused by this error; I thought that a gcc version greater than 4.8.1 should implement the full C++11 standard.\r\n\r\n### Additional information\r\n\r\nIt seems that my spack installation is able to build some packages correctly:\r\n```console\r\n$ spack spec --install-status cmake\r\nInput spec                                                                                                              \r\n--------------------------------                                                                                         \r\n-   cmake      \r\nConcretized                                                                                                             \r\n--------------------------------     \r\n-   cmake@3.15.4%gcc@4.8.5~doc+ncurses+openssl+ownlibs~qt arch=linux-centos7-haswell\r\n[+]      ^ncurses@6.1%gcc@4.8.5~symlinks~termlib arch=linux-centos7-haswell      \r\n[+]          ^pkgconf@1.6.3%gcc@4.8.5 arch=linux-centos7-haswell      \r\n[+]      ^openssl@1.1.1d%gcc@4.8.5+systemcerts arch=linux-centos7-haswell   \r\n[+]          ^perl@5.30.0%gcc@4.8.5+cpanm+shared+threads arch=linux-centos7-haswell     \r\n[+]              ^gdbm@1.18.1%gcc@4.8.5 arch=linux-centos7-haswell    \r\n[+]                  ^readline@8.0%gcc@4.8.5 arch=linux-centos7-haswell    \r\n[+]          ^zlib@1.2.11%gcc@4.8.5+optimize+pic+shared arch=linux-centos7-haswell\r\n```\r\n\r\nRebuilding the package with the following options also fails and produces spack-cc-cmake-n32j6id.in.log  and spack-cc-cmake-n32j6id.out.log, both of which are attached below.\r\n```console\r\n$ spack -d install -j 1 cmake\r\n...\r\nTraceback (most recent call last):                                                                                        \r\nFile \"/home/daq/packages/spack/lib/spack/spack/build_environment.py\", line 775, in child_process\r\nreturn_value = function()                                                                                             \r\nFile \"/home/daq/packages/spack/lib/spack/spack/package.py\", line 1667, in build_process\r\nphase(self.spec, self.prefix)                                                                                         \r\nFile \"/home/daq/packages/spack/lib/spack/spack/package.py\", line 109, in phase_wrapper\r\nphase(spec, prefix)                                                                                                   \r\nFile \"/home/daq/packages/spack/var/spack/repos/builtin/packages/cmake/package.py\", line 170, in\r\nbootstrap               \r\nFile \"/home/daq/packages/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\nproc.returncode, long_msg)                                                                                          spack.util.executable.ProcessError: Command exited with status 7:                                                           './bootstrap' '--prefix=/home/daq/packages/spack/opt/spack/linux-centos7-haswell/gcc-4.8.5/cmake-3.15.4-n32j6iddoejl2qjmtqxo4npaelqsgaf5' '--parallel=1' '--no-system-libs' '--no-qt-gui' '--' '-DCMAKE_USE_OPENSSL=True'\r\n```\r\n\r\n[spack-cc-cmake-n32j6id.in.log](https://github.com/spack/spack/files/3731867/spack-cc-cmake-n32j6id.in.log)\r\n[spack-cc-cmake-n32j6id.out.log](https://github.com/spack/spack/files/3731868/spack-cc-cmake-n32j6id.out.log)\r\n\r\n",
    "performed_via_github_app": null
}