{
    "url": "https://api.github.com/repos/spack/spack/issues/9347",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9347/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9347/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9347/events",
    "html_url": "https://github.com/spack/spack/pull/9347",
    "id": 363830599,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjE4MTY5MDA3",
    "number": 9347,
    "title": "[WIP] update \"spack clean\" with \"--locks\" option",
    "user": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 471995122,
            "node_id": "MDU6TGFiZWw0NzE5OTUxMjI=",
            "url": "https://api.github.com/repos/spack/spack/labels/commands",
            "name": "commands",
            "color": "006b75",
            "default": false,
            "description": null
        },
        {
            "id": 446780710,
            "node_id": "MDU6TGFiZWw0NDY3ODA3MTA=",
            "url": "https://api.github.com/repos/spack/spack/labels/locking",
            "name": "locking",
            "color": "e99695",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-09-26T02:09:25Z",
    "updated_at": "2020-08-23T03:31:13Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/9347",
        "html_url": "https://github.com/spack/spack/pull/9347",
        "diff_url": "https://github.com/spack/spack/pull/9347.diff",
        "patch_url": "https://github.com/spack/spack/pull/9347.patch"
    },
    "body": "Fixes https://github.com/spack/spack/issues/8915\r\n\r\nAs noted in https://github.com/spack/spack/issues/8915#issuecomment-418166162 there are conditions where Spack may crash and when restarted attempt to acquire filesystem locks that its previous incarnation held and have not yet been cleaned up. It was observed that removing the lock files releases the associated filesystem locks.\r\n\r\nThis is only safe if the user knows that a single instance of Spack is running, so it is not included in `spack clean -a`. It is anticipated to be useful in the case that Spack is running in a script and the script restarts Spack automatically.\r\n\r\nGenerally my hypothesis is that waiting would also resolve the issue but that doesn't apply for scripting, and it doesn't make sense to force the user to wait if they are running a single Spack instance.",
    "performed_via_github_app": null
}