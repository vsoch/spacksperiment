{
    "url": "https://api.github.com/repos/spack/spack/issues/16151",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16151/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16151/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16151/events",
    "html_url": "https://github.com/spack/spack/issues/16151",
    "id": 602618836,
    "node_id": "MDU6SXNzdWU2MDI2MTg4MzY=",
    "number": 16151,
    "title": "Installation issue: fontconfig-2.13.1 % gcc",
    "user": {
        "login": "KineticTheory",
        "id": 17579601,
        "node_id": "MDQ6VXNlcjE3NTc5NjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/17579601?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KineticTheory",
        "html_url": "https://github.com/KineticTheory",
        "followers_url": "https://api.github.com/users/KineticTheory/followers",
        "following_url": "https://api.github.com/users/KineticTheory/following{/other_user}",
        "gists_url": "https://api.github.com/users/KineticTheory/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KineticTheory/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KineticTheory/subscriptions",
        "organizations_url": "https://api.github.com/users/KineticTheory/orgs",
        "repos_url": "https://api.github.com/users/KineticTheory/repos",
        "events_url": "https://api.github.com/users/KineticTheory/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KineticTheory/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-04-19T04:35:11Z",
    "updated_at": "2020-04-21T16:21:32Z",
    "closed_at": "2020-04-21T16:15:39Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Overview\r\n\r\n* I am using `spack-0.14.2` and I am unable to install `fontconfig@2.13.` with either `gcc@4.8.5` or `gcc@9.2.0`.\r\n* Error: `/tmp/kellyt/spack-stage/spack-stage-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj/spack-src/fc-cache/.libs/lt-fc-cache: failed`\r\n* Possibly related to #12547 (font-util).  I had to comment out `font-bh-ttf` to install `font-util`.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install fontconfig\r\n\r\n==> 75205: Installing fontconfig\r\n==> Finding buildcaches in /ccs/opt/vendors/spack.mirror/build_cache\r\n==> Fetching file:///ccs/opt/vendors/spack.mirror/build_cache/linux-rhel7-sandybridge-gcc-9.2.0-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj.spec.yaml\r\ncurl: (37) Couldn't open file /ccs/opt/vendors/spack.mirror/build_cache/linux-rhel7-sandybridge-gcc-9.2.0-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj.spec.yaml\r\n==> Failed to fetch file from URL: file:///ccs/opt/vendors/spack.mirror/build_cache/linux-rhel7-sandybridge-gcc-9.2.0-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj.spec.yaml\r\n    Curl failed with error 37\r\n==> Fetching from file:///ccs/opt/vendors/spack.mirror/build_cache/linux-rhel7-sandybridge-gcc-9.2.0-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj.spec.yaml failed.\r\n==> Using cached archive: /ccs/opt/vendors/spack-0.14.2/var/spack/cache/_source-cache/archive/9f/9f0d852b39d75fc655f9f53850eb32555394f36104a044bb2b2fc9e66dbbfa7f.tar.gz\r\n==> Staging archive: /tmp/kellyt/spack-stage/spack-stage-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj/fontconfig-2.13.1.tar.gz\r\n==> Created stage in /tmp/kellyt/spack-stage/spack-stage-fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj\r\n==> No patches needed for fontconfig\r\n==> 75205: fontconfig: Building fontconfig [AutotoolsPackage]\r\n==> 75205: fontconfig: Executing phase: 'autoreconf'\r\n==> 75205: fontconfig: Executing phase: 'configure'\r\n==> 75205: fontconfig: Executing phase: 'build'\r\n==> 75205: fontconfig: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j64' 'install'\r\n\r\n3 errors found in build log:\r\n     673    /ccs/opt/vendors/spack-0.14.2/opt/spack/linux-rhel7-sandybridge/gcc\r\n            -9.2.0/font-util-1.3.2-qsixnq3qrj5ryibmb6jo6rf5ns3laolm/share/fonts\r\n            /X11/encodings: skipping, looped directory detected\r\n     674    /ccs/opt/vendors/spack-0.14.2/opt/spack/linux-rhel7-sandybridge/gcc\r\n            -9.2.0/font-util-1.3.2-qsixnq3qrj5ryibmb6jo6rf5ns3laolm/share/fonts\r\n            /X11/misc: skipping, looped directory detected\r\n     675    /ccs/opt/vendors/spack-0.14.2/opt/spack/linux-rhel7-sandybridge/gcc\r\n            -9.2.0/font-util-1.3.2-qsixnq3qrj5ryibmb6jo6rf5ns3laolm/share/fonts\r\n            /X11/util: skipping, looped directory detected\r\n     676    /ccs/opt/vendors/spack-0.14.2/opt/spack/linux-rhel7-sandybridge/gcc\r\n            -9.2.0/font-util-1.3.2-qsixnq3qrj5ryibmb6jo6rf5ns3laolm/share/fonts\r\n            /X11/encodings/large: skipping, looped directory detected\r\n     677    /ccs/opt/vendors/spack-0.14.2/opt/spack/linux-rhel7-sandybridge/gcc\r\n            -9.2.0/fontconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj/var/cache\r\n            /fontconfig: cleaning cache directory\r\n     678    /tmp/kellyt/spack-stage/spack-stage-fontconfig-2.13.1-m4i64qfhq2rk6\r\n            hhhznqwxdxvcml6ninj/spack-src/fc-cache/.libs/lt-fc-cache: failed\r\n  >> 679    make[2]: *** [install-data-local] Error 2\r\n     680    make[2]: Leaving directory `/tmp/kellyt/spack-stage/spack-stage-fon\r\n            tconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj/spack-src'\r\n  >> 681    make[1]: *** [install-am] Error 2\r\n     682    make[1]: Leaving directory `/tmp/kellyt/spack-stage/spack-stage-fon\r\n            tconfig-2.13.1-m4i64qfhq2rk6hhhznqwxdxvcml6ninj/spack-src'\r\n  >> 683    make: *** [install-recursive] Error 1\r\n```\r\n\r\n### Information on your system\r\n\r\n```console\r\n$ spack debug report\r\nusage: spack debug [-h] SUBCOMMAND ...\r\nspack debug: error: argument SUBCOMMAND: invalid choice: 'report' choose from:\r\n    create-db-tarball\r\n```\r\n\r\n```\r\n$  cat /etc/redhat-release \r\nRed Hat Enterprise Linux Workstation release 7.8 (Maipo)\r\n\r\n$ lscpu\r\nArchitecture:          x86_64\r\nCPU op-mode(s):        32-bit, 64-bit\r\nByte Order:            Little Endian\r\nCPU(s):                64\r\nIntel(R) Xeon(R) CPU E5-4620 0 @ 2.20GHz\r\n\r\n$ python --version\r\nPython 2.7.5\r\n\r\n$ spack arch\r\nlinux-rhel7-sandybridge\r\n```\r\n\r\n### Additional information\r\n\r\n[spack-build-env.txt](https://github.com/spack/spack/files/4498366/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/4498367/spack-build-out.txt)\r\n\r\n* No maintainer listed.\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x] I have run `spack debug report` \r\n  - Command failed. (and reported the version of Spack/Python/Platform)\r\n  - python-2.7.5\r\n  \r\n- [x] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [x] I have uploaded the build log and environment files\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}