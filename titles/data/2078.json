{
    "url": "https://api.github.com/repos/spack/spack/issues/2078",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2078/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2078/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2078/events",
    "html_url": "https://github.com/spack/spack/pull/2078",
    "id": 184607094,
    "node_id": "MDExOlB1bGxSZXF1ZXN0OTA0Njk3OTA=",
    "number": 2078,
    "title": "[WIP] Allow CTRL-C to stop all spack tests",
    "user": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446620495,
            "node_id": "MDU6TGFiZWw0NDY2MjA0OTU=",
            "url": "https://api.github.com/repos/spack/spack/labels/WIP",
            "name": "WIP",
            "color": "ededed",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2016-10-22T04:25:14Z",
    "updated_at": "2016-10-24T18:07:04Z",
    "closed_at": "2016-10-24T18:07:04Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/2078",
        "html_url": "https://github.com/spack/spack/pull/2078",
        "diff_url": "https://github.com/spack/spack/pull/2078.diff",
        "patch_url": "https://github.com/spack/spack/pull/2078.patch"
    },
    "body": "Notes:\n- Without edits to build process: doing a CTRL-C during tests which invoke package.do_install may fail to clean up child process state (in which case the child process continues on). This should actually only be an issue during \"spack test\" since it in part results from the fact that the test runner catches exceptions which would normally terminate the child process. So at the moment IMO it is overly complex.\n- Currently the InterruptRecorder is not inter-process compatible, but the issue did not result from multi-process so it is sufficient\n- nose itself is stored in spack externals, and this issue could also be resolved by editing the following selection to raise in nose/core.py: \n\n```\n        try:\n            test(result)\n        except KeyboardInterrupt:\n            pass\n```\n\nHowever, I preferred to leave the library code alone.\n\nCommit message below:\n\nFixes #2029\n\nSpack runs tests on a per-module basis. Prior to this commit, if a user\nran \"spack test\" and attempted to stop it part-way through with CTRL-C,\nonly the tests for the particular module being tested at the time were\ninterrupted (at which point it would move on to the next module). With\nthis commit, CTRL-C will stop all tests, though Spack will still print\nstats for all tests run before the interrupt before exiting.\n",
    "performed_via_github_app": null
}