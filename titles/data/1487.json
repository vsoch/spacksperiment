{
    "url": "https://api.github.com/repos/spack/spack/issues/1487",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/1487/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/1487/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/1487/events",
    "html_url": "https://github.com/spack/spack/issues/1487",
    "id": 170403677,
    "node_id": "MDU6SXNzdWUxNzA0MDM2Nzc=",
    "number": 1487,
    "title": "Cannot install gcc: C compiler cannot create executables",
    "user": {
        "login": "ToonWeyens",
        "id": 6638761,
        "node_id": "MDQ6VXNlcjY2Mzg3NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6638761?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ToonWeyens",
        "html_url": "https://github.com/ToonWeyens",
        "followers_url": "https://api.github.com/users/ToonWeyens/followers",
        "following_url": "https://api.github.com/users/ToonWeyens/following{/other_user}",
        "gists_url": "https://api.github.com/users/ToonWeyens/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ToonWeyens/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ToonWeyens/subscriptions",
        "organizations_url": "https://api.github.com/users/ToonWeyens/orgs",
        "repos_url": "https://api.github.com/users/ToonWeyens/repos",
        "events_url": "https://api.github.com/users/ToonWeyens/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ToonWeyens/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 13,
    "created_at": "2016-08-10T12:22:12Z",
    "updated_at": "2018-11-09T05:38:30Z",
    "closed_at": "2016-09-15T10:36:52Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "When trying to install gcc using spack I get an error when compiling the actual gcc source code. I get the same error for multiple machines (our cluster and my own private laptop) and for at least versions 6.1.0 and 5.4.0.\n\nThe error is `C compiler cannot create executables` but I don't know how to fix it as in [issue 1038](https://github.com/LLNL/spack/issues/1038).\n\nThe file `spack-build.out` gives:\n\n```\n==> '/home/toon/testspack/var/spack/stage/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6/gcc-6.1.0/configure' '--prefix=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6' '--libdir=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6/lib64' '--disable-multilib' '--enable-languages=c,java,c++,fortran,objc,go' '--with-mpc=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/mpc-1.0.3-u3edu7j3u22injou273z4hizip6vhjjt' '--with-mpfr=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/mpfr-3.1.4-zktmbe3mgwuw3t4c3l7gb7ulnxgzd2tb' '--with-gmp=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gmp-6.1.1-36t7wx6655klu7waooeymnz46rxynaug' '--enable-lto' '--with-quad' '--with-sysroot=/' '--with-stage1-ldflags=-Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6/lib64 -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gmp-6.1.1-36t7wx6655klu7waooeymnz46rxynaug/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/isl-0.14-b7nimaueyc7lzqpmdkttmecgm7srhc75/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/mpc-1.0.3-u3edu7j3u22injou273z4hizip6vhjjt/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/binutils-2.25-e34u7ath72ak6d6sicerzub37dvhubf5/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/mpfr-3.1.4-zktmbe3mgwuw3t4c3l7gb7ulnxgzd2tb/lib -static-libstdc++ -static-libgcc' '--with-boot-ldflags=-Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gcc-6.1.0-ch6rh6557ua3p7fnrauyqswcpxqn4bt6/lib64 -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/gmp-6.1.1-36t7wx6655klu7waooeymnz46rxynaug/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/isl-0.14-b7nimaueyc7lzqpmdkttmecgm7srhc75/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/mpc-1.0.3-u3edu7j3u22injou273z4hizip6vhjjt/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/binutils-2.25-e34u7ath72ak6d6sicerzub37dvhubf5/lib -Wl,-rpath,/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/mpfr-3.1.4-zktmbe3mgwuw3t4c3l7gb7ulnxgzd2tb/lib -static-libstdc++ -static-libgcc' '--with-gnu-ld' '--with-ld=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/binutils-2.25-e34u7ath72ak6d6sicerzub37dvhubf5/bin/ld' '--with-gnu-as' '--with-as=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/binutils-2.25-e34u7ath72ak6d6sicerzub37dvhubf5/bin/as' '--with-isl=/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/isl-0.14-b7nimaueyc7lzqpmdkttmecgm7srhc75'\nchecking build system type... x86_64-pc-linux-gnu\nchecking host system type... x86_64-pc-linux-gnu\nchecking target system type... x86_64-pc-linux-gnu\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether ln works... yes\nchecking whether ln -s works... yes\nchecking for a sed that does not truncate output... /bin/sed\nchecking for gawk... gawk\nchecking for libatomic support... yes\nchecking for libcilkrts support... yes\nchecking for libitm support... yes\nchecking for libsanitizer support... yes\nchecking for libvtv support... yes\nchecking for libmpx support... yes\nchecking for gcc... /home/toon/testspack/lib/spack/env/gcc/gcc\nchecking for C compiler default output file name... \nconfigure: error: in `/tmp/toon/spack-stage/spack-stage-d1WhBG/spack-build':\nconfigure: error: C compiler cannot create executables\nSee `config.log' for more details.\n```\n\nand [config.log](https://github.com/LLNL/spack/files/410994/config.log.txt) is attached. It looks like the error occurs here:\n\n```\nconfigure:4436: /home/toon/testspack/lib/spack/env/gcc/gcc    conftest.c  >&5\n/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/binutils-2.25-e34u7ath72ak6d6sicerzub37dvhubf5/bin/ld: /usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/crti.o: unrecognized relocation (0x2a) in section `.init'\n/home/toon/testspack/opt/spack/linux-Ubuntu16-x86_64/gcc-5.4.0/binutils-2.25-e34u7ath72ak6d6sicerzub37dvhubf5/bin/ld: final link failed: Bad value\n```\n\nDo you have any idea how to solve this? Thank in advance.\n",
    "performed_via_github_app": null
}