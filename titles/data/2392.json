{
    "url": "https://api.github.com/repos/spack/spack/issues/2392",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2392/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2392/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2392/events",
    "html_url": "https://github.com/spack/spack/issues/2392",
    "id": 191217724,
    "node_id": "MDU6SXNzdWUxOTEyMTc3MjQ=",
    "number": 2392,
    "title": "internal BLAS/LAPACK in packages",
    "user": {
        "login": "davydden",
        "id": 8023934,
        "node_id": "MDQ6VXNlcjgwMjM5MzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8023934?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davydden",
        "html_url": "https://github.com/davydden",
        "followers_url": "https://api.github.com/users/davydden/followers",
        "following_url": "https://api.github.com/users/davydden/following{/other_user}",
        "gists_url": "https://api.github.com/users/davydden/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/davydden/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/davydden/subscriptions",
        "organizations_url": "https://api.github.com/users/davydden/orgs",
        "repos_url": "https://api.github.com/users/davydden/repos",
        "events_url": "https://api.github.com/users/davydden/events{/privacy}",
        "received_events_url": "https://api.github.com/users/davydden/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446634397,
            "node_id": "MDU6TGFiZWw0NDY2MzQzOTc=",
            "url": "https://api.github.com/repos/spack/spack/labels/discussion",
            "name": "discussion",
            "color": "a87f5a",
            "default": false,
            "description": null
        },
        {
            "id": 446625544,
            "node_id": "MDU6TGFiZWw0NDY2MjU1NDQ=",
            "url": "https://api.github.com/repos/spack/spack/labels/documentation",
            "name": "documentation",
            "color": "0d5977",
            "default": true,
            "description": ""
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2016-11-23T09:06:53Z",
    "updated_at": "2016-11-23T16:11:55Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I was always of opinion that no package in Spack should try using some internally provided dependencies like BLAS/LAPACK (e.g. in SuperLU https://github.com/LLNL/spack/pull/2390). To me there is no difference between internal BLAS/LAPACK or internal dependencies like what PETSc can do (download Superlu-Dist, Hypre, Openmpi, Openblas, HDF5, etc). So if we don't encourage packages to do the latter (I think we all agree on that point), i see no reasons why we should allow using internal BLAS/LAPACK either.\r\n\r\nThe reason is always the same and applies to both cases: imagine what happens if you have a graph of packages which are used to build something. All packages in the DAG are build as shared libraries, and each use it's own BLAS, some 32bit, some 64bit, some with threading, some without, etc. It defeats the whole beauty of Spack which guarantees that only one version of package is used within the DAG.\r\n\r\nSo if there is a collective agreement not to allow usage of internal BLAS/LAPACK (and any other dependency for that matter), then\r\n\r\n- it should be documented in Packaging Guide\r\n- current packages need to get rid of all variants which allow internal BLAS/LAPACK.\r\n\r\nThoughts?",
    "performed_via_github_app": null
}