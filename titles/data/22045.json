{
    "url": "https://api.github.com/repos/spack/spack/issues/22045",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/22045/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/22045/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/22045/events",
    "html_url": "https://github.com/spack/spack/pull/22045",
    "id": 820163902,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTgzMTU0MjI2",
    "number": 22045,
    "title": "Expand relative dev paths in environment files",
    "user": {
        "login": "haampie",
        "id": 194764,
        "node_id": "MDQ6VXNlcjE5NDc2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/194764?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/haampie",
        "html_url": "https://github.com/haampie",
        "followers_url": "https://api.github.com/users/haampie/followers",
        "following_url": "https://api.github.com/users/haampie/following{/other_user}",
        "gists_url": "https://api.github.com/users/haampie/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/haampie/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/haampie/subscriptions",
        "organizations_url": "https://api.github.com/users/haampie/orgs",
        "repos_url": "https://api.github.com/users/haampie/repos",
        "events_url": "https://api.github.com/users/haampie/events{/privacy}",
        "received_events_url": "https://api.github.com/users/haampie/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-03-02T16:11:09Z",
    "updated_at": "2021-03-15T21:13:07Z",
    "closed_at": "2021-03-15T20:38:36Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/22045",
        "html_url": "https://github.com/spack/spack/pull/22045",
        "diff_url": "https://github.com/spack/spack/pull/22045.diff",
        "patch_url": "https://github.com/spack/spack/pull/22045.patch"
    },
    "body": "Solves an issue where `spack env create [name] [path]` followed by `spack -e [name] install` fails when there are relative paths in `develop:spec:path`.\n\nThe problem is caused by spack relocating the spack.yaml file to `<spack>/var/environments/<name>/spack.yaml`.\n\nThis PR expands the relative paths to their normalized absolute path after reading the spack.yaml file.\n\nAlso fixes an issue for anonymous environments where relative paths ended up properly expanded in the `dev_path` variant of specs, but they were not normalized, leading to variants like `myspec dev_path=/path/to/env/dir/../sources`.\n",
    "performed_via_github_app": null
}