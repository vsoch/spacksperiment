{
    "url": "https://api.github.com/repos/spack/spack/issues/9646",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9646/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9646/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9646/events",
    "html_url": "https://github.com/spack/spack/issues/9646",
    "id": 374273886,
    "node_id": "MDU6SXNzdWUzNzQyNzM4ODY=",
    "number": 9646,
    "title": "Installation issue: blast-plus",
    "user": {
        "login": "phxyz12",
        "id": 11509797,
        "node_id": "MDQ6VXNlcjExNTA5Nzk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11509797?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/phxyz12",
        "html_url": "https://github.com/phxyz12",
        "followers_url": "https://api.github.com/users/phxyz12/followers",
        "following_url": "https://api.github.com/users/phxyz12/following{/other_user}",
        "gists_url": "https://api.github.com/users/phxyz12/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/phxyz12/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/phxyz12/subscriptions",
        "organizations_url": "https://api.github.com/users/phxyz12/orgs",
        "repos_url": "https://api.github.com/users/phxyz12/repos",
        "events_url": "https://api.github.com/users/phxyz12/events{/privacy}",
        "received_events_url": "https://api.github.com/users/phxyz12/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-10-26T08:13:50Z",
    "updated_at": "2018-11-03T01:07:09Z",
    "closed_at": "2018-11-03T01:07:09Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install blast-plus %gcc@7.3.0 \r\n\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/tmp/swadm/spack-stage/spack-stage-to6lRR/ncbi-blast-2.7.1+-src/c++/configure' '--prefix=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/blast-plus-2.7.1-q37xd35h' '--with-bin-release' '--without-debug' '--with-mt' '--with-64' '--without-boost' '--with-dll' '--without-static' '--without-static-exe' '--with-jpeg=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/libjpeg-turbo-1.5.90-zxzz6oip' '--with-png=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/libpng-1.6.34-yln6jrur' '--with-freetype=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/freetype-2.9.1-somhyhqs' '--without-hdf5' '--with-z=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/zlib-1.2.11-zknfwanb' '--with-bz2=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/bzip2-1.0.6-hzpdm3hw' '--with-lzo=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/lzo-2.09-74jpbr5o' '--with-gnutls=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/gnutls-3.5.13-ylsgp5dz' '--with-openssl=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/openssl-1.0.2o-sh6zpq5n' '--with-pcre=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/pcre-8.42-gzs4wakw' '--with-python=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/python-2.7.15-2azrjn6j' '--with-perl=/cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/perl-5.26.2-6it6cpil'\r\n\r\n1 error found in build log:\r\n     411    checking for libpng in /cfs/software/spack/linux-centos7-x86_64/gcc-7.3.0/libpng-1.6.34-yln6jrur... yes\r\n     412    checking for libtiff... no\r\n     413    checking for libgif... no\r\n     414    checking for libungif... no\r\n     415    checking for libXpm... no\r\n     416    checking for freetype-config... no\r\n  >> 417    configure: error: --with-freetype explicitly specified, but no usable version found.\r\n\r\n```\r\nAs you can see, freetype is already installed and correctly listed in prefix=/cfs... above.\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\n$ uname -a \r\nLinux build02.hpc.zhaw.ch 3.10.0-862.14.4.el7.x86_64 #1 SMP Wed Sep 26 15:12:11 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:\tCentOS Linux release 7.5.1804 (Core)\r\n``` \r\nand, if relevant, post or attach:\r\n\r\n- `packages.yaml`\r\n- `compilers.yaml`\r\n\r\nto the issue\r\n\r\n### Additional information\r\n\r\n```console\r\n[swadm@build02 ~]$ spack spec --install-status freetype\r\nInput spec\r\n--------------------------------\r\n     freetype\r\n\r\nConcretized\r\n--------------------------------\r\n[+]  freetype@2.9.1%gcc@7.3.0 arch=linux-centos7-x86_64 \r\n[+]      ^bzip2@1.0.6%gcc@7.3.0+shared arch=linux-centos7-x86_64 \r\n[+]          ^diffutils@3.6%gcc@7.3.0 arch=linux-centos7-x86_64 \r\n[+]      ^libpng@1.6.34%gcc@7.3.0 arch=linux-centos7-x86_64 \r\n[+]          ^zlib@1.2.11%gcc@7.3.0+optimize+pic+shared arch=linux-centos7-x86_64 \r\n[+]      ^pkgconf@1.4.2%gcc@7.3.0 arch=linux-centos7-x86_64 \r\n```\r\n\r\nIf your build didn't make it past the configure stage, Spack as also commands to parse \r\nlogs and report error and warning messages:\r\n```console\r\n[swadm@build02 ~]$ spack log-parse --show=errors,warnings /local/swadm/spack/var/spack/stage/blast-plus-2.7.1-q37xd35ho3e7tbjy35lppe4seg7xhzmo/ncbi-blast-2.7.1+-src/spack-build.out\r\n1 errors\r\n0 warnings\r\n     414    checking for libungif... no\r\n     415    checking for libXpm... no\r\n     416    checking for freetype-config... no\r\n  >> 417    configure: error: --with-freetype explicitly specified, but no usable version found.\r\n```\r\nRebuilding the package with the following options:\r\n```console\r\n$ spack -d install -j 1 <spec>\r\n...\r\n```\r\n[spack-cc-blast-plus-q37xd35.in.log](https://github.com/spack/spack/files/2518328/spack-cc-blast-plus-q37xd35.in.log)\r\n[spack-cc-blast-plus-q37xd35.out.log](https://github.com/spack/spack/files/2518329/spack-cc-blast-plus-q37xd35.out.log)\r\n",
    "performed_via_github_app": null
}