{
    "url": "https://api.github.com/repos/spack/spack/issues/8599",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/8599/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/8599/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/8599/events",
    "html_url": "https://github.com/spack/spack/issues/8599",
    "id": 336545897,
    "node_id": "MDU6SXNzdWUzMzY1NDU4OTc=",
    "number": 8599,
    "title": "wcslib doesn't compile",
    "user": {
        "login": "gijzelaerr",
        "id": 326308,
        "node_id": "MDQ6VXNlcjMyNjMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/326308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gijzelaerr",
        "html_url": "https://github.com/gijzelaerr",
        "followers_url": "https://api.github.com/users/gijzelaerr/followers",
        "following_url": "https://api.github.com/users/gijzelaerr/following{/other_user}",
        "gists_url": "https://api.github.com/users/gijzelaerr/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gijzelaerr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gijzelaerr/subscriptions",
        "organizations_url": "https://api.github.com/users/gijzelaerr/orgs",
        "repos_url": "https://api.github.com/users/gijzelaerr/repos",
        "events_url": "https://api.github.com/users/gijzelaerr/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gijzelaerr/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2018-06-28T09:35:43Z",
    "updated_at": "2018-06-28T15:52:25Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "tried on Ubuntu 18.04 with gcc@7.3.0 and centos 7 with gcc@6.4.0\r\n\r\n```\r\n$ cd spack\r\n$  git describe \r\nv0.8.17-8602-g51bd319fc\r\n$ bin/spack install wcslib\r\n==> Installing wcslib\r\n==> Using cached archive: /home/gijs/Work/spack/var/spack/cache/wcslib/wcslib-5.18.tar.bz2\r\n==> Staging archive: /home/gijs/Work/spack/var/spack/stage/wcslib-5.18-z7fhkbdz2cgbvkq62hjjtgoil67ltqsi/wcslib.tar.bz2\r\n==> Created stage in /home/gijs/Work/spack/var/spack/stage/wcslib-5.18-z7fhkbdz2cgbvkq62hjjtgoil67ltqsi\r\n==> No patches needed for wcslib\r\n==> Building wcslib [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16' 'install'\r\n\r\n45 errors found in build log:\r\n     505            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     506     ar r libwcs-PIC.a spc.o\r\n     507     \r\n     508     /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcserr.c\r\n     509     ar r libwcs-PIC.a lin.o\r\n     510     ar r libwcs-PIC.a spx.o\r\n  >> 511     ar: lin.o: No such file or directory\r\n     512     GNUmakefile:131: recipe for target 'libwcs-PIC.a(lin.o)' failed\r\n  >> 513     make[1]: *** [libwcs-PIC.a(lin.o)] Error 1\r\n     514     \r\n     515     /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcsfix.c\r\n     516     \r\n     517     /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcshdr.c\r\n     518     ar r libwcs-PIC.a wcserr.o\r\n     519     \r\n\r\n     ...\r\n\r\n     732            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     733     ar r libwcs-5.18.a wcs.o\r\n     734     make[1]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'wcs.o' will always be updated.\r\n              Please consider passing the U flag to ar to avoid the problem.\r\n     735     ar r libwcs-PIC.a wcsutrn.o\r\n     736     make[1]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcsutrn.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     737     ar r libwcs-PIC.a dis.o\r\n  >> 738     ar: dis.o: No such file or directory\r\n     739     GNUmakefile:131: recipe for target 'libwcs-PIC.a(dis.o)' failed\r\n  >> 740     make[1]: *** [libwcs-PIC.a(dis.o)] Error 1\r\n     741     ar r libwcs-PIC.a wcsulex.o\r\n     742     make[1]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcsulex.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     743     ar r libwcs-5.18.a fitshdr.o\r\n     744     make[1]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'fitshdr.o' will always be upda\r\n             ted. Please consider passing the U flag to ar to avoid the problem.\r\n     745     ar r libwcs-5.18.a wcsbth.o\r\n     746     ar r libwcs-PIC.a wcs.o\r\n  >> 747     ar: wcs.o: No such file or directory\r\n     748     GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcs.o)' failed\r\n  >> 749     make[1]: *** [libwcs-PIC.a(wcs.o)] Error 1\r\n     750     make[1]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'wcsbth.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     751     ar r libwcs-PIC.a wcshdr.o\r\n  >> 752     ar: wcshdr.o: No such file or directory\r\n     753     GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcshdr.o)' failed\r\n  >> 754     make[1]: *** [libwcs-PIC.a(wcshdr.o)] Error 1\r\n     755     ar r libwcs-PIC.a wcspih.o\r\n  >> 756     ar: wcspih.o: No such file or directory\r\n     757     GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcspih.o)' failed\r\n  >> 758     make[1]: *** [libwcs-PIC.a(wcspih.o)] Error 1\r\n     759     ar r libwcs-PIC.a wcsbth.o\r\n  >> 760     ar: wcsbth.o: No such file or directory\r\n     761     GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcsbth.o)' failed\r\n  >> 762     make[1]: *** [libwcs-PIC.a(wcsbth.o)] Error 1\r\n     763     ar r libwcs-5.18.a prj.o\r\n     764     make[1]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'prj.o' will always be updated.\r\n              Please consider passing the U flag to ar to avoid the problem.\r\n     765     ar r libwcs-PIC.a prj.o\r\n  >> 766     ar: prj.o: No such file or directory\r\n     767     GNUmakefile:131: recipe for target 'libwcs-PIC.a(prj.o)' failed\r\n  >> 768     make[1]: *** [libwcs-PIC.a(prj.o)] Error 1\r\n     769     make[1]: Target 'build' not remade because of errors.\r\n     770     make[1]: Leaving directory '/tmp/gijs/spack-stage/spack-stage-7G5fjm/wcslib-5.18/C'\r\n     771     \r\n     772     do 2018/06/28 11:34:51 +0200, executing on\r\n     773     make[1]: Entering directory '/tmp/gijs/spack-stage/spack-stage-7G5fjm/wcslib-5.18/Fortran'\r\n     774     \r\n\r\n     ...\r\n\r\n     1482              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     1483           __bos (__s), __fmt, __va_arg_pack ());\r\n     1484           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     1485    ar r libwcs-5.18.a wcspih.o\r\n     1486    make[2]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'wcspih.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     1487    ar r libwcs-PIC.a dis.o\r\n  >> 1488    ar: dis.o: No such file or directory\r\n     1489    GNUmakefile:131: recipe for target 'libwcs-PIC.a(dis.o)' failed\r\n  >> 1490    make[2]: *** [libwcs-PIC.a(dis.o)] Error 1\r\n     1491    ar r libwcs-PIC.a wcsutrn.o\r\n     1492    make[2]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcsutrn.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     1493    ar r libwcs-5.18.a wcsbth.o\r\n     1494    make[2]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'wcsbth.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     1495    ar r libwcs-PIC.a wcsulex.o\r\n  >> 1496    ar: wcsulex.o: No such file or directory\r\n     1497    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcsulex.o)' failed\r\n  >> 1498    make[2]: *** [libwcs-PIC.a(wcsulex.o)] Error 1\r\n     1499    make[2]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcsulex.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     1500    ar r libwcs-PIC.a wcs.o\r\n  >> 1501    ar: wcs.o: No such file or directory\r\n     1502    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcs.o)' failed\r\n  >> 1503    make[2]: *** [libwcs-PIC.a(wcs.o)] Error 1\r\n     1504    ar r libwcs-PIC.a wcshdr.o\r\n  >> 1505    ar: wcshdr.o: No such file or directory\r\n     1506    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcshdr.o)' failed\r\n  >> 1507    make[2]: *** [libwcs-PIC.a(wcshdr.o)] Error 1\r\n     1508    ar r libwcs-PIC.a wcspih.o\r\n  >> 1509    ar: wcspih.o: No such file or directory\r\n     1510    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcspih.o)' failed\r\n  >> 1511    make[2]: *** [libwcs-PIC.a(wcspih.o)] Error 1\r\n     1512    ar r libwcs-PIC.a wcsbth.o\r\n  >> 1513    ar: wcsbth.o: No such file or directory\r\n     1514    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcsbth.o)' failed\r\n  >> 1515    make[2]: *** [libwcs-PIC.a(wcsbth.o)] Error 1\r\n     1516    ar r libwcs-5.18.a prj.o\r\n     1517    make[2]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'prj.o' will always be updated.\r\n              Please consider passing the U flag to ar to avoid the problem.\r\n     1518    ar r libwcs-PIC.a prj.o\r\n  >> 1519    ar: prj.o: No such file or directory\r\n     1520    GNUmakefile:131: recipe for target 'libwcs-PIC.a(prj.o)' failed\r\n  >> 1521    make[2]: *** [libwcs-PIC.a(prj.o)] Error 1\r\n     1522    make[2]: Target 'lib' not remade because of errors.\r\n     1523    make[2]: Leaving directory '/tmp/gijs/spack-stage/spack-stage-7G5fjm/wcslib-5.18/C'\r\n     1524    GNUmakefile:234: recipe for target '../C/libwcs-5.18.a' failed\r\n  >> 1525    make[1]: *** [../C/libwcs-5.18.a] Error 2\r\n     1526    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'tab_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n     1527    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'wcsfix_f.o' will always b\r\n             e updated. Please consider passing the U flag to ar to avoid the problem.\r\n     1528    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'fitshdr_f.o' will always \r\n             be updated. Please consider passing the U flag to ar to avoid the problem.\r\n     1529    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'log_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n     1530    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'prj_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n     1531    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'spx_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n\r\n     ...\r\n\r\n     2108    \r\n     2109    /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcs.c\r\n     2110    make[2]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcserr.o' will always be update\r\n             d. Please consider passing the U flag to ar to avoid the problem.\r\n     2111    \r\n     2112    /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcsbth.c\r\n     2113    ar r libwcs-PIC.a fitshdr.o\r\n  >> 2114    ar: fitshdr.o: No such file or directory\r\n     2115    GNUmakefile:131: recipe for target 'libwcs-PIC.a(fitshdr.o)' failed\r\n  >> 2116    make[2]: *** [libwcs-PIC.a(fitshdr.o)] Error 1\r\n     2117    make[2]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcsfix.o' will always be update\r\n             d. Please consider passing the U flag to ar to avoid the problem.\r\n     2118    \r\n     2119    /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcserr.c\r\n     2120    ar r libwcs-PIC.a lin.o\r\n     2121    \r\n     2122    /home/gijs/Work/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I.. -march=native -O2 -pipe -fPIC -c wcsfix.c\r\n\r\n     ...\r\n\r\n     2319    /usr/include/x86_64-linux-gnu/bits/stdio2.h:33:10: note: \u2018__builtin___sprintf_chk\u2019 output between 3 and 74 bytes into a\r\n              destination of size 72\r\n     2320       return __builtin___sprintf_chk (__s, __USE_FORTIFY_LEVEL - 1,\r\n     2321              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     2322           __bos (__s), __fmt, __va_arg_pack ());\r\n     2323           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     2324    ar r libwcs-PIC.a dis.o\r\n  >> 2325    ar: dis.o: No such file or directory\r\n     2326    GNUmakefile:131: recipe for target 'libwcs-PIC.a(dis.o)' failed\r\n  >> 2327    make[2]: *** [libwcs-PIC.a(dis.o)] Error 1\r\n     2328    wcspih.l: In function \u2018wcspih_final\u2019:\r\n     2329    wcspih.l:2476:26: warning: \u2018%d\u2019 directive writing between 1 and 10 bytes into a region of size 9 [-Wformat-overflow=]\r\n     2330               dpfill(disp->dp+(idp++), \"DQ\", field, i+1, 1, 0, wval);\r\n     2331                              ^~~~~~~~~~~~~~\r\n     2332    wcspih.l:2476:26: note: directive argument in the range [0, 2147483647]\r\n     2333    In file included from /usr/include/stdio.h:862:0,\r\n\r\n     ...\r\n\r\n     2343    make[2]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'wcspih.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     2344    ar r libwcs-5.18.a wcsbth.o\r\n     2345    ar r libwcs-PIC.a wcsulex.o\r\n     2346    make[2]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'wcsbth.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     2347    make[2]: Warning: Archive 'libwcs-PIC.a' seems to have been created in deterministic mode. 'wcsulex.o' will always be updat\r\n             ed. Please consider passing the U flag to ar to avoid the problem.\r\n     2348    ar r libwcs-PIC.a wcshdr.o\r\n  >> 2349    ar: wcshdr.o: No such file or directory\r\n     2350    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcshdr.o)' failed\r\n  >> 2351    make[2]: *** [libwcs-PIC.a(wcshdr.o)] Error 1\r\n     2352    ar r libwcs-5.18.a prj.o\r\n     2353    make[2]: Warning: Archive 'libwcs-5.18.a' seems to have been created in deterministic mode. 'prj.o' will always be updated.\r\n              Please consider passing the U flag to ar to avoid the problem.\r\n     2354    ar r libwcs-PIC.a wcs.o\r\n  >> 2355    ar: wcs.o: No such file or directory\r\n     2356    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcs.o)' failed\r\n  >> 2357    make[2]: *** [libwcs-PIC.a(wcs.o)] Error 1\r\n     2358    ar r libwcs-PIC.a wcspih.o\r\n  >> 2359    ar: wcspih.o: No such file or directory\r\n     2360    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcspih.o)' failed\r\n  >> 2361    make[2]: *** [libwcs-PIC.a(wcspih.o)] Error 1\r\n     2362    ar r libwcs-PIC.a wcsbth.o\r\n  >> 2363    ar: wcsbth.o: No such file or directory\r\n     2364    GNUmakefile:131: recipe for target 'libwcs-PIC.a(wcsbth.o)' failed\r\n  >> 2365    make[2]: *** [libwcs-PIC.a(wcsbth.o)] Error 1\r\n     2366    ar r libwcs-PIC.a prj.o\r\n  >> 2367    ar: prj.o: No such file or directory\r\n     2368    GNUmakefile:131: recipe for target 'libwcs-PIC.a(prj.o)' failed\r\n  >> 2369    make[2]: *** [libwcs-PIC.a(prj.o)] Error 1\r\n     2370    make[2]: Target 'lib' not remade because of errors.\r\n     2371    make[2]: Leaving directory '/tmp/gijs/spack-stage/spack-stage-7G5fjm/wcslib-5.18/C'\r\n     2372    GNUmakefile:234: recipe for target '../C/libwcs-5.18.a' failed\r\n  >> 2373    make[1]: *** [../C/libwcs-5.18.a] Error 2\r\n     2374    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'tab_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n     2375    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'wcsfix_f.o' will always b\r\n             e updated. Please consider passing the U flag to ar to avoid the problem.\r\n     2376    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'fitshdr_f.o' will always \r\n             be updated. Please consider passing the U flag to ar to avoid the problem.\r\n     2377    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'sph_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n     2378    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'log_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n     2379    make[1]: Warning: Archive '../C/libwcs-5.18.a' seems to have been created in deterministic mode. 'prj_f.o' will always be u\r\n             pdated. Please consider passing the U flag to ar to avoid the problem.\r\n\r\n     ...\r\n\r\n     2425       fi\r\n     2426    /usr/bin/install -c -m 644 fitshdr.1 HPXcvt.1 wcsware.1 /home/gijs/Work/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/\r\n             wcslib-5.18-z7fhkbdz2cgbvkq62hjjtgoil67ltqsi/share/man/man1\r\n     2427    make[1]: Leaving directory '/tmp/gijs/spack-stage/spack-stage-7G5fjm/wcslib-5.18/utils'\r\n     2428    /usr/bin/install -c -m 444 wcsconfig.h wcsconfig_f77.h /home/gijs/Work/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/w\r\n             cslib-5.18-z7fhkbdz2cgbvkq62hjjtgoil67ltqsi/include/wcslib-5.18\r\n     2429    /usr/bin/install: target '/home/gijs/Work/spack/opt/spack/linux-ubuntu18.04-x86_64/gcc-7.3.0/wcslib-5.18-z7fhkbdz2cgbvkq62h\r\n             jjtgoil67ltqsi/include/wcslib-5.18' is not a directory\r\n     2430    GNUmakefile:80: recipe for target 'install' failed\r\n  >> 2431    make: *** [install] Error 1\r\n\r\nSee build log for details:\r\n  /home/gijs/Work/spack/var/spack/stage/wcslib-5.18-z7fhkbdz2cgbvkq62hjjtgoil67ltqsi/wcslib-5.18/spack-build.out\r\n```\r\n",
    "performed_via_github_app": null
}