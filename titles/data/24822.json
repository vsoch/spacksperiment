{
    "url": "https://api.github.com/repos/spack/spack/issues/24822",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/24822/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/24822/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/24822/events",
    "html_url": "https://github.com/spack/spack/issues/24822",
    "id": 941342354,
    "node_id": "MDU6SXNzdWU5NDEzNDIzNTQ=",
    "number": 24822,
    "title": "graphviz package: unnecessary patch steps",
    "user": {
        "login": "Smattr",
        "id": 203893,
        "node_id": "MDQ6VXNlcjIwMzg5Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/203893?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Smattr",
        "html_url": "https://github.com/Smattr",
        "followers_url": "https://api.github.com/users/Smattr/followers",
        "following_url": "https://api.github.com/users/Smattr/following{/other_user}",
        "gists_url": "https://api.github.com/users/Smattr/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Smattr/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Smattr/subscriptions",
        "organizations_url": "https://api.github.com/users/Smattr/orgs",
        "repos_url": "https://api.github.com/users/Smattr/repos",
        "events_url": "https://api.github.com/users/Smattr/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Smattr/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-07-10T23:54:20Z",
    "updated_at": "2021-07-10T23:54:20Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "At time of writing, the Graphviz package file contains the following:\r\n\r\n```python\r\n    @when('%clang platform=darwin')\r\n    def patch(self):\r\n        # When using Clang, replace GCC's libstdc++ with LLVM's libc++\r\n        mkdirs = ['cmd/dot', 'cmd/edgepaint', 'cmd/mingle', 'plugin/gdiplus']\r\n        filter_file(r'-lstdc\\+\\+', '-lc++', 'configure.ac',\r\n                    *(d + '/Makefile.am' for d in mkdirs))\r\n\r\n    @when('%apple-clang')\r\n    def patch(self):\r\n        # When using Clang, replace GCC's libstdc++ with LLVM's libc++\r\n        mkdirs = ['cmd/dot', 'cmd/edgepaint', 'cmd/mingle', 'plugin/gdiplus']\r\n        filter_file(r'-lstdc\\+\\+', '-lc++', 'configure.ac',\r\n                    *(d + '/Makefile.am' for d in mkdirs))\r\n```\r\n\r\nIIUC this is working around https://gitlab.com/graphviz/graphviz/-/issues/163. This was resolved in Graphviz commit ed155274912f3eded8833ae644625e6017637634, which made it into Graphviz version 2.46.0. So these steps should be unnecessary for \u22652.46.0.\r\n\r\nCC @cessenat ",
    "performed_via_github_app": null
}