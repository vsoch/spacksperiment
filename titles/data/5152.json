{
    "url": "https://api.github.com/repos/spack/spack/issues/5152",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/5152/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/5152/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/5152/events",
    "html_url": "https://github.com/spack/spack/issues/5152",
    "id": 251109111,
    "node_id": "MDU6SXNzdWUyNTExMDkxMTE=",
    "number": 5152,
    "title": "Installing visit hits with lots of issues with dependencies like cmake qt and vtk",
    "user": {
        "login": "manish2479",
        "id": 15351689,
        "node_id": "MDQ6VXNlcjE1MzUxNjg5",
        "avatar_url": "https://avatars.githubusercontent.com/u/15351689?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/manish2479",
        "html_url": "https://github.com/manish2479",
        "followers_url": "https://api.github.com/users/manish2479/followers",
        "following_url": "https://api.github.com/users/manish2479/following{/other_user}",
        "gists_url": "https://api.github.com/users/manish2479/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/manish2479/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/manish2479/subscriptions",
        "organizations_url": "https://api.github.com/users/manish2479/orgs",
        "repos_url": "https://api.github.com/users/manish2479/repos",
        "events_url": "https://api.github.com/users/manish2479/events{/privacy}",
        "received_events_url": "https://api.github.com/users/manish2479/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 29,
    "created_at": "2017-08-18T00:33:18Z",
    "updated_at": "2018-10-02T17:28:07Z",
    "closed_at": "2018-01-21T15:16:59Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi,\r\n\r\nI have got somehow most of the dependencies resolved with the help of the spack team but there are few other dependencies which is creating issues like vtk. VTK version defined in visit 6.1.0 never gets build up and installed, but VTK 7.1.0 works fine and gets installed properly so visit package needs to be  by modified by replacing the line from `depends_on('vtk@6.1.0~opengl2')` to `depends_on('vtk@7.1.0~opengl2')` in var/spack/repos/builtin/packages/visit/package.py \r\n\r\nBut then installing with visit it tries to make fresh re-install and doesn't use the same installed version, so I am not sure why it's not using the installed version and tries to re-install and why it fails. So is there a way we can force the visit to use the installed VTK version instead building it again or can we fix the re-install issues.\r\n\r\nHere is the visit install command \r\n\r\n`./spack install visit@2.10.3 ^netcdf~mpi@4.3.3 ^hdf5~mpi@1.8.16 ^vtk@7.1.0~opengl2 ^qt@4.8.6+webkit  ^cmake~ownlibs+qt@3.9.0 ^netcdf-cxx %gcc@4.8\r\n`\r\nThe error is as below:\r\n\r\n```\r\nmake[2]: Nothing to be done for 'Rendering/Qt/CMakeFiles/vtkRenderingQt.dir/build'.\r\nmake[2]: Leaving directory '/tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build'\r\n[ 93%] Built target vtkRenderingQt\r\nIn file included from /tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build/GUISupport/QtOpenGL/moc_QVTKGraphicsItem.cxx:9:0:\r\n/tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build/GUISupport/QtOpenGL/../../../GUISupport/QtOpenGL/QVTKGraphicsItem.h:29:22: fatal error: QGLContext: No such file or directory\r\n #include <QGLContext>\r\n                      ^\r\ncompilation terminated.\r\nGUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/build.make:123: recipe for target 'GUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/moc_QVTKGraphicsItem.cxx.o' failed\r\nmake[2]: *** [GUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/moc_QVTKGraphicsItem.cxx.o] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\nIn file included from /home1/user1/spack/var/spack/stage/vtk-7.1.0-44fe47asc2fkxbogzuk3shiyljgqxu62/VTK-7.1.0/GUISupport/QtOpenGL/QVTKGraphicsItem.cxx:25:0:\r\n/home1/user1/spack/var/spack/stage/vtk-7.1.0-44fe47asc2fkxbogzuk3shiyljgqxu62/VTK-7.1.0/GUISupport/QtOpenGL/QVTKGraphicsItem.h:29:22: fatal error: QGLContext: No such file or directory\r\n #include <QGLContext>\r\n                      ^\r\ncompilation terminated.\r\nGUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/build.make:75: recipe for target 'GUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/QVTKGraphicsItem.cxx.o' failed\r\nmake[2]: *** [GUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/QVTKGraphicsItem.cxx.o] Error 1\r\nmake[2]: Leaving directory '/tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build'\r\nCMakeFiles/Makefile2:4356: recipe for target 'GUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/all' failed\r\nmake[1]: *** [GUISupport/QtOpenGL/CMakeFiles/vtkGUISupportQtOpenGL.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\nmake[2]: Entering directory '/tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build'\r\nmake[2]: Nothing to be done for 'Interaction/Widgets/CMakeFiles/vtkInteractionWidgets.dir/build'.\r\nmake[2]: Leaving directory '/tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build'\r\n[ 97%] Built target vtkInteractionWidgets\r\nmake[1]: Leaving directory '/tmp/user1/spack-stage/spack-stage-ExNcY5/VTK-7.1.0/spack-build'\r\nMakefile:132: recipe for target 'all' failed\r\n\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThank You,\r\n                 Manish\r\n\r\n",
    "performed_via_github_app": null
}