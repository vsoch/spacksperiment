{
    "url": "https://api.github.com/repos/spack/spack/issues/15216",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/15216/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/15216/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/15216/events",
    "html_url": "https://github.com/spack/spack/issues/15216",
    "id": 570828058,
    "node_id": "MDU6SXNzdWU1NzA4MjgwNTg=",
    "number": 15216,
    "title": "slate build broken w py3",
    "user": {
        "login": "eugeneswalker",
        "id": 38933153,
        "node_id": "MDQ6VXNlcjM4OTMzMTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugeneswalker",
        "html_url": "https://github.com/eugeneswalker",
        "followers_url": "https://api.github.com/users/eugeneswalker/followers",
        "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
        "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
        "repos_url": "https://api.github.com/users/eugeneswalker/repos",
        "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "eugeneswalker",
        "id": 38933153,
        "node_id": "MDQ6VXNlcjM4OTMzMTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugeneswalker",
        "html_url": "https://github.com/eugeneswalker",
        "followers_url": "https://api.github.com/users/eugeneswalker/followers",
        "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
        "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
        "repos_url": "https://api.github.com/users/eugeneswalker/repos",
        "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "eugeneswalker",
            "id": 38933153,
            "node_id": "MDQ6VXNlcjM4OTMzMTUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38933153?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eugeneswalker",
            "html_url": "https://github.com/eugeneswalker",
            "followers_url": "https://api.github.com/users/eugeneswalker/followers",
            "following_url": "https://api.github.com/users/eugeneswalker/following{/other_user}",
            "gists_url": "https://api.github.com/users/eugeneswalker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eugeneswalker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eugeneswalker/subscriptions",
            "organizations_url": "https://api.github.com/users/eugeneswalker/orgs",
            "repos_url": "https://api.github.com/users/eugeneswalker/repos",
            "events_url": "https://api.github.com/users/eugeneswalker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eugeneswalker/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-02-25T20:57:51Z",
    "updated_at": "2020-03-15T20:52:50Z",
    "closed_at": "2020-03-15T20:52:50Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Package `slate` is not building on Ubuntu 18.04, x86_64 using spack/develop . The problem can be reproduced using docker image `spack/ubuntu-bionic` (just make sure to pull up to the head of spack/develop)\r\n\r\n`$> spack install slate`\r\n\r\n```\r\n....\r\ncd testsweeper && make lib\r\n make[1]: Entering directory '/tmp/root/spack-stage/spack-stage-slate-develop-dlkhugeigi7xluf2kmh545nibyx4abo4/spack-src/testsweeper'\r\n GNUmakefile:22: make.inc: No such file or directory\r\n python configure.py\r\n --------------------------------------------------------------------------------\r\n                               Welcome to testsweeper.\r\n By default, configure will automatically choose the first valid value it finds\r\n for each option. You can set it to interactive to find all possible values and\r\n give you a choice:\r\n     make config interactive=1\r\n If you have multiple compilers, we suggest specifying your desired compiler by\r\n setting CXX, as the automated search may prefer a different compiler.\r\n --------------------------------------------------------------------------------\r\n opening log file config/log.txt\r\n C++ compiler\r\n Trying $CXX = mpicxx\r\n mpicxx                                                                   no \r\n none found\r\n A fatal error occurred. \r\n testsweeper could not be configured.\r\n...\r\n==> [2020-02-25-20:06:57.863529] Error: ProcessError: Command exited with status 2:\r\n     'make' '-j8' 'mpi=1' 'mkl=1' 'cuda=1' 'openmp=1' 'CXX=mpicxx'\r\n 2 errors found in build log:\r\n      217    Trying $CXX = mpicxx\r\n      218    mpicxx                                                             \r\n                   no\r\n      219    none found\r\n      220    A fatal error occurred.\r\n      221    testsweeper could not be configured.\r\n      222    GNUmakefile:27: recipe for target 'make.inc' failed\r\n   >> 223    make[1]: *** [make.inc] Error 1\r\n      224    make[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-slate\r\n             -develop-dlkhugeigi7xluf2kmh545nibyx4abo4/spack-src/testsweeper'\r\n      225    GNUmakefile:542: recipe for target 'testsweeper/libtestsweeper.so' \r\n             failed\r\n   >> 226    make: *** [testsweeper/libtestsweeper.so] Error 2\r\n      227    make: *** Waiting for unfinished jobs....\r\n See build log for details:\r\n   /tmp/root/spack-stage/spack-stage-slate-develop-dlkhugeigi7xluf2kmh545nibyx4abo4/spack-build-out.txt\r\n Traceback (most recent call last):\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/build_environment.py\", line 801, in child_process\r\n     return_value = function()\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/package.py\", line 1751, in build_process\r\n     phase(self.spec, self.prefix)\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/package.py\", line 111, in phase_wrapper\r\n     phase(spec, prefix)\r\n   File \"/builds/uo/e4s-new/spack/var/spack/repos/builtin/packages/slate/package.py\", line 49, in install\r\n     install_tree('lib', prefix.lib)\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/build_environment.py\", line 131, in __call__\r\n     return super(MakeExecutable, self).__call__(*args, **kwargs)\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n     proc.returncode, long_msg)\r\n spack.util.executable.ProcessError: Command exited with status 2:\r\n     'make' '-j8' 'mpi=1' 'mkl=1' 'cuda=1' 'openmp=1' 'CXX=mpicxx'\r\n ==> [2020-02-25-20:06:57.926349] READ LOCK: /super/absurdly/ridiculously/obnoxiously/long/path/for/relocation/.spack-db/lock[0:0] [Acquiring]\r\n ==> [2020-02-25-20:06:57.926552] READ LOCK: /super/absurdly/ridiculously/obnoxiously/long/path/for/relocation/.spack-db/lock[0:0] [Acquired]\r\n ==> [2020-02-25-20:06:57.936238] READ LOCK: /super/absurdly/ridiculously/obnoxiously/long/path/for/relocation/.spack-db/lock[0:0] [Released]\r\n ==> [2020-02-25-20:06:57.956142] ChildError: ProcessError: Command exited with status 2:\r\n     'make' '-j8' 'mpi=1' 'mkl=1' 'cuda=1' 'openmp=1' 'CXX=mpicxx'\r\n 2 errors found in build log:\r\n      217    Trying $CXX = mpicxx\r\n      218    mpicxx                                                             \r\n                   no\r\n      219    none found\r\n      220    A fatal error occurred.\r\n      221    testsweeper could not be configured.\r\n      222    GNUmakefile:27: recipe for target 'make.inc' failed\r\n   >> 223    make[1]: *** [make.inc] Error 1\r\n      224    make[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-slate\r\n             -develop-dlkhugeigi7xluf2kmh545nibyx4abo4/spack-src/testsweeper'\r\n      225    GNUmakefile:542: recipe for target 'testsweeper/libtestsweeper.so' \r\n             failed\r\n   >> 226    make: *** [testsweeper/libtestsweeper.so] Error 2\r\n      227    make: *** Waiting for unfinished jobs....\r\n See build log for details:\r\n   /tmp/root/spack-stage/spack-stage-slate-develop-dlkhugeigi7xluf2kmh545nibyx4abo4/spack-build-out.txt\r\n Traceback (most recent call last):\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/build_environment.py\", line 801, in child_process\r\n     return_value = function()\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/package.py\", line 1751, in build_process\r\n     phase(self.spec, self.prefix)\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/package.py\", line 111, in phase_wrapper\r\n     phase(spec, prefix)\r\n   File \"/builds/uo/e4s-new/spack/var/spack/repos/builtin/packages/slate/package.py\", line 49, in install\r\n     install_tree('lib', prefix.lib)\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/build_environment.py\", line 131, in __call__\r\n     return super(MakeExecutable, self).__call__(*args, **kwargs)\r\n   File \"/builds/uo/e4s-new/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n     proc.returncode, long_msg)\r\n spack.util.executable.ProcessError: Command exited with status 2:\r\n     'make' '-j8' 'mpi=1' 'mkl=1' 'cuda=1' 'openmp=1' 'CXX=mpicxx'\r\n```\r\n\r\n@adamjstewart @G-Ragghianti ",
    "performed_via_github_app": null
}