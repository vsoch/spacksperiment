{
    "url": "https://api.github.com/repos/spack/spack/issues/7505",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/7505/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/7505/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/7505/events",
    "html_url": "https://github.com/spack/spack/issues/7505",
    "id": 306050438,
    "node_id": "MDU6SXNzdWUzMDYwNTA0Mzg=",
    "number": 7505,
    "title": "mac osx issues?",
    "user": {
        "login": "doutriaux1",
        "id": 2781425,
        "node_id": "MDQ6VXNlcjI3ODE0MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2781425?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/doutriaux1",
        "html_url": "https://github.com/doutriaux1",
        "followers_url": "https://api.github.com/users/doutriaux1/followers",
        "following_url": "https://api.github.com/users/doutriaux1/following{/other_user}",
        "gists_url": "https://api.github.com/users/doutriaux1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/doutriaux1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/doutriaux1/subscriptions",
        "organizations_url": "https://api.github.com/users/doutriaux1/orgs",
        "repos_url": "https://api.github.com/users/doutriaux1/repos",
        "events_url": "https://api.github.com/users/doutriaux1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/doutriaux1/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 446614839,
            "node_id": "MDU6TGFiZWw0NDY2MTQ4Mzk=",
            "url": "https://api.github.com/repos/spack/spack/labels/macOS",
            "name": "macOS",
            "color": "c5def5",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 10,
    "created_at": "2018-03-16T19:28:29Z",
    "updated_at": "2018-03-17T17:18:36Z",
    "closed_at": "2018-03-17T17:18:36Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "It's my first time really trying spack. I'm on mac\r\n```\r\nuname -a\r\nDarwin loki 16.7.0 Darwin Kernel Version 16.7.0: Thu Jan 11 22:59:40 PST 2018; root:xnu-3789.73.8~1/RELEASE_X86_64 x86_64\r\n```\r\n\r\nFirst of all cloning the repo and running the seup_env.sh file does not seem to work on mac, I have to manually add the path to my mac\r\n\r\nNow I tried to install hdf5 as per your first example.\r\n\r\nI get:\r\n\r\n```\r\n> spack install hdf5\r\n==> Installing pkgconf\r\n==> Fetching https://distfiles.dereferenced.org/pkgconf/pkgconf-1.4.0.tar.xz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/pkgconf-1.4.0-tengbb33gehtiyetbc22a3znib66zszk/pkgconf-1.4.0.tar.xz\r\n==> Created stage in /git/spack/var/spack/stage/pkgconf-1.4.0-tengbb33gehtiyetbc22a3znib66zszk\r\n==> No patches needed for pkgconf\r\n==> Building pkgconf [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed pkgconf\r\n  Fetch: 1.82s.  Build: 12.98s.  Total: 14.80s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/pkgconf-1.4.0-tengbb33gehtiyetbc22a3znib66zszk\r\n==> Installing xz\r\n==> Fetching http://tukaani.org/xz/xz-5.2.3.tar.bz2\r\n################################################################################################################################################## 100.0%################################################################################################################################################## 100.0%################################################################################################################################################## 100.0%################################################################################################################################################## 100.0%################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/xz-5.2.3-5xaogvjybobt4kmdgeyv5nfpclfmjgqa/xz-5.2.3.tar.bz2\r\n==> Created stage in /git/spack/var/spack/stage/xz-5.2.3-5xaogvjybobt4kmdgeyv5nfpclfmjgqa\r\n==> No patches needed for xz\r\n==> Building xz [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed xz\r\n  Fetch: 5.34s.  Build: 31.17s.  Total: 36.51s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/xz-5.2.3-5xaogvjybobt4kmdgeyv5nfpclfmjgqa\r\n==> zlib is already installed in /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/zlib-1.2.11-kugj5icwtvhlfrkdy4qwa5reztj3poq2\r\n==> Installing libxml2\r\n==> Fetching http://xmlsoft.org/sources/libxml2-2.9.4.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/libxml2-2.9.4-wjf52tiqr2ooqredkgu4nptytsyhefyb/libxml2-2.9.4.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/libxml2-2.9.4-wjf52tiqr2ooqredkgu4nptytsyhefyb\r\n==> No patches needed for libxml2\r\n==> Building libxml2 [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed libxml2\r\n  Fetch: 22.97s.  Build: 57.88s.  Total: 1m 20.86s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/libxml2-2.9.4-wjf52tiqr2ooqredkgu4nptytsyhefyb\r\n==> Installing libsigsegv\r\n==> Fetching https://ftp.gnu.org/gnu/libsigsegv/libsigsegv-2.11.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/libsigsegv-2.11-vbtxh6u35vmkzwc2cno557w3ulgu3n2n/libsigsegv-2.11.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/libsigsegv-2.11-vbtxh6u35vmkzwc2cno557w3ulgu3n2n\r\n==> No patches needed for libsigsegv\r\n==> Building libsigsegv [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed libsigsegv\r\n  Fetch: 2.12s.  Build: 10.30s.  Total: 12.43s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/libsigsegv-2.11-vbtxh6u35vmkzwc2cno557w3ulgu3n2n\r\n==> Installing m4\r\n==> Fetching https://ftp.gnu.org/gnu/m4/m4-1.4.18.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/m4-1.4.18-vwblkonajep2vr5tyikyrdeuhja2azvy/m4-1.4.18.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/m4-1.4.18-vwblkonajep2vr5tyikyrdeuhja2azvy\r\n==> Applied patch gnulib-pgi.patch\r\n==> Building m4 [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed m4\r\n  Fetch: 8.68s.  Build: 1m 1.89s.  Total: 1m 10.57s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/m4-1.4.18-vwblkonajep2vr5tyikyrdeuhja2azvy\r\n==> Installing ncurses\r\n==> Fetching http://ftp.gnu.org/pub/gnu/ncurses/ncurses-6.0.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/ncurses-6.0-ek4ah2g3rdrbj5h6cxqvurhtsibyacsf/ncurses-6.0.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/ncurses-6.0-ek4ah2g3rdrbj5h6cxqvurhtsibyacsf\r\n==> Applied patch sed_pgi.patch\r\n==> Building ncurses [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed ncurses\r\n  Fetch: 8.44s.  Build: 1m 33.64s.  Total: 1m 42.08s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/ncurses-6.0-ek4ah2g3rdrbj5h6cxqvurhtsibyacsf\r\n==> Installing readline\r\n==> Fetching https://ftp.gnu.org/gnu/readline/readline-7.0.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/readline-7.0-vpcmf6bk4jl6aqleufiz7pwub54wjgma/readline-7.0.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/readline-7.0-vpcmf6bk4jl6aqleufiz7pwub54wjgma\r\n==> No patches needed for readline\r\n==> Building readline [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed readline\r\n  Fetch: 4.42s.  Build: 17.42s.  Total: 21.84s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/readline-7.0-vpcmf6bk4jl6aqleufiz7pwub54wjgma\r\n==> Installing gdbm\r\n==> Warning: Suspicious requests to set or unset 'CC' found\r\n==> Warning: \t    \tenv.set('CC', join_path(link_dir, compiler.link_paths['cc'])) at /git/spack/lib/spack/spack/build_environment.py:146\r\n==> Warning: \t--->\tspack_env.set('CC', spack_cc) at /git/spack/var/spack/repos/builtin/packages/gdbm/package.py:49\r\n==> Fetching http://ftp.gnu.org/gnu/gdbm/gdbm-1.14.1.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/gdbm-1.14.1-6zse4dhahz7j4dzaunpqlqvpvnhsecfw/gdbm-1.14.1.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/gdbm-1.14.1-6zse4dhahz7j4dzaunpqlqvpvnhsecfw\r\n==> No patches needed for gdbm\r\n==> Building gdbm [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed gdbm\r\n  Fetch: 2.22s.  Build: 18.50s.  Total: 20.71s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/gdbm-1.14.1-6zse4dhahz7j4dzaunpqlqvpvnhsecfw\r\n==> Installing perl\r\n==> Fetching http://www.cpan.org/src/5.0/perl-5.24.1.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Fetching http://search.cpan.org/CPAN/authors/id/M/MI/MIYAGAWA/App-cpanminus-1.7042.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/perl-5.24.1-2zifdxuvr55cu6r2tz7knaw6jspb5zto/perl-5.24.1.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/perl-5.24.1-2zifdxuvr55cu6r2tz7knaw6jspb5zto\r\n==> Staging archive: /git/spack/var/spack/stage/resource-cpanm-2zifdxuvr55cu6r2tz7knaw6jspb5zto/App-cpanminus-1.7042.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/resource-cpanm-2zifdxuvr55cu6r2tz7knaw6jspb5zto\r\n==> Moving resource stage\r\n\tsource : /git/spack/var/spack/stage/resource-cpanm-2zifdxuvr55cu6r2tz7knaw6jspb5zto/App-cpanminus-1.7042/\r\n\tdestination : /git/spack/var/spack/stage/perl-5.24.1-2zifdxuvr55cu6r2tz7knaw6jspb5zto/perl-5.24.1/cpanm/cpanm\r\n==> No patches needed for perl\r\n==> Building perl [Package]\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed perl\r\n  Fetch: 20.85s.  Build: 3m 5.31s.  Total: 3m 26.15s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/perl-5.24.1-2zifdxuvr55cu6r2tz7knaw6jspb5zto\r\n==> Installing autoconf\r\n==> Fetching http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/autoconf-2.69-fsrvyn2mqeezaxtcazduiomajtmfvvho/autoconf-2.69.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/autoconf-2.69-fsrvyn2mqeezaxtcazduiomajtmfvvho\r\n==> Ran patch() for autoconf\r\n==> Building autoconf [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed autoconf\r\n  Fetch: 4.50s.  Build: 6.83s.  Total: 11.33s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/autoconf-2.69-fsrvyn2mqeezaxtcazduiomajtmfvvho\r\n==> Installing automake\r\n==> Fetching http://ftp.gnu.org/gnu/automake/automake-1.15.1.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/automake-1.15.1-ssgpaw6nbs4fkxgybkrx6vo2jzir4px4/automake-1.15.1.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/automake-1.15.1-ssgpaw6nbs4fkxgybkrx6vo2jzir4px4\r\n==> Ran patch() for automake\r\n==> Building automake [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed automake\r\n  Fetch: 5.19s.  Build: 6.23s.  Total: 11.42s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/automake-1.15.1-ssgpaw6nbs4fkxgybkrx6vo2jzir4px4\r\n==> Installing libtool\r\n==> Fetching http://ftpmirror.gnu.org/libtool/libtool-2.4.6.tar.gz\r\n################################################################################################################################################## 100.0%\r\n==> Staging archive: /git/spack/var/spack/stage/libtool-2.4.6-q23qd54bfr5xuap4czntyfaysgxduc53/libtool-2.4.6.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/libtool-2.4.6-q23qd54bfr5xuap4czntyfaysgxduc53\r\n==> No patches needed for libtool\r\n==> Building libtool [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed libtool\r\n  Fetch: 4.82s.  Build: 19.19s.  Total: 24.01s.\r\n[+] /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/libtool-2.4.6-q23qd54bfr5xuap4czntyfaysgxduc53\r\n==> Installing numactl\r\n==> Fetching https://github.com/numactl/numactl/archive/v2.0.11.tar.gz\r\n-=O=#    #     #       #                                                                                                                                \r\n==> Staging archive: /git/spack/var/spack/stage/numactl-2.0.11-2ib7cgkbqdu3f6ijmqpmn7yutpzheh4q/v2.0.11.tar.gz\r\n==> Created stage in /git/spack/var/spack/stage/numactl-2.0.11-2ib7cgkbqdu3f6ijmqpmn7yutpzheh4q\r\n==> No patches needed for numactl\r\n==> Building numactl [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n27 errors found in build log:\r\n     28     libtoolize: copying file 'm4/ltsugar.m4'\r\n     29     libtoolize: copying file 'm4/ltversion.m4'\r\n     30     libtoolize: copying file 'm4/lt~obsolete.m4'\r\n     31     autoreconf: running: /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/autoconf-2.69-fsrvyn2mqeezaxtcazduiomajtmfvvho/bin/autoconf\r\n             --include=/git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/pkgconf-1.4.0-tengbb33gehtiyetbc22a3znib66zszk/share/aclocal --force\r\n     32     autoreconf: running: /git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/autoconf-2.69-fsrvyn2mqeezaxtcazduiomajtmfvvho/bin/autohead\r\n            er --include=/git/spack/opt/spack/darwin-sierra-x86_64/clang-8.1.0-apple/pkgconf-1.4.0-tengbb33gehtiyetbc22a3znib66zszk/share/aclocal --forc\r\n            e\r\n     33     autoreconf: running: automake --add-missing --copy --force-missing\r\n  >> 34     configure.ac:13: installing 'build-aux/compile'\r\n  >> 35     configure.ac:13: installing 'build-aux/config.guess'\r\n  >> 36     configure.ac:13: installing 'build-aux/config.sub'\r\n  >> 37     configure.ac:9: installing 'build-aux/install-sh'\r\n  >> 38     configure.ac:9: installing 'build-aux/missing'\r\n     39     Makefile.am: installing 'build-aux/depcomp'\r\n     40     parallel-tests: installing 'build-aux/test-driver'\r\n     41     autoreconf: Leaving directory `.'\r\n     42     ==> Executing phase: 'configure'\r\n     43     ==> '/git/spack/var/spack/stage/numactl-2.0.11-2ib7cgkbqdu3f6ijmqpmn7yutpzheh4q/numactl-2.0.11/configure' '--prefix=/git/spack/opt/spack/dar\r\n            win-sierra-x86_64/clang-8.1.0-apple/numactl-2.0.11-2ib7cgkbqdu3f6ijmqpmn7yutpzheh4q'\r\n     44     checking for a BSD-compatible install... /usr/bin/install -c\r\n\r\n     ...\r\n\r\n     157    #define howmany(x,y) (((x)+((y)-1))/(y))\r\n     158            ^\r\n     159    /usr/include/sys/types.h:184:9: note: previous definition is here\r\n     160    #define howmany(x, y)   __DARWIN_howmany(x, y)  /* # y's == x bits? */\r\n     161            ^\r\n     162      CC       shm.o\r\n  >> 163    rtnetlink.c:3:10: fatal error: 'linux/rtnetlink.h' file not found\r\n     164    #include <linux/rtnetlink.h>\r\n     165             ^\r\n     166    In file included from distance.c:24:\r\n     167    ./numaint.h:53:9: warning: 'howmany' macro redefined [-Wmacro-redefined]\r\n     168    #define howmany(x,y) (((x)+((y)-1))/(y))\r\n     169            ^\r\n     170    /usr/include/sys/types.h:184:9: note: previous definition is here\r\n     171    #define howmany(x, y)   __DARWIN_howmany(x, y)  /* # y's == x bits? */\r\n     172            ^\r\n  >> 173    syscall.c:18:10: fatal error: 'asm/unistd.h' file not found\r\n     174    #include <asm/unistd.h>\r\n     175             ^\r\n     176    1 error generated.\r\n  >> 177    make[1]: *** [rtnetlink.lo] Error 1\r\n     178    make[1]: *** Waiting for unfinished jobs....\r\n     179    In file included from shm.c:34:\r\n     180    ./numaint.h:53:9: warning: 'howmany' macro redefined [-Wmacro-redefined]\r\n     181    #define howmany(x,y) (((x)+((y)-1))/(y))\r\n     182            ^\r\n     183    /usr/include/sys/types.h:184:9: note: previous definition is here\r\n\r\n     ...\r\n\r\n     203    shm.c:163:11: warning: implicit declaration of function 'mmap64' is invalid in C99 [-Wimplicit-function-declaration]\r\n     204            shmptr = mmap64(NULL, shmlen, PROT_READ, MAP_SHARED, shmfd, shmoffset);\r\n     205                     ^\r\n     206    shm.c:163:9: warning: incompatible integer to pointer conversion assigning to 'char *' from 'int' [-Wint-conversion]\r\n     207            shmptr = mmap64(NULL, shmlen, PROT_READ, MAP_SHARED, shmfd, shmoffset);\r\n     208                   ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  >> 209    affinity.c:40:10: fatal error: 'linux/rtnetlink.h' file not found\r\n     210    #include <linux/rtnetlink.h>\r\n     211             ^\r\n  >> 212    make[1]: *** [syscall.lo] Error 1\r\n     213    1 error generated.\r\n  >> 214    make[1]: *** [affinity.lo] Error 1\r\n     215    1 warning generated.\r\n     216    1 warning generated.\r\n     217    5 warnings generated.\r\n     218    1 warning generated.\r\n     219    In file included from libnuma.c:37:\r\n     220    ./numaint.h:53:9: warning: 'howmany' macro redefined [-Wmacro-redefined]\r\n     221    #define howmany(x,y) (((x)+((y)-1))/(y))\r\n     222            ^\r\n     223    /usr/include/sys/types.h:184:9: note: previous definition is here\r\n     224    #define howmany(x, y)   __DARWIN_howmany(x, y)  /* # y's == x bits? */\r\n     225            ^\r\n  >> 226    libnuma.c:317:1: error: only weak aliases are supported on darwin\r\n     227    make_internal_alias(numa_pagesize);\r\n     228    ^\r\n     229    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     230    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     231                                                                            ^\r\n  >> 232    libnuma.c:670:1: error: only weak aliases are supported on darwin\r\n     233    make_internal_alias(numa_max_node);\r\n     234    ^\r\n     235    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     236    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     237                                                                            ^\r\n  >> 238    libnuma.c:691:1: error: only weak aliases are supported on darwin\r\n     239    make_internal_alias(numa_max_possible_node_v1);\r\n     240    ^\r\n     241    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     242    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     243                                                                            ^\r\n  >> 244    libnuma.c:692:1: error: only weak aliases are supported on darwin\r\n     245    make_internal_alias(numa_max_possible_node_v2);\r\n     246    ^\r\n     247    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     248    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     249                                                                            ^\r\n  >> 250    libnuma.c:780:1: error: only weak aliases are supported on darwin\r\n     251    make_internal_alias(numa_node_size64);\r\n     252    ^\r\n     253    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     254    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     255                                                                            ^\r\n  >> 256    libnuma.c:857:1: error: only weak aliases are supported on darwin\r\n     257    make_internal_alias(numa_police_memory);\r\n     258    ^\r\n     259    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     260    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     261                                                                            ^\r\n     262    libnuma.c:873:8: warning: implicit declaration of function 'mremap' is invalid in C99 [-Wimplicit-function-declaration]\r\n     263            mem = mremap(old_addr, old_size, new_size, MREMAP_MAYMOVE);\r\n     264                  ^\r\n  >> 265    libnuma.c:873:45: error: use of undeclared identifier 'MREMAP_MAYMOVE'\r\n     266            mem = mremap(old_addr, old_size, new_size, MREMAP_MAYMOVE);\r\n     267                                                       ^\r\n  >> 268    libnuma.c:916:1: error: only weak aliases are supported on darwin\r\n     269    make_internal_alias(numa_alloc_interleaved_subset_v1);\r\n     270    ^\r\n     271    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     272    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     273                                                                            ^\r\n  >> 274    libnuma.c:917:1: error: only weak aliases are supported on darwin\r\n     275    make_internal_alias(numa_alloc_interleaved_subset_v2);\r\n     276    ^\r\n     277    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     278    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     279                                                                            ^\r\n  >> 280    libnuma.c:1051:1: error: only weak aliases are supported on darwin\r\n     281    make_internal_alias(numa_set_membind_v2);\r\n     282    ^\r\n     283    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     284    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     285                                                                            ^\r\n  >> 286    libnuma.c:1157:1: error: only weak aliases are supported on darwin\r\n     287    make_internal_alias(numa_get_mems_allowed);\r\n     288    ^\r\n     289    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     290    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     291                                                                            ^\r\n  >> 292    libnuma.c:1399:1: error: only weak aliases are supported on darwin\r\n     293    make_internal_alias(numa_node_to_cpus_v1);\r\n     294    ^\r\n     295    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     296    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     297                                                                            ^\r\n  >> 298    libnuma.c:1400:1: error: only weak aliases are supported on darwin\r\n     299    make_internal_alias(numa_node_to_cpus_v2);\r\n     300    ^\r\n     301    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     302    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     303                                                                            ^\r\n  >> 304    libnuma.c:1538:1: error: only weak aliases are supported on darwin\r\n     305    make_internal_alias(numa_run_on_node_mask_v2);\r\n     306    ^\r\n     307    ./numaint.h:18:73: note: expanded from macro 'make_internal_alias'\r\n     308    #define make_internal_alias(x) extern __typeof (x) x##_int __attribute((alias(#x), visibility(\"hidden\")))\r\n     309                                                                            ^\r\n     310    2 warnings and 14 errors generated.\r\n  >> 311    make[1]: *** [libnuma.lo] Error 1\r\n  >> 312    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /git/spack/var/spack/stage/numactl-2.0.11-2ib7cgkbqdu3f6ijmqpmn7yutpzheh4q/numactl-2.0.11/spack-build.out\r\n```\r\n\r\n[spack-build.out.txt](https://github.com/spack/spack/files/1820559/spack-build.out.txt)\r\n",
    "performed_via_github_app": null
}