{
    "url": "https://api.github.com/repos/spack/spack/issues/10702",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10702/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10702/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10702/events",
    "html_url": "https://github.com/spack/spack/issues/10702",
    "id": 414320561,
    "node_id": "MDU6SXNzdWU0MTQzMjA1NjE=",
    "number": 10702,
    "title": "git-lfs aborts (sometimes), fix in progress upstream",
    "user": {
        "login": "hartzell",
        "id": 312978,
        "node_id": "MDQ6VXNlcjMxMjk3OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/312978?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hartzell",
        "html_url": "https://github.com/hartzell",
        "followers_url": "https://api.github.com/users/hartzell/followers",
        "following_url": "https://api.github.com/users/hartzell/following{/other_user}",
        "gists_url": "https://api.github.com/users/hartzell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hartzell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hartzell/subscriptions",
        "organizations_url": "https://api.github.com/users/hartzell/orgs",
        "repos_url": "https://api.github.com/users/hartzell/repos",
        "events_url": "https://api.github.com/users/hartzell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hartzell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2019-02-25T21:42:14Z",
    "updated_at": "2019-02-27T22:02:25Z",
    "closed_at": "2019-02-27T22:02:25Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "This is mostly an FYI.\r\n\r\nStarting with `git-lfs@2.7.0` we frequently had `git-lfs` aborting.  In some situations it ran successfully, in others it didn't.  It seemed to depend on what other modules were loaded, but...\r\n\r\nBetween `git-lfs@2.6.1` and `git-lfs@2.7.0` the Makefile started unconditionally adding a `-extldflags` bit to the `go` command line, setting it to the value of `LDFLAGS`.  If `LDFLAGS` isn't set to anything (our case) then it wasn't given an argument, even though it needs one.  I'm not sure why this doesn't provide an error from the compiler, it seems to be grabbing something out of whatever comes next in memory.\r\n\r\nI've changed the Makefile only set `-extldflags` if `LDFLAGS` is defined and made a Pull Request upstream:  https://github.com/git-lfs/git-lfs/pull/3545\r\n\r\nDepending what Upstream has to say, perhaps we'll want to patch `git-lfs@2.7.0`, or forbid it, or ...\r\n\r\nI'll keep this updated as the `git-lfs` PR progresses.\r\n\r\n",
    "performed_via_github_app": null
}