{
    "url": "https://api.github.com/repos/spack/spack/issues/9927",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9927/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9927/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9927/events",
    "html_url": "https://github.com/spack/spack/issues/9927",
    "id": 383440423,
    "node_id": "MDU6SXNzdWUzODM0NDA0MjM=",
    "number": 9927,
    "title": "version specification for virtual packages is broken in packages.yaml",
    "user": {
        "login": "davydden",
        "id": 8023934,
        "node_id": "MDQ6VXNlcjgwMjM5MzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8023934?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davydden",
        "html_url": "https://github.com/davydden",
        "followers_url": "https://api.github.com/users/davydden/followers",
        "following_url": "https://api.github.com/users/davydden/following{/other_user}",
        "gists_url": "https://api.github.com/users/davydden/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/davydden/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/davydden/subscriptions",
        "organizations_url": "https://api.github.com/users/davydden/orgs",
        "repos_url": "https://api.github.com/users/davydden/repos",
        "events_url": "https://api.github.com/users/davydden/events{/privacy}",
        "received_events_url": "https://api.github.com/users/davydden/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446623646,
            "node_id": "MDU6TGFiZWw0NDY2MjM2NDY=",
            "url": "https://api.github.com/repos/spack/spack/labels/concretization",
            "name": "concretization",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2018-11-22T09:09:34Z",
    "updated_at": "2018-11-24T05:27:22Z",
    "closed_at": "2018-11-24T05:07:11Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Looks like version specification in `packages.yaml` is broken for virtual packages.\r\n\r\n\r\n### Steps to reproduce the issue\r\n\r\n`packages.yaml`:\r\n```\r\npackages:\r\n  openmpi:\r\n    version: [1.10.7]\r\n  cmake:\r\n    version: [3.5.2]\r\n```\r\n\r\n```console\r\n$ spack spec dealii@develop\r\n```\r\n\r\ngives correct version of `cmake` but not `openmpi`:\r\n\r\n```\r\n$ spack spec dealii@develop\r\nInput spec\r\n--------------------------------\r\ndealii@develop\r\n\r\nConcretized\r\n--------------------------------\r\ndealii@develop%gcc@7.3.0+adol-c+arpack+assimp build_type=DebugRelease ~cuda cuda_arch= ~doc+gmsh+gsl+hdf5~int64+metis+mpi+muparser+nanoflann+netcdf+oce~optflags+p4est+petsc~python+scalapack+slepc+sundials+trilinos arch=linux-ubuntu18.04-x86_64 \r\n    ^adol-c@develop%gcc@7.3.0~advanced_branching+atrig_erf~boost+doc+examples~openmp~sparse arch=linux-ubuntu18.04-x86_64 \r\n        ^autoconf@2.69%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n            ^m4@1.4.18%gcc@7.3.0 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-ubuntu18.04-x86_64 \r\n                ^libsigsegv@2.11%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n            ^perl@5.26.2%gcc@7.3.0+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-ubuntu18.04-x86_64 \r\n                ^gdbm@1.18.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                    ^readline@7.0%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                        ^ncurses@6.1%gcc@7.3.0~symlinks~termlib arch=linux-ubuntu18.04-x86_64 \r\n                            ^pkgconf@1.5.4%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n        ^automake@1.16.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n        ^libtool@2.4.6%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^arpack-ng@3.6.3%gcc@7.3.0+mpi+shared arch=linux-ubuntu18.04-x86_64 \r\n        ^cmake@3.5.2%gcc@7.3.0~doc+ncurses+openssl+ownlibs~qt arch=linux-ubuntu18.04-x86_64 \r\n            ^openssl@1.0.2p%gcc@7.3.0+systemcerts arch=linux-ubuntu18.04-x86_64 \r\n                ^zlib@1.2.11%gcc@7.3.0+optimize+pic+shared arch=linux-ubuntu18.04-x86_64 \r\n        ^openblas@0.3.3%gcc@7.3.0 cpu_target= ~ilp64 patches=714aea33692304a50bd0ccde42590c176c82ded4a8ac7f06e573dc8071929c33,f1b066a4481a50678caeb7656bf3e6764f45619686ac465f257c8017a2dc1ff0 +pic+shared threads=none ~virtual_machine arch=linux-ubuntu18.04-x86_64 \r\n        ^openmpi@4.0.0%gcc@7.3.0~cuda+cxx_exceptions fabrics= ~java~legacylaunchers~memchecker~pmi schedulers= ~sqlite3~thread_multiple+vt arch=linux-ubuntu18.04-x86_64 \r\n            ^hwloc@1.11.9%gcc@7.3.0~cairo~cuda+libxml2+pci+shared arch=linux-ubuntu18.04-x86_64 \r\n                ^libpciaccess@0.13.5%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                    ^util-macros@1.19.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                ^libxml2@2.9.8%gcc@7.3.0~python arch=linux-ubuntu18.04-x86_64 \r\n                    ^xz@5.2.4%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                ^numactl@2.0.11%gcc@7.3.0 patches=592f30f7f5f757dfc239ad0ffd39a9a048487ad803c26b419e0f96b8cda08c1a arch=linux-ubuntu18.04-x86_64 \r\n    ^assimp@4.0.1%gcc@7.3.0 build_type=RelWithDebInfo +shared arch=linux-ubuntu18.04-x86_64 \r\n        ^boost@1.68.0%gcc@7.3.0+atomic+chrono~clanglibcpp cxxstd=default +date_time~debug+exception+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy patches=2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c6874d97c323199,b37164268f34f7133cbc9a4066ae98fda08adf51e1172223f6a969909216870f ~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave arch=linux-ubuntu18.04-x86_64 \r\n            ^bzip2@1.0.6%gcc@7.3.0+shared arch=linux-ubuntu18.04-x86_64 \r\n                ^diffutils@3.6%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^gmsh@4.0.0%gcc@7.3.0 build_type=RelWithDebInfo +compression~fltk~hdf5+mpi+netgen+oce~petsc+shared~slepc+tetgen arch=linux-ubuntu18.04-x86_64 \r\n        ^gmp@6.1.2%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n        ^netgen@5.3.1%gcc@7.3.0~gui~metis+mpi~oce arch=linux-ubuntu18.04-x86_64 \r\n        ^oce@0.18.3%gcc@7.3.0~X11+tbb arch=linux-ubuntu18.04-x86_64 \r\n            ^intel-tbb@2019.2%gcc@7.3.0 cxxstd=default patches=ca08c28bdb15582c30777f9303d1986e4c09b3d514776494f3fbf5f19381bfda +shared+tm arch=linux-ubuntu18.04-x86_64 \r\n        ^tetgen@1.5.0%gcc@7.3.0~debug~except patches=250ee7a9c97fbef4ed8796c70233631559fd2f4663affe6c824896880a605a24 arch=linux-ubuntu18.04-x86_64 \r\n    ^gsl@2.5%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^hdf5@1.10.4%gcc@7.3.0~cxx~debug~fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-ubuntu18.04-x86_64 \r\n    ^metis@5.1.0%gcc@7.3.0 build_type=Release ~gdb~int64 patches=4991da938c1d3a1d3dea78e49bbebecba00273f98df2a656e38b83d55b281da1 +real64+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^muparser@2.2.6.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^nanoflann@1.2.3%gcc@7.3.0 build_type=RelWithDebInfo arch=linux-ubuntu18.04-x86_64 \r\n    ^netcdf@4.6.1%gcc@7.3.0~dap~hdf4 maxdims=1024 maxvars=8192 +mpi~parallel-netcdf+pic+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^netcdf-cxx@4.2%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^netlib-scalapack@2.0.2%gcc@7.3.0 build_type=RelWithDebInfo ~pic+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^p4est@2.0%gcc@7.3.0~openmp patches=8fb829e34e3a1e28afdd6e56e0bdc1d377af569b7ccb9e9d8da0eeb5829ed27e,e9418b1a9347a409be241cd185519b31950e42a7f55b6fb80ce53097657098ee arch=linux-ubuntu18.04-x86_64 \r\n    ^petsc@3.10.2%gcc@7.3.0~X clanguage=C ~complex~debug+double+hdf5+hypre~int64+metis+mpi~mumps+shared~suite-sparse+superlu-dist~trilinos arch=linux-ubuntu18.04-x86_64 \r\n        ^hypre@2.15.1%gcc@7.3.0~debug~int64~internal-superlu+mpi+shared arch=linux-ubuntu18.04-x86_64 \r\n        ^parmetis@4.0.3%gcc@7.3.0 build_type=RelWithDebInfo ~gdb patches=4f892531eb0a807eb1b82e683a416d3e35154a455274cf9b162fb02054d11a5b,50ed2081bc939269689789942067c58b3e522c269269a430d5d34c00edbc5870,704b84f7c7444d4372cb59cca6e1209df4ef3b033bc4ee3cf50f369bce972a9d +shared arch=linux-ubuntu18.04-x86_64 \r\n        ^python@2.7.15%gcc@7.3.0+dbm~optimizations patches=123082ab3483ded78e86d7c809e98a804b3465b4683c96bd79a2fd799f572244 +pic+pythoncmd+shared~tk~ucs4 arch=linux-ubuntu18.04-x86_64 \r\n            ^sqlite@3.25.3%gcc@7.3.0~functions arch=linux-ubuntu18.04-x86_64 \r\n        ^superlu-dist@5.4.0%gcc@7.3.0 build_type=RelWithDebInfo ~int64+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^slepc@3.10.1%gcc@7.3.0+arpack~blopex arch=linux-ubuntu18.04-x86_64 \r\n    ^suite-sparse@5.3.0%gcc@7.3.0~cuda~openmp+pic~tbb arch=linux-ubuntu18.04-x86_64 \r\n    ^sundials@3.2.1%gcc@7.3.0+ARKODE+CVODE+CVODES+IDA+IDAS+KINSOL build_type=RelWithDebInfo ~cuda+examples-c~examples-cuda~examples-cxx+examples-f77~examples-f90+examples-install~examples-raja~fcmix+generic-math~hypre~int64~klu~lapack+mpi~openmp~petsc precision=double ~pthread~raja+shared+static~superlu-mt arch=linux-ubuntu18.04-x86_64 \r\n    ^trilinos@12.12.1%gcc@7.3.0~alloptpkgs+amesos+amesos2+anasazi+aztec+belos+boost build_type=RelWithDebInfo ~cgns~complex~dtk+epetra+epetraext+exodus+explicit_template_instantiation~float+fortran~fortrilinos+gtest+hdf5+hypre+ifpack+ifpack2~intrepid~intrepid2~isorropia+kokkos+metis~minitensor+ml+muelu+mumps~nox~openmp~phalanx~piro~pnetcdf~python~rol~rythmos+sacado~shards+shared~stk+suite-sparse~superlu~superlu-dist~teko~tempus+teuchos+tpetra~x11~xsdkflags~zlib+zoltan+zoltan2 arch=linux-ubuntu18.04-x86_64 \r\n        ^glm@0.9.7.1%gcc@7.3.0 build_type=RelWithDebInfo arch=linux-ubuntu18.04-x86_64 \r\n        ^matio@1.5.9%gcc@7.3.0+hdf5+shared+zlib arch=linux-ubuntu18.04-x86_64 \r\n        ^mumps@5.1.1%gcc@7.3.0+complex+double+float~int64~metis+mpi~parmetis~ptscotch~scotch+shared arch=linux-ubuntu18.04-x86_64\r\n```\r\n\r\n\r\nhowever, if I set `openmpi` to `3.1.3` then it is chosen correctly:\r\n```\r\n$ spack spec dealii@develop\r\nInput spec\r\n--------------------------------\r\ndealii@develop\r\n\r\nConcretized\r\n--------------------------------\r\ndealii@develop%gcc@7.3.0+adol-c+arpack+assimp build_type=DebugRelease ~cuda cuda_arch= ~doc+gmsh+gsl+hdf5~int64+metis+mpi+muparser+nanoflann+netcdf+oce~optflags+p4est+petsc~python+scalapack+slepc+sundials+trilinos arch=linux-ubuntu18.04-x86_64 \r\n    ^adol-c@develop%gcc@7.3.0~advanced_branching+atrig_erf~boost+doc+examples~openmp~sparse arch=linux-ubuntu18.04-x86_64 \r\n        ^autoconf@2.69%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n            ^m4@1.4.18%gcc@7.3.0 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-ubuntu18.04-x86_64 \r\n                ^libsigsegv@2.11%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n            ^perl@5.26.2%gcc@7.3.0+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-ubuntu18.04-x86_64 \r\n                ^gdbm@1.18.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                    ^readline@7.0%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                        ^ncurses@6.1%gcc@7.3.0~symlinks~termlib arch=linux-ubuntu18.04-x86_64 \r\n                            ^pkgconf@1.5.4%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n        ^automake@1.16.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n        ^libtool@2.4.6%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^arpack-ng@3.6.3%gcc@7.3.0+mpi+shared arch=linux-ubuntu18.04-x86_64 \r\n        ^cmake@3.5.2%gcc@7.3.0~doc+ncurses+openssl+ownlibs~qt arch=linux-ubuntu18.04-x86_64 \r\n            ^openssl@1.0.2p%gcc@7.3.0+systemcerts arch=linux-ubuntu18.04-x86_64 \r\n                ^zlib@1.2.11%gcc@7.3.0+optimize+pic+shared arch=linux-ubuntu18.04-x86_64 \r\n        ^openblas@0.3.3%gcc@7.3.0 cpu_target= ~ilp64 patches=714aea33692304a50bd0ccde42590c176c82ded4a8ac7f06e573dc8071929c33,f1b066a4481a50678caeb7656bf3e6764f45619686ac465f257c8017a2dc1ff0 +pic+shared threads=none ~virtual_machine arch=linux-ubuntu18.04-x86_64 \r\n        ^openmpi@3.1.3%gcc@7.3.0~cuda+cxx_exceptions fabrics= ~java~legacylaunchers~memchecker~pmi schedulers= ~sqlite3~thread_multiple+vt arch=linux-ubuntu18.04-x86_64 \r\n            ^hwloc@1.11.9%gcc@7.3.0~cairo~cuda+libxml2+pci+shared arch=linux-ubuntu18.04-x86_64 \r\n                ^libpciaccess@0.13.5%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                    ^util-macros@1.19.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                ^libxml2@2.9.8%gcc@7.3.0~python arch=linux-ubuntu18.04-x86_64 \r\n                    ^xz@5.2.4%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n                ^numactl@2.0.11%gcc@7.3.0 patches=592f30f7f5f757dfc239ad0ffd39a9a048487ad803c26b419e0f96b8cda08c1a arch=linux-ubuntu18.04-x86_64 \r\n    ^assimp@4.0.1%gcc@7.3.0 build_type=RelWithDebInfo +shared arch=linux-ubuntu18.04-x86_64 \r\n        ^boost@1.68.0%gcc@7.3.0+atomic+chrono~clanglibcpp cxxstd=default +date_time~debug+exception+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy patches=2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c6874d97c323199,b37164268f34f7133cbc9a4066ae98fda08adf51e1172223f6a969909216870f ~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave arch=linux-ubuntu18.04-x86_64 \r\n            ^bzip2@1.0.6%gcc@7.3.0+shared arch=linux-ubuntu18.04-x86_64 \r\n                ^diffutils@3.6%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^gmsh@4.0.0%gcc@7.3.0 build_type=RelWithDebInfo +compression~fltk~hdf5+mpi+netgen+oce~petsc+shared~slepc+tetgen arch=linux-ubuntu18.04-x86_64 \r\n        ^gmp@6.1.2%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n        ^netgen@5.3.1%gcc@7.3.0~gui~metis+mpi~oce arch=linux-ubuntu18.04-x86_64 \r\n        ^oce@0.18.3%gcc@7.3.0~X11+tbb arch=linux-ubuntu18.04-x86_64 \r\n            ^intel-tbb@2019.2%gcc@7.3.0 cxxstd=default patches=ca08c28bdb15582c30777f9303d1986e4c09b3d514776494f3fbf5f19381bfda +shared+tm arch=linux-ubuntu18.04-x86_64 \r\n        ^tetgen@1.5.0%gcc@7.3.0~debug~except patches=250ee7a9c97fbef4ed8796c70233631559fd2f4663affe6c824896880a605a24 arch=linux-ubuntu18.04-x86_64 \r\n    ^gsl@2.5%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^hdf5@1.10.4%gcc@7.3.0~cxx~debug~fortran+hl+mpi+pic+shared~szip~threadsafe arch=linux-ubuntu18.04-x86_64 \r\n    ^metis@5.1.0%gcc@7.3.0 build_type=Release ~gdb~int64 patches=4991da938c1d3a1d3dea78e49bbebecba00273f98df2a656e38b83d55b281da1 +real64+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^muparser@2.2.6.1%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^nanoflann@1.2.3%gcc@7.3.0 build_type=RelWithDebInfo arch=linux-ubuntu18.04-x86_64 \r\n    ^netcdf@4.6.1%gcc@7.3.0~dap~hdf4 maxdims=1024 maxvars=8192 +mpi~parallel-netcdf+pic+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^netcdf-cxx@4.2%gcc@7.3.0 arch=linux-ubuntu18.04-x86_64 \r\n    ^netlib-scalapack@2.0.2%gcc@7.3.0 build_type=RelWithDebInfo ~pic+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^p4est@2.0%gcc@7.3.0~openmp patches=8fb829e34e3a1e28afdd6e56e0bdc1d377af569b7ccb9e9d8da0eeb5829ed27e,e9418b1a9347a409be241cd185519b31950e42a7f55b6fb80ce53097657098ee arch=linux-ubuntu18.04-x86_64 \r\n    ^petsc@3.10.2%gcc@7.3.0~X clanguage=C ~complex~debug+double+hdf5+hypre~int64+metis+mpi~mumps+shared~suite-sparse+superlu-dist~trilinos arch=linux-ubuntu18.04-x86_64 \r\n        ^hypre@2.15.1%gcc@7.3.0~debug~int64~internal-superlu+mpi+shared arch=linux-ubuntu18.04-x86_64 \r\n        ^parmetis@4.0.3%gcc@7.3.0 build_type=RelWithDebInfo ~gdb patches=4f892531eb0a807eb1b82e683a416d3e35154a455274cf9b162fb02054d11a5b,50ed2081bc939269689789942067c58b3e522c269269a430d5d34c00edbc5870,704b84f7c7444d4372cb59cca6e1209df4ef3b033bc4ee3cf50f369bce972a9d +shared arch=linux-ubuntu18.04-x86_64 \r\n        ^python@2.7.15%gcc@7.3.0+dbm~optimizations patches=123082ab3483ded78e86d7c809e98a804b3465b4683c96bd79a2fd799f572244 +pic+pythoncmd+shared~tk~ucs4 arch=linux-ubuntu18.04-x86_64 \r\n            ^sqlite@3.25.3%gcc@7.3.0~functions arch=linux-ubuntu18.04-x86_64 \r\n        ^superlu-dist@5.4.0%gcc@7.3.0 build_type=RelWithDebInfo ~int64+shared arch=linux-ubuntu18.04-x86_64 \r\n    ^slepc@3.10.1%gcc@7.3.0+arpack~blopex arch=linux-ubuntu18.04-x86_64 \r\n    ^suite-sparse@5.3.0%gcc@7.3.0~cuda~openmp+pic~tbb arch=linux-ubuntu18.04-x86_64 \r\n    ^sundials@3.2.1%gcc@7.3.0+ARKODE+CVODE+CVODES+IDA+IDAS+KINSOL build_type=RelWithDebInfo ~cuda+examples-c~examples-cuda~examples-cxx+examples-f77~examples-f90+examples-install~examples-raja~fcmix+generic-math~hypre~int64~klu~lapack+mpi~openmp~petsc precision=double ~pthread~raja+shared+static~superlu-mt arch=linux-ubuntu18.04-x86_64 \r\n    ^trilinos@12.12.1%gcc@7.3.0~alloptpkgs+amesos+amesos2+anasazi+aztec+belos+boost build_type=RelWithDebInfo ~cgns~complex~dtk+epetra+epetraext+exodus+explicit_template_instantiation~float+fortran~fortrilinos+gtest+hdf5+hypre+ifpack+ifpack2~intrepid~intrepid2~isorropia+kokkos+metis~minitensor+ml+muelu+mumps~nox~openmp~phalanx~piro~pnetcdf~python~rol~rythmos+sacado~shards+shared~stk+suite-sparse~superlu~superlu-dist~teko~tempus+teuchos+tpetra~x11~xsdkflags~zlib+zoltan+zoltan2 arch=linux-ubuntu18.04-x86_64 \r\n        ^glm@0.9.7.1%gcc@7.3.0 build_type=RelWithDebInfo arch=linux-ubuntu18.04-x86_64 \r\n        ^matio@1.5.9%gcc@7.3.0+hdf5+shared+zlib arch=linux-ubuntu18.04-x86_64 \r\n        ^mumps@5.1.1%gcc@7.3.0+complex+double+float~int64~metis+mpi~parmetis~ptscotch~scotch+shared arch=linux-ubuntu18.04-x86_64 \r\n```\r\n\r\nIt also works if I make `openmpi` external:\r\n\r\n```\r\n  openmpi:\r\n    version: [1.10.7]\r\n    paths: \r\n      openmpi@1.10.7%gcc: /cineca/prod/opt/compilers/openmpi/1-10.7/gnu--6.1.0/\r\n    buildable: False\r\n```\r\n\r\n### Information on your system\r\n\r\n 1. Spack 0eb8cd9a8fc95d55ac70b28e9203cc7def476876\r\n 2. \r\n\r\n```\r\n$ lsb_release -d\r\nDescription:\tUbuntu 18.04.1 LTS\r\n```",
    "performed_via_github_app": null
}