{
    "url": "https://api.github.com/repos/spack/spack/issues/3790",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/3790/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/3790/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/3790/events",
    "html_url": "https://github.com/spack/spack/issues/3790",
    "id": 220884840,
    "node_id": "MDU6SXNzdWUyMjA4ODQ4NDA=",
    "number": 3790,
    "title": "Git: Cannot generate configure: missing dependencies ['m4', 'autoconf', 'automake', 'libtool']",
    "user": {
        "login": "samfux84",
        "id": 11944875,
        "node_id": "MDQ6VXNlcjExOTQ0ODc1",
        "avatar_url": "https://avatars.githubusercontent.com/u/11944875?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/samfux84",
        "html_url": "https://github.com/samfux84",
        "followers_url": "https://api.github.com/users/samfux84/followers",
        "following_url": "https://api.github.com/users/samfux84/following{/other_user}",
        "gists_url": "https://api.github.com/users/samfux84/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/samfux84/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/samfux84/subscriptions",
        "organizations_url": "https://api.github.com/users/samfux84/orgs",
        "repos_url": "https://api.github.com/users/samfux84/repos",
        "events_url": "https://api.github.com/users/samfux84/events{/privacy}",
        "received_events_url": "https://api.github.com/users/samfux84/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 13,
    "created_at": "2017-04-11T09:04:47Z",
    "updated_at": "2017-04-11T23:41:02Z",
    "closed_at": "2017-04-11T23:41:02Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Hi,\r\n\r\nI am trying to build git, but it fails with the following error message about missing dependencies:\r\n\r\n```\r\n==> Building git [AutotoolsPackage]\r\n==> Executing phase : 'autoreconf'\r\n==> Error: RuntimeError: Cannot generate configure: missing dependencies ['m4', 'autoconf', 'automake', 'libtool']\r\n/local/cluster/spack/lib/spack/spack/build_systems/autotools.py:208, in autoreconf:\r\n     198      def autoreconf(self, spec, prefix):\r\n     199          \"\"\"Not needed usually, configure should be already there\"\"\"\r\n     200          # If configure exists nothing needs to be done\r\n     201          if os.path.exists(self.configure_abs_path):\r\n     202              return\r\n     203          # Else try to regenerate it\r\n     204          autotools = ['m4', 'autoconf', 'automake', 'libtool']\r\n     205          missing = [x for x in autotools if x not in spec]\r\n     206          if missing:\r\n     207              msg = 'Cannot generate configure: missing dependencies {0}'\r\n  >> 208              raise RuntimeError(msg.format(missing))\r\n     209          tty.msg('Configure script not found: trying to generate it')\r\n     210          tty.warn('*********************************************************')\r\n     211          tty.warn('* If the default procedure fails, consider implementing *')\r\n     212          tty.warn('*        a custom AUTORECONF phase in the package       *')\r\n     213          tty.warn('*********************************************************')\r\n     214          with working_dir(self.configure_directory):\r\n     215              m = inspect.getmodule(self)\r\n     216              # This part should be redundant in principle, but\r\n     217              # won't hurt\r\n     218              m.libtoolize()\r\n     219              m.aclocal()\r\n     220              # This line is what is needed most of the time\r\n     221              # --install, --verbose, --force\r\n     222              autoreconf_args = ['-ivf']\r\n     223              if 'pkg-config' in spec:\r\n     224                  autoreconf_args += [\r\n     225                      '-I',\r\n     226                      join_path(spec['pkg-config'].prefix, 'share', 'aclocal'),\r\n     227                  ]\r\n     228              autoreconf_args += self.autoreconf_extra_args\r\n     229              m.autoreconf(*autoreconf_args)\r\n```\r\nThe dependencies are there:\r\n\r\n```\r\n[sfux@develop02 ~]$ spack find autoconf automake libtool m4\r\n==> 4 installed packages.\r\n-- linux-centos7-x86_64 / gcc@4.8.5 -----------------------------\r\nautoconf@2.69  automake@1.15  libtool@2.4.6  m4@1.4.18\r\n[sfux@develop02 ~]$\r\n```\r\n\r\nand I have added the path to the \"bin\" dir to the PATH variable:\r\n```\r\n\r\n[sfux@develop02 ~]$ which autoreconf\r\n/local/cluster/spack/tools/autoreconf\r\n[sfux@develop02 ~]$ which libtool\r\n/local/cluster/spack/tools/libtool\r\n[sfux@develop02 ~]$ which automake\r\n/local/cluster/spack/tools/automake\r\n[sfux@develop02 ~]$ which m4\r\n/local/cluster/spack/tools/m4\r\n[sfux@develop02 ~]$\r\n```\r\nI get similar error messages for the packages\r\n\r\n- glib\r\n- fonttosfnt\r\n\r\nAny idea what is going wrong ?\r\n\r\nThank you for your help and best regards",
    "performed_via_github_app": null
}