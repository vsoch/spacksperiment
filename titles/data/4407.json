{
    "url": "https://api.github.com/repos/spack/spack/issues/4407",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/4407/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/4407/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/4407/events",
    "html_url": "https://github.com/spack/spack/issues/4407",
    "id": 232611322,
    "node_id": "MDU6SXNzdWUyMzI2MTEzMjI=",
    "number": 4407,
    "title": "Weird error: \"Python/mysnprintf.o: file not recognized: File truncated\"",
    "user": {
        "login": "hartzell",
        "id": 312978,
        "node_id": "MDQ6VXNlcjMxMjk3OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/312978?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hartzell",
        "html_url": "https://github.com/hartzell",
        "followers_url": "https://api.github.com/users/hartzell/followers",
        "following_url": "https://api.github.com/users/hartzell/following{/other_user}",
        "gists_url": "https://api.github.com/users/hartzell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hartzell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hartzell/subscriptions",
        "organizations_url": "https://api.github.com/users/hartzell/orgs",
        "repos_url": "https://api.github.com/users/hartzell/repos",
        "events_url": "https://api.github.com/users/hartzell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hartzell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-05-31T15:49:11Z",
    "updated_at": "2017-07-17T17:36:21Z",
    "closed_at": "2017-07-17T17:36:21Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Jenkins builds my standard set of packages every night on several different clusters.\r\n\r\nLast night two of them failed at different parts of the job.  Both jobs built many things (including `gcc@5.4.0` and several versions of `r`) before failing.\r\n\r\nOne failed building `python@2.7.9`.  The staging directory was still present (it's a link into `/tmp`), here are the last few lines of `spack-build.out`:\r\n\r\n```\r\n/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/lib/spack/env/gcc/gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes  -I. -IInclude -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/var/spack/stage/python-2.7.9-2kocverir2mqqvscxzmyjpgjzerlrofx/Python-2.7.9/Include -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/opt/spack/linux-centos7-x86_64/gcc-5.4.0/bzip2-1.0.6-egkg2fbrcljkai2d23pgrq7wzeg2k5p5/include -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/opt/spack/linux-centos7-x86_64/gcc-5.4.0/ncurses-6.0-43qxlcy2renpowsmlfbhqfek2bckj36m/include -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/opt/spack/linux-centos7-x86_64/gcc-5.4.0/zlib-1.2.11-ec535e2ikkpl7hd4y454t3yydjqorja6/include -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/opt/spack/linux-centos7-x86_64/gcc-5.4.0/openssl-1.0.2k-5s7cetd6mdyveeiqqas6rtcwjvyp3afq/include -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/opt/spack/linux-centos7-x86_64/gcc-5.4.0/sqlite-3.18.0-rwifia5pikbf2qb5z2lwhy6uqcglzq2e/include -I/isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/opt/spack/linux-centos7-x86_64/gcc-5.4.0/readline-7.0-3i26nubtox6ovme4bedn6l6oirjo3pas/include -fPIC -DPy_BUILD_CORE  -c /isilon/scratch/hartzelg/spack-cime-blah-working-dir/workspace/abc-daily-build/spack/var/spack/stage/python-2.7.9-2kocverir2mqqvscxzmyjpgjzerlrofx/Python-2.7.9/Modules/pwdmodule.c -o Modules/pwdmodule.o\r\nPython/mysnprintf.o: file not recognized: File truncated\r\ncollect2: error: ld returned 1 exit status\r\nmake[1]: *** [Parser/pgen] Error 1\r\nmake[1]: Leaving directory `/tmp/hartzelg/spack-stage/spack-stage-H4IiV6/Python-2.7.9'\r\nmake: *** [Include/graminit.h] Error 2\r\nmake: *** Waiting for unfinished jobs....\r\n==> Executing phase : 'build'\r\n```\r\n\r\n`Python/mysnprintf.o` exists and it not *obviously* truncated (it's not 0 bytes or very very short).  Nothing jumps out when I look at it in `less` and comparing that to what I see for e.g. `Python/mystrtoul.o` (but then again, it not really human readable...).\r\n\r\nThe other build failed while building `shiny-server`, quite a bit further along the process.  The link in `.../var/spack/cache/...` exists but the directory in `/tmp` that it points to does *not* exist.  I'm unclear why it was removed on this machine but the python dir above was not.  The Jenkins output for this build has this to say about the failure:\r\n\r\n```\r\n==> Created stage in /scratch/hartzelg/spack-cime-sc1-working-dir/workspace/sc1-daily-build/spack/var/spack/stage/shiny-server-1.5.3.838-sp27hd4wavxurcvazamtp37zrzudrhvf\r\n==> Ran patch() for shiny-server\r\n==> Building shiny-server [CMakePackage]\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j28' 'install'\r\n+ status=1\r\n```\r\n\r\nIt seems more likely that this is a local issue, but I thought I'd mention them here in case they rang any bells.",
    "performed_via_github_app": null
}