{
    "url": "https://api.github.com/repos/spack/spack/issues/21374",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21374/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21374/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21374/events",
    "html_url": "https://github.com/spack/spack/issues/21374",
    "id": 795928535,
    "node_id": "MDU6SXNzdWU3OTU5Mjg1MzU=",
    "number": 21374,
    "title": "spack find -d does not group",
    "user": {
        "login": "yellowhat",
        "id": 1692490,
        "node_id": "MDQ6VXNlcjE2OTI0OTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1692490?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yellowhat",
        "html_url": "https://github.com/yellowhat",
        "followers_url": "https://api.github.com/users/yellowhat/followers",
        "following_url": "https://api.github.com/users/yellowhat/following{/other_user}",
        "gists_url": "https://api.github.com/users/yellowhat/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yellowhat/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yellowhat/subscriptions",
        "organizations_url": "https://api.github.com/users/yellowhat/orgs",
        "repos_url": "https://api.github.com/users/yellowhat/repos",
        "events_url": "https://api.github.com/users/yellowhat/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yellowhat/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 1433532775,
            "node_id": "MDU6TGFiZWwxNDMzNTMyNzc1",
            "url": "https://api.github.com/repos/spack/spack/labels/triage",
            "name": "triage",
            "color": "ed9793",
            "default": false,
            "description": "The issue needs to be prioritized"
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-01-28T11:40:21Z",
    "updated_at": "2021-01-29T19:05:38Z",
    "closed_at": "2021-01-29T19:05:38Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Hi,\r\nI have notice a strange behaviour in the `spack find` command.\r\nIf I run:\r\n```\r\n$ spack find\r\n==> 58 installed packages\r\n-- linux-centos7-broadwell / gcc@9.2.0 --------------------------\r\ncharmpp@6.10.2  cuda@11.2.0  fftw@3.3.9  libiconv@1.16  libxml2@2.9.10  namd@2.14  xz@5.2.2  zlib@1.2.11\r\n\r\n-- linux-centos7-skylake_avx512 / gcc@9.2.0 ---------------------\r\ncharmpp@6.10.2  fftw@3.3.9  gromacs@2020.5  hwloc@2.4.0  intel-mkl@2019.5.281  intel-mpi@2019.8.254  libiconv@1.16  libpciaccess@0.16  libxml2@2.9.10  namd@2.14  util-macros@1.19.1  xz@5.2.2  zlib@1.2.11\r\n\r\n-- linux-centos7-x86_64 / gcc@9.2.0 -----------------------------\r\nfio@3.25  flex@2.5.37  hpcg@3.1  hpl@2.3  hpl@2.3  intel-mkl@2019.5.281  intel-mpi@2019.8.254  ior@3.3.0  openfoam-org@8  openmpi@4.0.4  osu-micro-benchmarks@5.6.3  osu-micro-benchmarks@5.6.3  scotch@6.0.10  zlib@1.2.11\r\n\r\n-- linux-centos7-zen / gcc@9.2.0 --------------------------------\r\ncharmpp@6.10.2  fftw@3.3.9  gromacs@2020.5  hwloc@2.4.0  intel-mkl@2019.5.281  intel-mpi@2019.8.254  libiconv@1.16  libpciaccess@0.16  libxml2@2.9.10  namd@2.14  util-macros@1.19.1  xz@5.2.2  zlib@1.2.11\r\n\r\n-- linux-centos7-zen2 / gcc@9.2.0 -------------------------------\r\ngromacs@2020.5  hwloc@2.4.0  intel-mkl@2019.5.281  intel-mpi@2019.8.254  libiconv@1.16  libpciaccess@0.16  libxml2@2.9.10  util-macros@1.19.1  xz@5.2.2  zlib@1.2.11\r\n```\r\nAs you can see the packages are grouped by the architecture/compiler making the output human readable.\r\n\r\nNot if I add the \"-d\" flag:\r\n```\r\n$ spack find -d\r\n==> 58 installed packages\r\n-- linux-centos7-broadwell / gcc@9.2.0 --------------------------\r\n\r\n-- linux-centos7-skylake_avx512 / gcc@9.2.0 ---------------------\r\n\r\n-- linux-centos7-x86_64 / gcc@9.2.0 -----------------------------\r\n\r\n-- linux-centos7-zen / gcc@9.2.0 --------------------------------\r\n\r\n-- linux-centos7-zen2 / gcc@9.2.0 -------------------------------\r\ncharmpp@6.10.2\r\n\r\ncuda@11.2.0\r\n    libxml2@2.9.10\r\n        libiconv@1.16\r\n        xz@5.2.2\r\n        zlib@1.2.11\r\n\r\nfftw@3.3.9\r\n\r\nlibiconv@1.16\r\n\r\nlibxml2@2.9.10\r\n    libiconv@1.16\r\n    xz@5.2.2\r\n    zlib@1.2.11\r\n\r\nnamd@2.14\r\n    charmpp@6.10.2\r\n    cuda@11.2.0\r\n        libxml2@2.9.10\r\n            libiconv@1.16\r\n            xz@5.2.2\r\n            zlib@1.2.11\r\n    fftw@3.3.9\r\n\r\nxz@5.2.2\r\n\r\nzlib@1.2.11\r\n\r\ncharmpp@6.10.2\r\n    intel-mpi@2019.8.254\r\n\r\nfftw@3.3.9\r\n    intel-mpi@2019.8.254\r\n\r\ngromacs@2020.5\r\n    hwloc@2.4.0\r\n        libpciaccess@0.16\r\n        libxml2@2.9.10\r\n            libiconv@1.16\r\n            xz@5.2.2\r\n            zlib@1.2.11\r\n    intel-mkl@2019.5.281\r\n    intel-mpi@2019.8.254\r\n\r\nhwloc@2.4.0\r\n    libpciaccess@0.16\r\n    libxml2@2.9.10\r\n        libiconv@1.16\r\n        xz@5.2.2\r\n        zlib@1.2.11\r\n\r\nintel-mkl@2019.5.281\r\n\r\nintel-mpi@2019.8.254\r\n\r\nlibiconv@1.16\r\n\r\nlibpciaccess@0.16\r\n\r\nlibxml2@2.9.10\r\n    libiconv@1.16\r\n    xz@5.2.2\r\n    zlib@1.2.11\r\n\r\nnamd@2.14\r\n    charmpp@6.10.2\r\n        intel-mpi@2019.8.254\r\n    fftw@3.3.9\r\n\r\nutil-macros@1.19.1\r\n\r\nxz@5.2.2\r\n\r\nzlib@1.2.11\r\n\r\nfio@3.25\r\n\r\nflex@2.5.37\r\n\r\nhpcg@3.1\r\n    openmpi@4.0.4\r\n\r\nhpl@2.3\r\n    intel-mkl@2019.5.281\r\n    intel-mpi@2019.8.254\r\n\r\nhpl@2.3\r\n    intel-mkl@2019.5.281\r\n    openmpi@4.0.4\r\n\r\nintel-mkl@2019.5.281\r\n\r\nintel-mpi@2019.8.254\r\n\r\nior@3.3.0\r\n    openmpi@4.0.4\r\n\r\nopenfoam-org@8\r\n    flex@2.5.37\r\n    openmpi@4.0.4\r\n    scotch@6.0.10\r\n        zlib@1.2.11\r\n\r\nopenmpi@4.0.4\r\n\r\nosu-micro-benchmarks@5.6.3\r\n    intel-mpi@2019.8.254\r\n\r\nosu-micro-benchmarks@5.6.3\r\n    openmpi@4.0.4\r\n\r\nscotch@6.0.10\r\n    openmpi@4.0.4\r\n    zlib@1.2.11\r\n\r\nzlib@1.2.11\r\n\r\ncharmpp@6.10.2\r\n    intel-mpi@2019.8.254\r\n\r\nfftw@3.3.9\r\n    intel-mpi@2019.8.254\r\n\r\ngromacs@2020.5\r\n    hwloc@2.4.0\r\n        libpciaccess@0.16\r\n        libxml2@2.9.10\r\n            libiconv@1.16\r\n            xz@5.2.2\r\n            zlib@1.2.11\r\n    intel-mkl@2019.5.281\r\n    intel-mpi@2019.8.254\r\n\r\nhwloc@2.4.0\r\n    libpciaccess@0.16\r\n    libxml2@2.9.10\r\n        libiconv@1.16\r\n        xz@5.2.2\r\n        zlib@1.2.11\r\n\r\nintel-mkl@2019.5.281\r\n\r\nintel-mpi@2019.8.254\r\n\r\nlibiconv@1.16\r\n\r\nlibpciaccess@0.16\r\n...\r\n```\r\nThe installed packages are not grouped anymore by architecture/compiler and makes very difficult to understand which package is build for which architecture/compiler.\r\nSame output with `spack find -d --groups`.\r\n\r\nIs this the desired behaviour?\r\n\r\nThanks\r\n",
    "performed_via_github_app": null
}