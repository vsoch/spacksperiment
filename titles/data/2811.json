{
    "url": "https://api.github.com/repos/spack/spack/issues/2811",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2811/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2811/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2811/events",
    "html_url": "https://github.com/spack/spack/issues/2811",
    "id": 200191925,
    "node_id": "MDU6SXNzdWUyMDAxOTE5MjU=",
    "number": 2811,
    "title": "spack refusing to fetch pflotran",
    "user": {
        "login": "amklinv",
        "id": 15895383,
        "node_id": "MDQ6VXNlcjE1ODk1Mzgz",
        "avatar_url": "https://avatars.githubusercontent.com/u/15895383?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amklinv",
        "html_url": "https://github.com/amklinv",
        "followers_url": "https://api.github.com/users/amklinv/followers",
        "following_url": "https://api.github.com/users/amklinv/following{/other_user}",
        "gists_url": "https://api.github.com/users/amklinv/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amklinv/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amklinv/subscriptions",
        "organizations_url": "https://api.github.com/users/amklinv/orgs",
        "repos_url": "https://api.github.com/users/amklinv/repos",
        "events_url": "https://api.github.com/users/amklinv/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amklinv/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        },
        {
            "id": 73908755,
            "node_id": "MDU6TGFiZWw3MzkwODc1NQ==",
            "url": "https://api.github.com/repos/spack/spack/labels/duplicate",
            "name": "duplicate",
            "color": "cccccc",
            "default": true,
            "description": null
        },
        {
            "id": 446643530,
            "node_id": "MDU6TGFiZWw0NDY2NDM1MzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/fetching",
            "name": "fetching",
            "color": "fbca04",
            "default": false,
            "description": null
        },
        {
            "id": 584430651,
            "node_id": "MDU6TGFiZWw1ODQ0MzA2NTE=",
            "url": "https://api.github.com/repos/spack/spack/labels/mercurial",
            "name": "mercurial",
            "color": "d4c5f9",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "adamjstewart",
            "id": 12021217,
            "node_id": "MDQ6VXNlcjEyMDIxMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adamjstewart",
            "html_url": "https://github.com/adamjstewart",
            "followers_url": "https://api.github.com/users/adamjstewart/followers",
            "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
            "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
            "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
            "repos_url": "https://api.github.com/users/adamjstewart/repos",
            "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2017-01-11T19:57:14Z",
    "updated_at": "2017-04-16T16:24:45Z",
    "closed_at": "2017-01-12T12:54:40Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I am trying to use the barry/xsdk branch of spack to install the xsdk package on NERSC's cori.  I get the following error message:\r\n\r\n```\r\namklinv@cori08:~/cori/spack/bin> ./spack install xsdk\r\n==> Installing xsdk\r\n==> hypre is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/hypre-develop-dorku2wm4hssmuzp5xp7izeaumusl4rp\r\n==> superlu-dist is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/superlu-dist-develop-v64uciojwaunycj7vx5fno7o4yyeih6e\r\n==> trilinos is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/trilinos-develop-ycmxjyv6ulvzesaspa5ctzc2pblnt6bp\r\n==> petsc is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/petsc-develop-53etus6tzpuzmghs5g2lmgcjfiyt46gr\r\n==> xsdktrilinos is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/xsdktrilinos-develop-opchdonfqjiqg4c7zdytxhtehjg6ovng\r\n==> Installing pflotran\r\n==> mpich is externally installed in /opt/cray/pe/mpt/7.4.4/gni/mpich-gnu/5.1\r\n==> petsc is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/petsc-develop-53etus6tzpuzmghs5g2lmgcjfiyt46gr\r\n==> hdf5 is already installed in /global/u1/a/amklinv/cori/spack/opt/spack/cray-CNL-haswell/gcc-6.2.0/hdf5-1.8.12-wjs7peokxddh46ipgqystfenanmxpanj\r\n==> Trying to clone Mercurial repository:\r\n  https://bitbucket.org/pflotran/pflotran-xsdk\r\nImportError: No module named site\r\n==> Fetching from [hg] https://bitbucket.org/pflotran/pflotran-xsdk failed.\r\n==> Error: FetchError: All fetchers failed for pflotran-develop-jpvrwu7fysc4k2oyy56eq6e3xerqgihv\r\n/global/u1/a/amklinv/cori/spack/lib/spack/spack/package.py:943, in do_fetch:\r\n     916      def do_fetch(self, mirror_only=False):\r\n     917          \"\"\"\r\n     918          Creates a stage directory and downloads the tarball for this package.\r\n     919          Working directory will be set to the stage directory.\r\n     920          \"\"\"\r\n     921          if not self.spec.concrete:\r\n     922              raise ValueError(\"Can only fetch concrete packages.\")\r\n     923\r\n     924          start_time = time.time()\r\n     925          if spack.do_checksum and self.version not in self.versions:\r\n     926              tty.warn(\"There is no checksum on file to fetch %s safely.\" %\r\n     927                       self.spec.format('$_$@'))\r\n     928\r\n     929              # Ask the user whether to skip the checksum if we're\r\n     930              # interactive, but just fail if non-interactive.\r\n     931              ck_msg = \"Add a checksum or use --no-checksum to skip this check.\"\r\n     932              ignore_checksum = False\r\n     933              if sys.stdout.isatty():\r\n     934                  ignore_checksum = tty.get_yes_or_no(\"  Fetch anyway?\",\r\n     935                                                      default=False)\r\n     936                  if ignore_checksum:\r\n     937                      tty.msg(\"Fetching with no checksum.\", ck_msg)\r\n     938\r\n     939              if not ignore_checksum:\r\n     940                  raise FetchError(\"Will not fetch %s\" %\r\n     941                                   self.spec.format('$_$@'), ck_msg)\r\n     942\r\n  >> 943          self.stage.fetch(mirror_only)\r\n     944\r\n     945          self._fetch_time = time.time() - start_time\r\n     946\r\n     947          if spack.do_checksum and self.version in self.versions:\r\n     948              self.stage.check()\r\n     949\r\n     950          self.stage.cache_local()\r\n```\r\n\r\nMy yaml files are below\r\n```\r\namklinv@cori08:~/cori/spack/bin> cat ~/cori/spack/etc/spack/cray/compilers.yaml\r\ncompilers:\r\n- compiler:\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    modules:\r\n    - PrgEnv-gnu\r\n    - gcc/6.2.0\r\n    operating_system: CNL\r\n    paths:\r\n      cc: /opt/cray/pe/craype/2.5.7/bin/cc\r\n      cxx: /opt/cray/pe/craype/2.5.7/bin/CC\r\n      f77: /opt/cray/pe/craype/2.5.7/bin/ftn\r\n      fc: /opt/cray/pe/craype/2.5.7/bin/ftn\r\n    spec: gcc@6.2.0\r\n```\r\n```\r\namklinv@cori08:~/cori/spack/bin> cat ~/cori/spack/etc/spack/cray/packages.yaml\r\npackages:\r\n  mpich:\r\n    modules:\r\n      mpich@7.4.4%gcc@6.2.0 arch=cray-CNL-haswell : cray-mpich/7.4.4\r\n    buildable: False\r\n  all:\r\n    providers:\r\n      mpi: [mpich]\r\n```",
    "performed_via_github_app": null
}