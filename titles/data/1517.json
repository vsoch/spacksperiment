{
    "url": "https://api.github.com/repos/spack/spack/issues/1517",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/1517/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/1517/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/1517/events",
    "html_url": "https://github.com/spack/spack/issues/1517",
    "id": 171070163,
    "node_id": "MDU6SXNzdWUxNzEwNzAxNjM=",
    "number": 1517,
    "title": "Error while building Qt on linux system (red hat)",
    "user": {
        "login": "pramodk",
        "id": 666852,
        "node_id": "MDQ6VXNlcjY2Njg1Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/666852?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pramodk",
        "html_url": "https://github.com/pramodk",
        "followers_url": "https://api.github.com/users/pramodk/followers",
        "following_url": "https://api.github.com/users/pramodk/following{/other_user}",
        "gists_url": "https://api.github.com/users/pramodk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pramodk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pramodk/subscriptions",
        "organizations_url": "https://api.github.com/users/pramodk/orgs",
        "repos_url": "https://api.github.com/users/pramodk/repos",
        "events_url": "https://api.github.com/users/pramodk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pramodk/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 12,
    "created_at": "2016-08-14T17:53:11Z",
    "updated_at": "2018-04-14T21:04:43Z",
    "closed_at": "2018-04-14T21:04:43Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Hello All,\n\nI see there are open issues/pull requests related to Qt package changes. Please close this ticket if this is already being addressed.\n\nWhile building Qt on red hat 6.7 I see following errors:\n\n```\nspack install -v --keep-stage  qt@5.4.2 %gcc@4.9.3\n```\n\nSpack error:\n\n```\n/gpfs/bbp.cscs.ch/home/kumbhar/workarena/systems/lugviz/softwares/sources/spack/var/spack/repos/builtin/packages/qt/package.py:186, in install:\n     184      def install(self, spec, prefix):\n     185          self.configure()\n  >> 186          make()\n     187          make(\"install\")\n==> Error: Installation process had nonzero exit code : 256\n```\n\nSpack build log\n\n```\n                 from ../3rdparty/javascriptcore/JavaScriptCore/API/JSObjectRef.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h: In function \u2018int QTJSC::Yarr::executeRegex(QTJSC::Yarr::RegexCodeBlock&, const UChar*, unsigned int, unsigned int, int*, int)\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h:89:88: error: \u2018jsRegExpExecute\u2019 was not declared in this scope\n         return (jsRegExpExecute(fallback, input, length, start, output, outputArraySize) < 0) ? -1 : output[0];\n                                                                                        ^\nmake[3]: *** [obj/release/JSCallbackFunction.o] Error 1\nmake[3]: *** Waiting for unfinished jobs....\nmake[3]: *** [obj/release/JSObjectRef.o] Error 1\nIn file included from ../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssembler.h:46:0,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/Instruction.h:32,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.h:34,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h: In member function \u2018QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Call QTJSC::MacroAssemblerX86_64::call()\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h:113:22: warning: variable \u2018label\u2019 set but not used [-Wunused-but-set-variable]\n         DataLabelPtr label = moveWithPatch(ImmPtr(0), scratchRegister);\n                      ^\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h: In member function \u2018QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Call QTJSC::MacroAssemblerX86_64::tailRecursiveCall()\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h:121:22: warning: variable \u2018label\u2019 set but not used [-Wunused-but-set-variable]\n         DataLabelPtr label = moveWithPatch(ImmPtr(0), scratchRegister);\n                      ^\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h: In member function \u2018QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Call QTJSC::MacroAssemblerX86_64::makeTailRecursiveCall(QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Jump)\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h:130:22: warning: variable \u2018label\u2019 set but not used [-Wunused-but-set-variable]\n         DataLabelPtr label = moveWithPatch(ImmPtr(0), scratchRegister);\n                      ^\nIn file included from ../3rdparty/javascriptcore/JavaScriptCore/runtime/RegExp.h:30:0,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.h:40,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h: In destructor \u2018QTJSC::Yarr::RegexCodeBlock::~RegexCodeBlock()\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h:65:36: error: \u2018jsRegExpFree\u2019 was not declared in this scope\n             jsRegExpFree(m_fallback);\n                                    ^\nIn file included from ../3rdparty/javascriptcore/JavaScriptCore/runtime/RegExp.h:30:0,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.h:40,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h: In function \u2018int QTJSC::Yarr::executeRegex(QTJSC::Yarr::RegexCodeBlock&, const UChar*, unsigned int, unsigned int, int*, int)\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h:89:88: error: \u2018jsRegExpExecute\u2019 was not declared in this scope\n         return (jsRegExpExecute(fallback, input, length, start, output, outputArraySize) < 0) ? -1 : output[0];\n                                                                                        ^\nmake[3]: *** [obj/release/CodeBlock.o] Error 1\nmake[3]: Leaving directory `/tmp/kumbhar/spack-stage/spack-stage-T1p9sl/qt-everywhere-opensource-src-5.4.2/qtscript/src/script'\nmake[2]: *** [sub-script-make_first-ordered] Error 2\nmake[2]: Leaving directory `/tmp/kumbhar/spack-stage/spack-stage-T1p9sl/qt-everywhere-opensource-src-5.4.2/qtscript/src'\nmake[1]: *** [sub-src-make_first] Error 2\nmake[1]: Leaving directory `/tmp/kumbhar/spack-stage/spack-stage-T1p9sl/qt-everywhere-opensource-src-5.4.2/qtscript'\nmake: *** [module-qtscript-make_first] Error 2\n```\n\nLet me know if I can try something else to avoid the build failure.\n",
    "performed_via_github_app": null
}