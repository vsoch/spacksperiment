{
    "url": "https://api.github.com/repos/spack/spack/issues/11645",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/11645/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/11645/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/11645/events",
    "html_url": "https://github.com/spack/spack/issues/11645",
    "id": 453134389,
    "node_id": "MDU6SXNzdWU0NTMxMzQzODk=",
    "number": 11645,
    "title": "Installation issue: lua-luafilesystem",
    "user": {
        "login": "odoublewen",
        "id": 1421445,
        "node_id": "MDQ6VXNlcjE0MjE0NDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1421445?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/odoublewen",
        "html_url": "https://github.com/odoublewen",
        "followers_url": "https://api.github.com/users/odoublewen/followers",
        "following_url": "https://api.github.com/users/odoublewen/following{/other_user}",
        "gists_url": "https://api.github.com/users/odoublewen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/odoublewen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/odoublewen/subscriptions",
        "organizations_url": "https://api.github.com/users/odoublewen/orgs",
        "repos_url": "https://api.github.com/users/odoublewen/repos",
        "events_url": "https://api.github.com/users/odoublewen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/odoublewen/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 1371552534,
            "node_id": "MDU6TGFiZWwxMzcxNTUyNTM0",
            "url": "https://api.github.com/repos/spack/spack/labels/stage",
            "name": "stage",
            "color": "b50fc1",
            "default": false,
            "description": ""
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "tldahlgren",
        "id": 35777542,
        "node_id": "MDQ6VXNlcjM1Nzc3NTQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35777542?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tldahlgren",
        "html_url": "https://github.com/tldahlgren",
        "followers_url": "https://api.github.com/users/tldahlgren/followers",
        "following_url": "https://api.github.com/users/tldahlgren/following{/other_user}",
        "gists_url": "https://api.github.com/users/tldahlgren/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tldahlgren/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tldahlgren/subscriptions",
        "organizations_url": "https://api.github.com/users/tldahlgren/orgs",
        "repos_url": "https://api.github.com/users/tldahlgren/repos",
        "events_url": "https://api.github.com/users/tldahlgren/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tldahlgren/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "tldahlgren",
            "id": 35777542,
            "node_id": "MDQ6VXNlcjM1Nzc3NTQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35777542?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tldahlgren",
            "html_url": "https://github.com/tldahlgren",
            "followers_url": "https://api.github.com/users/tldahlgren/followers",
            "following_url": "https://api.github.com/users/tldahlgren/following{/other_user}",
            "gists_url": "https://api.github.com/users/tldahlgren/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tldahlgren/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tldahlgren/subscriptions",
            "organizations_url": "https://api.github.com/users/tldahlgren/orgs",
            "repos_url": "https://api.github.com/users/tldahlgren/repos",
            "events_url": "https://api.github.com/users/tldahlgren/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tldahlgren/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2019-06-06T16:45:41Z",
    "updated_at": "2019-06-06T21:07:47Z",
    "closed_at": "2019-06-06T21:07:47Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I have a nightly CI build that now dies while trying to do a `spack install lua-luafilesystem`.  This occurred upon the the merge of #11528 \r\n\r\nIn other words, I am seeing that `lua-luafilesystem` will not install using commit eb584d8 but will install from 8e3fd3f.\r\n\r\nThis is on CentOS 7 , gcc 8.2.0\r\n\r\n### Steps to reproduce the issue\r\n\r\n```\r\n[spack]$ git checkout eb584d8\r\nPrevious HEAD position was 8e3fd3f... tty: make tty.* print exception types\r\nHEAD is now at eb584d8... refactor: remove unused spack.stage._get_mirrors() function\r\n[spack]$ ./bin/spack install lua-luafilesystem\r\n...\r\n==> lua is already installed in /home/osolberg/temp/spack/opt/spack/linux-centos7-x86_64/gcc-8.2.0/lua-5.3.5-fulv52lir6poddzxeogk7rgrqglnkbon\r\n==> Installing lua-luafilesystem\r\n==> Searching for binary cache of lua-luafilesystem\r\n==> Finding buildcaches in /bifx/apps/spack/mirror/build_cache\r\n==> No binary for lua-luafilesystem found: installing from source\r\n==> Using cached archive: /home/osolberg/temp/spack/var/spack/cache/lua-luafilesystem/lua-luafilesystem-1_7_0_2.tar.gz\r\n==> Staging archive: /home/osolberg/temp/spack/var/spack/stage/lua-luafilesystem-1_7_0_2-dhumhtidskeakxzmlru6qnprnpw7lthz/v1_7_0_2.tar.gz\r\n==> Created stage in /home/osolberg/temp/spack/var/spack/stage/lua-luafilesystem-1_7_0_2-dhumhtidskeakxzmlru6qnprnpw7lthz\r\n==> No patches needed for lua-luafilesystem\r\n==> Building lua-luafilesystem [Package]\r\n==> Error: OSError: [Errno 2] No such file or directory: '/home/osolberg/temp/spack/var/spack/stage/lua-luafilesystem-1_7_0_2-dhumhtidskeakxzmlru6qnprnpw7lthz/src'\r\n\r\n/home/osolberg/temp/spack/lib/spack/spack/package.py:1577, in build_process:\r\n       1574                    echo = logger.echo\r\n       1575                    self.log()\r\n       1576\r\n  >>   1577                # Run post install hooks before build stage is removed.\r\n       1578                spack.hooks.post_install(self.spec)\r\n       1579\r\n       1580            # Stop timer.\r\n\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n[spack]$ uname -a\r\nLinux bifx1n03.bold.bio 3.10.0-957.1.3.el7.x86_64 #1 SMP Thu Nov 29 14:49:43 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n[spack]$ ./bin/spack spec --install-status lua-luafilesystem\r\nInput spec\r\n--------------------------------\r\n -   lua-luafilesystem\r\n\r\nConcretized\r\n--------------------------------\r\n -   lua-luafilesystem@1_7_0_2%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]      ^git@2.21.0%gcc@8.2.0~tcltk arch=linux-centos7-x86_64\r\n[+]          ^autoconf@2.69%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]              ^m4@1.4.18%gcc@8.2.0 patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=linux-centos7-x86_64\r\n[+]                  ^libsigsegv@2.11%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]              ^perl@5.26.2%gcc@8.2.0+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=linux-centos7-x86_64\r\n[+]                  ^gdbm@1.18.1%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]                      ^readline@7.0%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]                          ^ncurses@6.1%gcc@8.2.0~symlinks~termlib arch=linux-centos7-x86_64\r\n[+]                              ^pkgconf@1.6.0%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]          ^automake@1.16.1%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]          ^curl@7.63.0%gcc@8.2.0~darwinssl~gssapi~libssh~libssh2~nghttp2 arch=linux-centos7-x86_64\r\n[+]              ^openssl@1.1.1b%gcc@8.2.0+systemcerts arch=linux-centos7-x86_64\r\n[+]                  ^zlib@1.2.11%gcc@8.2.0+optimize+pic+shared arch=linux-centos7-x86_64\r\n[+]          ^expat@2.2.5%gcc@8.2.0+libbsd arch=linux-centos7-x86_64\r\n[+]              ^libbsd@0.9.1%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]          ^gettext@0.19.8.1%gcc@8.2.0+bzip2+curses+git~libunistring+libxml2 patches=9acdb4e73f67c241b5ef32505c9ddf7cf6884ca8ea661692f21dca28483b04b8 +tar+xz arch=linux-centos7-x86_64\r\n[+]              ^bzip2@1.0.6%gcc@8.2.0+shared arch=linux-centos7-x86_64\r\n[+]                  ^diffutils@3.7%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]              ^libxml2@2.9.9%gcc@8.2.0~python arch=linux-centos7-x86_64\r\n[+]                  ^libiconv@1.15%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]                  ^xz@5.2.4%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]              ^tar@1.31%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]          ^libtool@2.4.6%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]          ^pcre@8.42%gcc@8.2.0+jit+multibyte+utf arch=linux-centos7-x86_64\r\n[+]      ^lua@5.3.5%gcc@8.2.0 arch=linux-centos7-x86_64\r\n[+]          ^unzip@6.0%gcc@8.2.0 arch=linux-centos7-x86_64\r\n```",
    "performed_via_github_app": null
}