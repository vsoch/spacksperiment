{
    "url": "https://api.github.com/repos/spack/spack/issues/9294",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9294/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9294/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9294/events",
    "html_url": "https://github.com/spack/spack/issues/9294",
    "id": 361926004,
    "node_id": "MDU6SXNzdWUzNjE5MjYwMDQ=",
    "number": 9294,
    "title": "Installation issue: python+tk",
    "user": {
        "login": "sknigh",
        "id": 18291531,
        "node_id": "MDQ6VXNlcjE4MjkxNTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/18291531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sknigh",
        "html_url": "https://github.com/sknigh",
        "followers_url": "https://api.github.com/users/sknigh/followers",
        "following_url": "https://api.github.com/users/sknigh/following{/other_user}",
        "gists_url": "https://api.github.com/users/sknigh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sknigh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sknigh/subscriptions",
        "organizations_url": "https://api.github.com/users/sknigh/orgs",
        "repos_url": "https://api.github.com/users/sknigh/repos",
        "events_url": "https://api.github.com/users/sknigh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sknigh/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-09-19T21:01:14Z",
    "updated_at": "2018-09-28T02:34:19Z",
    "closed_at": "2018-09-28T02:34:19Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Spack is unable to \"recursively locate tcl libraries\" when analyzing the TCL spec before installing Python. Reproduced on a Centos7 & RHEL 7 system.\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install python@2.7.15+tk\r\n==> sqlite is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/sqlite-3.23.1-7wu32u4i7ccgwcv2udo6n7jbtcoecite\r\n==> tcl is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/tcl-8.6.8-5nqkfcnctewdheju62zvqbsonnzszr6m\r\n==> util-macros is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/util-macros-1.19.1-msje2yczxov5uvzlc5qk4phqmyeklg65\r\n==> inputproto is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/inputproto-2.3.2-gap7to62273laqrsxu5rma2lx6fer54i\r\n==> kbproto is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/kbproto-1.0.7-xjtsozlcf4ttj457t5nh4dr6dhayjjga\r\n==> libpthread-stubs is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/libpthread-stubs-0.4-ysy56bbriodr76fgm4howfo77lkeojcl\r\n==> xproto is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/xproto-7.0.31-wtblcw4bzn7mxb4qtfybhb6acqkll2a5\r\n==> libxau is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/libxau-1.0.8-33gftuowo4ruozpjt464zlqmzuenn6ze\r\n==> libxdmcp is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/libxdmcp-1.1.2-lsgxmwuzdd2y2dcs4pwdl7f5mv52577n\r\n==> xcb-proto is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/xcb-proto-1.13-26i34vuhamx2yjy7or6z2rqqbvee6rnc\r\n==> libxcb is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/libxcb-1.13-vswr5oiyybgfymo7b4a6vspqaoqznjyl\r\n==> perl is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/perl-5.26.2-ka6syh2hjjqi345yvu6fq5johc7i57ij\r\n==> xextproto is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/xextproto-7.3.0-kookqqj5xffsu7at4pbd75aqgju3tfyi\r\n==> xtrans is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/xtrans-1.3.5-uuohg3zfok4nno6wicrisw3fj2lpgscw\r\n==> libx11 is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/libx11-1.6.5-55psoehtec7dgfqceqmhrj5o3e5epe6h\r\n==> tk is already installed in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/tk-8.6.8-uaspjhewvbjfgqt54bmzqy33rv5i5zij\r\n==> Installing python\r\n==> Using cached archive: spack/var/spack/cache/python/python-2.7.15.tgz\r\n==> Staging archive: spack/var/spack/stage/python-2.7.15-uyxkdxvb3ywqae5maeok4omywaye7cza/Python-2.7.15.tgz\r\n==> Created stage in spack/var/spack/stage/python-2.7.15-uyxkdxvb3ywqae5maeok4omywaye7cza\r\n==> Applied patch ncurses.patch\r\n==> Ran patch() for python\r\n==> Building python [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Error: RuntimeError: Unable to recursively locate tcl libraries in spack/opt/spack/linux-rhel7-x86_64/gcc-4.8.5/tcl-8.6.8-5nqkfcnctewdheju62zvqbsonnzszr6m\r\n\r\nspack/var/spack/repos/builtin/packages/python/package.py:191, in configure_args: \r\n        188        # dependencies (which we need to get their 'libs') is to get them\r\n        189        # using spec.__getitem__.\r\n        190        ldflags = ' '.join(spec[dep.name].libs.search_flags\r\n  >>    191                           for dep in link_deps)\r\n        192\r\n        193        config_args = ['CPPFLAGS=' + cppflags, 'LDFLAGS=' + ldflags]\r\n        194\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n$ lsb_release -d\r\nDescription:    CentOS Linux release 7.4.1708 (Core)\r\n```\r\n",
    "performed_via_github_app": null
}