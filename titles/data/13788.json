{
    "url": "https://api.github.com/repos/spack/spack/issues/13788",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/13788/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/13788/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/13788/events",
    "html_url": "https://github.com/spack/spack/issues/13788",
    "id": 525224959,
    "node_id": "MDU6SXNzdWU1MjUyMjQ5NTk=",
    "number": 13788,
    "title": "Patch naming conflicts",
    "user": {
        "login": "Paul-Ferrell",
        "id": 51765748,
        "node_id": "MDQ6VXNlcjUxNzY1NzQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/51765748?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Paul-Ferrell",
        "html_url": "https://github.com/Paul-Ferrell",
        "followers_url": "https://api.github.com/users/Paul-Ferrell/followers",
        "following_url": "https://api.github.com/users/Paul-Ferrell/following{/other_user}",
        "gists_url": "https://api.github.com/users/Paul-Ferrell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Paul-Ferrell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Paul-Ferrell/subscriptions",
        "organizations_url": "https://api.github.com/users/Paul-Ferrell/orgs",
        "repos_url": "https://api.github.com/users/Paul-Ferrell/repos",
        "events_url": "https://api.github.com/users/Paul-Ferrell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Paul-Ferrell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-11-19T19:44:48Z",
    "updated_at": "2019-12-10T02:57:01Z",
    "closed_at": "2019-12-10T02:57:01Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "When a package defines a set of patches, if the name of the patch file (the last element of the URL) is the same across multiple patches they will clobber each other when fetched. \r\n\r\nI'm a bit surprised this hasn't been found before, as Spack downloads all patches if you mirror even a single version. \r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n# Check the mirror directory, and find only one copy of all_patches, when there should be 7. \r\n$ spack mirror -d <my_mirror> mpfr\r\n\r\n### Errors\r\nThis causes spack to throw 'invalid hash' errors when trying to use these patches, as the patch downloaded first is the one available (rather than the version you happen to be trying to build).\r\n```",
    "performed_via_github_app": null
}