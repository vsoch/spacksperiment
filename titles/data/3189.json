{
    "url": "https://api.github.com/repos/spack/spack/issues/3189",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/3189/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/3189/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/3189/events",
    "html_url": "https://github.com/spack/spack/issues/3189",
    "id": 208883994,
    "node_id": "MDU6SXNzdWUyMDg4ODM5OTQ=",
    "number": 3189,
    "title": "OpenBLAS: Detecting CPU failed.( Intel Kabylake 7700HQ CPU)",
    "user": {
        "login": "RezaLTM",
        "id": 25903014,
        "node_id": "MDQ6VXNlcjI1OTAzMDE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/25903014?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RezaLTM",
        "html_url": "https://github.com/RezaLTM",
        "followers_url": "https://api.github.com/users/RezaLTM/followers",
        "following_url": "https://api.github.com/users/RezaLTM/following{/other_user}",
        "gists_url": "https://api.github.com/users/RezaLTM/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/RezaLTM/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RezaLTM/subscriptions",
        "organizations_url": "https://api.github.com/users/RezaLTM/orgs",
        "repos_url": "https://api.github.com/users/RezaLTM/repos",
        "events_url": "https://api.github.com/users/RezaLTM/events{/privacy}",
        "received_events_url": "https://api.github.com/users/RezaLTM/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446754070,
            "node_id": "MDU6TGFiZWw0NDY3NTQwNzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/blas-lapack-scalapack",
            "name": "blas-lapack-scalapack",
            "color": "4477a8",
            "default": false,
            "description": null
        },
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 9,
    "created_at": "2017-02-20T13:45:36Z",
    "updated_at": "2017-02-21T10:05:31Z",
    "closed_at": "2017-02-20T23:40:47Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi everybody,\r\nDuring the installation of the installation of Openblas with Spack I get this error\r\n```\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' 'CC=/home/reza/spack/lib/spack/env/gcc/gcc' 'FC=/home/reza/spack/lib/spack/env/gcc/gfortran' 'MAKE_NO_J=1' 'libs' 'netlib' 'shared'\r\n/home/reza/spack/lib/spack/spack/build_systems/makefile.py:94, in build:\r\n     89       def build(self, spec, prefix):\r\n     90           \"\"\"Calls make, passing :py:attr:`~.MakefilePackage.build_targets`\r\n     91           as targets.\r\n     92           \"\"\"\r\n     93           with working_dir(self.build_directory):\r\n  >> 94               inspect.getmodule(self).make(*self.build_targets)\r\n\r\nSee build log for details:\r\n  /tmp/reza/spack-stage/spack-stage-H6xYgt/OpenBLAS-0.2.19/spack-build.out\r\n```\r\nwhereas the log says\r\n```\r\n==> Using default implementation: skipping edit phase.\r\n==> 'make' 'CC=/home/reza/spack/lib/spack/env/gcc/gcc' 'FC=/home/reza/spack/lib/spack/env/gcc/gfortran' 'MAKE_NO_J=1' 'libs' 'netlib' 'shared'\r\ngetarch_2nd.c: In function \u2018main\u2019:\r\ngetarch_2nd.c:12:35: error: \u2018SGEMM_DEFAULT_UNROLL_M\u2019 undeclared (first use in this function)\r\n     printf(\"SGEMM_UNROLL_M=%d\\n\", SGEMM_DEFAULT_UNROLL_M);\r\n                                   ^\r\ngetarch_2nd.c:12:35: note: each undeclared identifier is reported only once for each function it appears in\r\ngetarch_2nd.c:13:35: error: \u2018SGEMM_DEFAULT_UNROLL_N\u2019 undeclared (first use in this function)\r\n     printf(\"SGEMM_UNROLL_N=%d\\n\", SGEMM_DEFAULT_UNROLL_N);\r\n                                   ^\r\ngetarch_2nd.c:14:35: error: \u2018DGEMM_DEFAULT_UNROLL_M\u2019 undeclared (first use in this function)\r\n     printf(\"DGEMM_UNROLL_M=%d\\n\", DGEMM_DEFAULT_UNROLL_M);\r\n                                   ^\r\ngetarch_2nd.c:15:35: error: \u2018DGEMM_DEFAULT_UNROLL_N\u2019 undeclared (first use in this function)\r\n     printf(\"DGEMM_UNROLL_N=%d\\n\", DGEMM_DEFAULT_UNROLL_N);\r\n                                   ^\r\ngetarch_2nd.c:19:35: error: \u2018CGEMM_DEFAULT_UNROLL_M\u2019 undeclared (first use in this function)\r\n     printf(\"CGEMM_UNROLL_M=%d\\n\", CGEMM_DEFAULT_UNROLL_M);\r\n                                   ^\r\ngetarch_2nd.c:20:35: error: \u2018CGEMM_DEFAULT_UNROLL_N\u2019 undeclared (first use in this function)\r\n     printf(\"CGEMM_UNROLL_N=%d\\n\", CGEMM_DEFAULT_UNROLL_N);\r\n                                   ^\r\ngetarch_2nd.c:21:35: error: \u2018ZGEMM_DEFAULT_UNROLL_M\u2019 undeclared (first use in this function)\r\n     printf(\"ZGEMM_UNROLL_M=%d\\n\", ZGEMM_DEFAULT_UNROLL_M);\r\n                                   ^\r\ngetarch_2nd.c:22:35: error: \u2018ZGEMM_DEFAULT_UNROLL_N\u2019 undeclared (first use in this function)\r\n     printf(\"ZGEMM_UNROLL_N=%d\\n\", ZGEMM_DEFAULT_UNROLL_N);\r\n                                   ^\r\ngetarch_2nd.c:69:50: error: \u2018SGEMM_DEFAULT_Q\u2019 undeclared (first use in this function)\r\n     printf(\"#define SLOCAL_BUFFER_SIZE\\t%ld\\n\", (SGEMM_DEFAULT_Q * SGEMM_DEFAULT_UNROLL_N * 4 * 1 *  sizeof(float)));\r\n                                                  ^\r\ngetarch_2nd.c:70:50: error: \u2018DGEMM_DEFAULT_Q\u2019 undeclared (first use in this function)\r\n     printf(\"#define DLOCAL_BUFFER_SIZE\\t%ld\\n\", (DGEMM_DEFAULT_Q * DGEMM_DEFAULT_UNROLL_N * 2 * 1 *  sizeof(double)));\r\n                                                  ^\r\ngetarch_2nd.c:71:50: error: \u2018CGEMM_DEFAULT_Q\u2019 undeclared (first use in this function)\r\n     printf(\"#define CLOCAL_BUFFER_SIZE\\t%ld\\n\", (CGEMM_DEFAULT_Q * CGEMM_DEFAULT_UNROLL_N * 4 * 2 *  sizeof(float)));\r\n                                                  ^\r\ngetarch_2nd.c:72:50: error: \u2018ZGEMM_DEFAULT_Q\u2019 undeclared (first use in this function)\r\n     printf(\"#define ZLOCAL_BUFFER_SIZE\\t%ld\\n\", (ZGEMM_DEFAULT_Q * ZGEMM_DEFAULT_UNROLL_N * 2 * 2 *  sizeof(double)));\r\n                                                  ^\r\nmake: *** [getarch_2nd] Error 1\r\nMakefile:123: *** OpenBLAS: Detecting CPU failed. Please set TARGET explicitly, e.g. make TARGET=your_cpu_target. Please read README for the detail..  Stop.\r\n```",
    "performed_via_github_app": null
}