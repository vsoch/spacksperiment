{
    "url": "https://api.github.com/repos/spack/spack/issues/10852",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10852/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10852/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10852/events",
    "html_url": "https://github.com/spack/spack/issues/10852",
    "id": 419541958,
    "node_id": "MDU6SXNzdWU0MTk1NDE5NTg=",
    "number": 10852,
    "title": "Hash of package changes if order of patch hashes in list changes",
    "user": {
        "login": "gartung",
        "id": 4292184,
        "node_id": "MDQ6VXNlcjQyOTIxODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4292184?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gartung",
        "html_url": "https://github.com/gartung",
        "followers_url": "https://api.github.com/users/gartung/followers",
        "following_url": "https://api.github.com/users/gartung/following{/other_user}",
        "gists_url": "https://api.github.com/users/gartung/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gartung/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gartung/subscriptions",
        "organizations_url": "https://api.github.com/users/gartung/orgs",
        "repos_url": "https://api.github.com/users/gartung/repos",
        "events_url": "https://api.github.com/users/gartung/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gartung/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 9,
    "created_at": "2019-03-11T15:46:03Z",
    "updated_at": "2019-03-28T18:25:45Z",
    "closed_at": "2019-03-28T18:25:45Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "I generate a spec.yaml for boost with \r\n\r\nspack spec -y boost+graph+iostreams+filesystem+system+thread+program_options >boost1.yaml\r\n\r\nI clear all spack caches with\r\n\r\nspack clean -a\r\n\r\nI generated a spec.yaml for boost again with \r\n\r\nspack spec -y boost+graph+iostreams+filesystem+system+thread+program_options >boost2.yaml\r\n\r\n\r\nThe hashes of the two specs are different. Comparing them I determined the difference was the order of patch hashes stored in a list\r\n\r\n```\r\ndiff boost*.yaml\r\n58d57\r\n<     - 2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c6874d97c323199\r\n60a60\r\n>     - 2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c6874d97c323199\r\n72c72\r\n<     hash: go6d7dfnbtdnl2bv45naafq7h2x6ueje\r\n---\r\n>     hash: pqyhzermfudo5gosxm4ecu4ruubahaet\r\n\r\n\r\nspec:\t\t\t\t\t\t\t\tspec:\r\n- boost:\t\t\t\t\t\t\t- boost:\r\n    version: 1.69.0\t\t\t\t\t\t    version: 1.69.0\r\n    arch:\t\t\t\t\t\t\t    arch:\r\n      platform: linux\t\t\t\t\t\t      platform: linux\r\n      platform_os: scientific7\t\t\t\t\t      platform_os: scientific7\r\n      target: x86_64\t\t\t\t\t\t      target: x86_64\r\n    compiler:\t\t\t\t\t\t\t    compiler:\r\n      name: gcc\t\t\t\t\t\t\t      name: gcc\r\n      version: 4.8.5\t\t\t\t\t\t      version: 4.8.5\r\n    namespace: builtin\t\t\t\t\t\t    namespace: builtin\r\n    parameters:\t\t\t\t\t\t\t    parameters:\r\n      atomic: true\t\t\t\t\t\t      atomic: true\r\n      chrono: true\t\t\t\t\t\t      chrono: true\r\n      clanglibcpp: false\t\t\t\t\t      clanglibcpp: false\r\n      cxxstd: default\t\t\t\t\t\t      cxxstd: default\r\n      date_time: true\t\t\t\t\t\t      date_time: true\r\n      debug: false\t\t\t\t\t\t      debug: false\r\n      exception: true\t\t\t\t\t\t      exception: true\r\n      fiber: true\t\t\t\t\t\t      fiber: true\r\n      filesystem: true\t\t\t\t\t\t      filesystem: true\r\n      graph: true\t\t\t\t\t\t      graph: true\r\n      icu: false\t\t\t\t\t\t      icu: false\r\n      iostreams: true\t\t\t\t\t\t      iostreams: true\r\n      locale: true\t\t\t\t\t\t      locale: true\r\n      log: true\t\t\t\t\t\t\t      log: true\r\n      math: true\t\t\t\t\t\t      math: true\r\n      mpi: false\t\t\t\t\t\t      mpi: false\r\n      multithreaded: true\t\t\t\t\t      multithreaded: true\r\n      numpy: false\t\t\t\t\t\t      numpy: false\r\n      patches:\t\t\t\t\t\t\t      patches:\r\n      - 2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c687\t      - 2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c687\r\n      - 3a83d907043708218325c35ffc318fd6d6cfd78ba89a78f2c7001\t      - 3a83d907043708218325c35ffc318fd6d6cfd78ba89a78f2c7001\r\n      - 607b0772dec1287c9084ae3b36ee32bff945a2fe5e608823ed47a\t      - 607b0772dec1287c9084ae3b36ee32bff945a2fe5e608823ed47a\r\n      pic: false\t\t\t\t\t\t      pic: false\r\n      program_options: true\t\t\t\t\t      program_options: true\r\n      python: false\t\t\t\t\t\t      python: false\r\n      random: true\t\t\t\t\t\t      random: true\r\n      regex: true\t\t\t\t\t\t      regex: true\r\n      serialization: true\t\t\t\t\t      serialization: true\r\n      shared: true\t\t\t\t\t\t      shared: true\r\n      signals: true\t\t\t\t\t\t      signals: true\r\n      singlethreaded: false\t\t\t\t\t      singlethreaded: false\r\n      system: true\t\t\t\t\t\t      system: true\r\n      taggedlayout: false\t\t\t\t\t      taggedlayout: false\r\n      test: true\t\t\t\t\t\t      test: true\r\n      thread: true\t\t\t\t\t\t      thread: true\r\n      timer: true\t\t\t\t\t\t      timer: true\r\n      versionedlayout: false\t\t\t\t\t      versionedlayout: false\r\n      wave: true\t\t\t\t\t\t      wave: true\r\n      cflags: []\t\t\t\t\t\t      cflags: []\r\n      cppflags: []\t\t\t\t\t\t      cppflags: []\r\n      cxxflags: []\t\t\t\t\t\t      cxxflags: []\r\n      fflags: []\t\t\t\t\t\t      fflags: []\r\n      ldflags: []\t\t\t\t\t\t      ldflags: []\r\n      ldlibs: []\t\t\t\t\t\t      ldlibs: []\r\n    patches:\t\t\t\t\t\t\t    patches:\r\n    - 2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c6874d <\r\n    - 3a83d907043708218325c35ffc318fd6d6cfd78ba89a78f2c70013c\t    - 3a83d907043708218325c35ffc318fd6d6cfd78ba89a78f2c70013c\r\n    - 607b0772dec1287c9084ae3b36ee32bff945a2fe5e608823ed47a1e\t    - 607b0772dec1287c9084ae3b36ee32bff945a2fe5e608823ed47a1e\r\n\t\t\t\t\t\t\t      >\t    - 2ab6c72d03dec6a4ae20220a9dfd5c8c572c5294252155b85c6874d\r\n    dependencies:\t\t\t\t\t\t    dependencies:\r\n      bzip2:\t\t\t\t\t\t\t      bzip2:\r\n        hash: bahpjbtlwajqv6us2jfhrcgzynq5afod\t\t\t        hash: bahpjbtlwajqv6us2jfhrcgzynq5afod\r\n        type:\t\t\t\t\t\t\t        type:\r\n        - build\t\t\t\t\t\t\t        - build\r\n        - link\t\t\t\t\t\t\t        - link\r\n      zlib:\t\t\t\t\t\t\t      zlib:\r\n        hash: xnr7i4uunkorx7eg3a3ymdkendvaghkz\t\t\t        hash: xnr7i4uunkorx7eg3a3ymdkendvaghkz\r\n        type:\t\t\t\t\t\t\t        type:\r\n        - build\t\t\t\t\t\t\t        - build\r\n        - link\t\t\t\t\t\t\t        - link\r\n    hash: go6d7dfnbtdnl2bv45naafq7h2x6ueje\t\t      |\t    hash: pqyhzermfudo5gosxm4ecu4ruubahaet\r\n- bzip2:\t\t\t\t\t\t\t- bzip2:\r\n    version: 1.0.6\t\t\t\t\t\t    version: 1.0.6\r\n    arch:\t\t\t\t\t\t\t    arch:\r\n      platform: linux\t\t\t\t\t\t      platform: linux\r\n      platform_os: scientific7\t\t\t\t\t      platform_os: scientific7\r\n      target: x86_64\t\t\t\t\t\t      target: x86_64\r\n    compiler:\t\t\t\t\t\t\t    compiler:\r\n      name: gcc\t\t\t\t\t\t\t      name: gcc\r\n      version: 4.8.5\t\t\t\t\t\t      version: 4.8.5\r\n    namespace: builtin\t\t\t\t\t\t    namespace: builtin\r\n    parameters:\t\t\t\t\t\t\t    parameters:\r\n      shared: true\t\t\t\t\t\t      shared: true\r\n      cflags: []\t\t\t\t\t\t      cflags: []\r\n      cppflags: []\t\t\t\t\t\t      cppflags: []\r\n      cxxflags: []\t\t\t\t\t\t      cxxflags: []\r\n      fflags: []\t\t\t\t\t\t      fflags: []\r\n      ldflags: []\t\t\t\t\t\t      ldflags: []\r\n      ldlibs: []\t\t\t\t\t\t      ldlibs: []\r\n    hash: bahpjbtlwajqv6us2jfhrcgzynq5afod\t\t\t    hash: bahpjbtlwajqv6us2jfhrcgzynq5afod\r\n- zlib:\t\t\t\t\t\t\t\t- zlib:\r\n    version: 1.2.11\t\t\t\t\t\t    version: 1.2.11\r\n    arch:\t\t\t\t\t\t\t    arch:\r\n      platform: linux\t\t\t\t\t\t      platform: linux\r\n      platform_os: scientific7\t\t\t\t\t      platform_os: scientific7\r\n      target: x86_64\t\t\t\t\t\t      target: x86_64\r\n    compiler:\t\t\t\t\t\t\t    compiler:\r\n      name: gcc\t\t\t\t\t\t\t      name: gcc\r\n      version: 4.8.5\t\t\t\t\t\t      version: 4.8.5\r\n    namespace: builtin\t\t\t\t\t\t    namespace: builtin\r\n    parameters:\t\t\t\t\t\t\t    parameters:\r\n      optimize: true\t\t\t\t\t\t      optimize: true\r\n      pic: true\t\t\t\t\t\t\t      pic: true\r\n      shared: true\t\t\t\t\t\t      shared: true\r\n      cflags: []\t\t\t\t\t\t      cflags: []\r\n      cppflags: []\t\t\t\t\t\t      cppflags: []\r\n      cxxflags: []\t\t\t\t\t\t      cxxflags: []\r\n      fflags: []\t\t\t\t\t\t      fflags: []\r\n      ldflags: []\t\t\t\t\t\t      ldflags: []\r\n      ldlibs: []\t\t\t\t\t\t      ldlibs: []\r\n    hash: xnr7i4uunkorx7eg3a3ymdkendvaghkz\t\t\t    hash: xnr7i4uunkorx7eg3a3ymdkendvaghkz\r\n```",
    "performed_via_github_app": null
}