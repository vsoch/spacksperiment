{
    "url": "https://api.github.com/repos/spack/spack/issues/14127",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/14127/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/14127/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/14127/events",
    "html_url": "https://github.com/spack/spack/issues/14127",
    "id": 536877250,
    "node_id": "MDU6SXNzdWU1MzY4NzcyNTA=",
    "number": 14127,
    "title": "Installation issue: motif",
    "user": {
        "login": "awacha",
        "id": 90952,
        "node_id": "MDQ6VXNlcjkwOTUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/90952?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/awacha",
        "html_url": "https://github.com/awacha",
        "followers_url": "https://api.github.com/users/awacha/followers",
        "following_url": "https://api.github.com/users/awacha/following{/other_user}",
        "gists_url": "https://api.github.com/users/awacha/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/awacha/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/awacha/subscriptions",
        "organizations_url": "https://api.github.com/users/awacha/orgs",
        "repos_url": "https://api.github.com/users/awacha/repos",
        "events_url": "https://api.github.com/users/awacha/events{/privacy}",
        "received_events_url": "https://api.github.com/users/awacha/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-12-12T10:07:34Z",
    "updated_at": "2019-12-17T10:14:55Z",
    "closed_at": "2019-12-17T10:14:55Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install motif\r\n==> Installing motif\r\n==> Searching for binary cache of motif\r\n==> No binary for motif found: installing from source\r\n==> Fetching http://cfhcable.dl.sourceforge.net/project/motif/Motif%202.3.8%20Source%20Code/motif-2.3.8.tar.gz\r\n####################################################################################################################################################### 100.0%\r\n==> Staging archive: /tmp/wachaandras/spack-stage/spack-stage-motif-2.3.8-clmaarptnlzvhxbdg6tvwfzb6mos7nox/motif-2.3.8.tar.gz\r\n==> Created stage in /tmp/wachaandras/spack-stage/spack-stage-motif-2.3.8-clmaarptnlzvhxbdg6tvwfzb6mos7nox\r\n==> No patches needed for motif\r\n==> Building motif [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n1 error found in build log:\r\n     1755          |                ^~\r\n     1756    ColorS.c:1298:3: note: 'snprintf' output between 44 and 16426 bytes into a destination of size 8192\r\n     1757     1298 |   snprintf(string_buffer, BUFSIZ,\r\n     1758          |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     1759     1299 |     XmNcolorNameTooLongMsg, buf, color_name);\r\n     1760          |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  >> 1761    I18List.c:38:10: fatal error: X11/bitmaps/gray: No such file or directory\r\n     1762       38 | #include <X11/bitmaps/gray>\r\n     1763          |          ^~~~~~~~~~~~~~~~~~\r\n     1764    compilation terminated.\r\n     1765    make[3]: *** [Makefile:1061: I18List.lo] Error 1\r\n     1766    make[3]: *** Waiting for unfinished jobs....\r\n     1767    libtool: compile:  /opt/spack/lib/spack/env/gcc/gcc -DHAVE_CONFIG_H -I. -I../../include -I.. -I./.. -DXMBINDDIR_FALLBACK=\\\"/opt/spack/opt/spack/\r\n             linux-arch-zen/gcc-9.2.0/motif-2.3.8-clmaarptnlzvhxbdg6tvwfzb6mos7nox/lib/X11/bindings\\\" -DINCDIR=\\\"/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.\r\n             0/motif-2.3.8-clmaarptnlzvhxbdg6tvwfzb6mos7nox/include/X11\\\" -DLIBDIR=\\\"/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/motif-2.3.8-clmaarptnlzvhx\r\n             bdg6tvwfzb6mos7nox/lib/X11\\\" -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/fontconfig-2.12.3-b5s7uwjz5glikatctqsqtfss7vhs432q/include -I/opt/s\r\n             pack/opt/spack/linux-arch-zen/gcc-9.2.0/freetype-2.10.1-kjshzy6qb3w6hdf5yoqndrywjawyzrd3/include/freetype2 -I/opt/spack/opt/spack/linux-arch-zen\r\n             /gcc-9.2.0/zlib-1.2.11-tm2wzv7tuml62pi6fxl2glmmit6rmewg/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libpng-1.6.37-vpewyafevafijycerb\r\n             7kxf7oxdnsow2t/include/libpng16 -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libxml2-2.9.9-q6hix4636cl2dlrn6iwjzzljzqo4n3a4/include/libxml2 -\r\n             I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libiconv-1.16-s2dauekgujdsicrqwfki6enqs7sgdb6t/include -g -O2 -Wall -g -fno-strict-aliasing -Wno-\r\n             unused -Wno-comment -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libxft-2.3.2-2bp2lusux5qqvanb2noadjtspi2ez46t/include -I/opt/spack/opt/spack\r\n             /linux-arch-zen/gcc-9.2.0/xproto-7.0.31-ur7spdfogixmnxeywohiacgjrvtlhsx6/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libxrender-0.9.\r\n             10-kmqb4vny5674aljwmc6zwqosybexe54w/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/renderproto-0.11.1-umtdck2nexs5vtk5g7uyb6yawxxeoh6f/\r\n             include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libx11-1.6.7-psflbicy732wvmdrlvqylj3tmivuagcv/include -I/opt/spack/opt/spack/linux-arch-\r\n             zen/gcc-9.2.0/kbproto-1.0.7-sok7qrfewtmyzjpo6jd74mxvzqnobs5g/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libxcb-1.13-ndm5kmf7ogcgn53\r\n             tv24wy7ewft7y6zuz/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libxau-1.0.8-iu2wu727jl7bblv44ca5ned66nduwkhi/include -I/opt/spack/opt\r\n             /spack/linux-arch-zen/gcc-9.2.0/libxdmcp-1.1.2-mqq56p7hkvmllna6ilnbj3hpx3jwn76v/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/fontconf\r\n             ig-2.12.3-b5s7uwjz5glikatctqsqtfss7vhs432q/include -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/freetype-2.10.1-kjshzy6qb3w6hdf5yoqndrywjawyz\r\n             rd3/include/freetype2 -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/zlib-1.2.11-tm2wzv7tuml62pi6fxl2glmmit6rmewg/include -I/opt/spack/opt/spac\r\n             k/linux-arch-zen/gcc-9.2.0/libpng-1.6.37-vpewyafevafijycerb7kxf7oxdnsow2t/include/libpng16 -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libxm\r\n             l2-2.9.9-q6hix4636cl2dlrn6iwjzzljzqo4n3a4/include/libxml2 -I/opt/spack/opt/spack/linux-arch-zen/gcc-9.2.0/libiconv-1.16-s2dauekgujdsicrqwfki6enq\r\n             s7sgdb6t/include -MT ButtonBox.lo -MD -MP -MF .deps/ButtonBox.Tpo -c ButtonBox.c -o ButtonBox.o >/dev/null 2>&1\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```commandline\r\n$ uname -a \r\nLinux guinier.guinier 5.3.11-arch1-1 #1 SMP PREEMPT Tue, 12 Nov 2019 22:19:48 +0000 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:\tArch Linux\r\n``` \r\n\r\n### Additional information\r\n\r\nI think I have found the problem: the upstream package quietly assumes that the missing include file ('X11/bitmaps/gray') is in the same directory as all the other X11 headers, therefore the autoconf/automake-produced `configure` script does not have provisions to look for them in different folders. In Spack, the package `xbitmaps` exists, but the files will be installed in a different prefix and won't be picked up by the compiler.\r\n\r\nI have made a patch to correct for this  #14128 \r\n",
    "performed_via_github_app": null
}