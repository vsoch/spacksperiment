{
    "url": "https://api.github.com/repos/spack/spack/issues/1969",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/1969/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/1969/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/1969/events",
    "html_url": "https://github.com/spack/spack/issues/1969",
    "id": 181777006,
    "node_id": "MDU6SXNzdWUxODE3NzcwMDY=",
    "number": 1969,
    "title": "Cray: spack commands takes long time",
    "user": {
        "login": "pramodk",
        "id": 666852,
        "node_id": "MDQ6VXNlcjY2Njg1Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/666852?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pramodk",
        "html_url": "https://github.com/pramodk",
        "followers_url": "https://api.github.com/users/pramodk/followers",
        "following_url": "https://api.github.com/users/pramodk/following{/other_user}",
        "gists_url": "https://api.github.com/users/pramodk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pramodk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pramodk/subscriptions",
        "organizations_url": "https://api.github.com/users/pramodk/orgs",
        "repos_url": "https://api.github.com/users/pramodk/repos",
        "events_url": "https://api.github.com/users/pramodk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pramodk/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2016-10-07T22:02:42Z",
    "updated_at": "2016-10-08T19:19:40Z",
    "closed_at": "2016-10-08T19:19:39Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "This looks like more machine specific where I am trying this: when I try on daint cray machine:\n\n``` bash\n./spack/bin/spack -p compilers\n==> Available compilers\n^C\n==> Error: Keyboard interrupt.\n         3112 function calls (3054 primitive calls) in 821.306 CPU seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n       13  821.297   63.177  821.297   63.177 {select.select}\n       15    0.002    0.000    0.002    0.000 {posix.read}\n        2    0.001    0.000    0.001    0.000 {posix.fork}\n      103    0.001    0.000    0.001    0.000 {posix.stat}\n        6    0.001    0.000    0.001    0.000 {__import__}\n        1    0.000    0.000    0.000    0.000 cray.py:1(<module>)\n        2    0.000    0.000    0.003    0.002 subprocess.py:1017(_execute_child)\n    16/10    0.000    0.000    0.000    0.000 sre_parse.py:385(_parse)\n        2    0.000    0.000  821.297  410.648 subprocess.py:1187(_communicate)\n       86    0.000    0.000    0.001    0.000 genericpath.py:26(isfile)\n     21/7    0.000    0.000    0.000    0.000 sre_compile.py:38(_compile)\n        2    0.000    0.000    0.001    0.000 executable.py:210(which)\n        1    0.000    0.000  821.306  821.306 spack:143(main)\n      103    0.000    0.000    0.000    0.000 posixpath.py:59(join)\n        1    0.000    0.000    0.000    0.000 darwin.py:1(<module>)\n      106    0.000    0.000    0.000    0.000 sre_parse.py:188(__next)\n       74    0.000    0.000    0.001    0.000 re.py:229(_compile)\n    18/10    0.000    0.000    0.000    0.000 sre_parse.py:146(getwidth)\n        2    0.000    0.000  821.301  410.650 executable.py:55(__call__)\n        1    0.000    0.000    0.000    0.000 linux_distro.py:1(<module>)\n        5    0.000    0.000    0.000    0.000 sre_compile.py:213(_optimize_charset)\n        1    0.000    0.000  821.303  821.303 cray.py:31(__init__)\n      371    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}\n        1    0.000    0.000    0.000    0.000 bgq.py:1(<module>)\n        2    0.000    0.000    0.004    0.002 subprocess.py:563(__init__)\n        7    0.000    0.000    0.000    0.000 sre_compile.py:367(_compile_info)\n      9/7    0.000    0.000    0.001    0.000 sre_parse.py:307(_parse_sub)\n       12    0.000    0.000    0.000    0.000 {built-in method sub}\n        1    0.000    0.000    0.000    0.000 cnl.py:1(<module>)\n       76    0.000    0.000    0.000    0.000 sre_parse.py:136(__getitem__)\n  119/118    0.000    0.000    0.000    0.000 {isinstance}\n    42/21    0.000    0.000    0.000    0.000 naming.py:189(is_prefix)\n        1    0.000    0.000    0.000    0.000 linux.py:1(<module>)\n        6    0.000    0.000    0.000    0.000 lang.py:199(list_modules)\n        4    0.000    0.000    0.000    0.000 {posix.fdopen}\n        1    0.000    0.000    0.000    0.000 {posix.listdir}\n        1    0.000    0.000  821.306  821.306 <string>:1(<module>)\n       21    0.000    0.000    0.000    0.000 repository.py:261(find_module)\n        1    0.000    0.000    0.001    0.001 cray.py:18(_fill_craype_targets_from_modules)\n        7    0.000    0.000    0.001    0.000 sre_compile.py:501(compile)\n        3    0.000    0.000    0.000    0.000 {method 'write' of 'file' objects}\n       52    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}\n  382/377    0.000    0.000    0.000    0.000 {len}\n       87    0.000    0.000    0.000    0.000 sre_parse.py:207(get)\n       98    0.000    0.000    0.000    0.000 {method 'get' of 'dict' objects}\n        1    0.000    0.000    0.002    0.002 architecture.py:493(all_platforms)\n       63    0.000    0.000    0.000    0.000 sre_parse.py:144(append)\n        1    0.000    0.000    0.024    0.024 cray.py:121(_avail_targets)\n        1    0.000    0.000  821.278  821.278 cray.py:94(_default_target_from_env)\n        7    0.000    0.000    0.001    0.000 sre_parse.py:669(parse)\n       32    0.000    0.000    0.000    0.000 {built-in method findall}\n        7    0.000    0.000    0.001    0.000 sre_compile.py:486(_code)\n        2    0.000    0.000    0.000    0.000 config.py:388(get_config)\n        2    0.000    0.000    0.000    0.000 color.py:120(__call__)\n       32    0.000    0.000    0.001    0.000 re.py:169(findall)\n        1    0.000    0.000    0.000    0.000 cray.py:12(_get_modules_in_modulecmd_output)\n        2    0.000    0.000    0.000    0.000 ordereddict_backport.py:31(__init__)\n      103    0.000    0.000    0.000    0.000 {method 'startswith' of 'str' objects}\n        8    0.000    0.000    0.000    0.000 {posix.close}\n        6    0.000    0.000    0.000    0.000 {posix.pipe}\n        2    0.000    0.000    0.000    0.000 color.py:149(colorize)\n        1    0.000    0.000    0.000    0.000 test.py:25(<module>)\n        1    0.000    0.000    0.000    0.000 mac_os.py:1(<module>)\n       10    0.000    0.000    0.000    0.000 {method 'join' of 'str' objects}\n      114    0.000    0.000    0.000    0.000 {method 'endswith' of 'str' objects}\n       20    0.000    0.000    0.000    0.000 {built-in method search}\n       20    0.000    0.000    0.000    0.000 re.py:139(search)\n        2    0.000    0.000  821.297  410.648 subprocess.py:664(communicate)\n        5    0.000    0.000    0.000    0.000 sre_parse.py:263(_escape)\n        3    0.000    0.000    0.002    0.001 subprocess.py:452(_eintr_retry_call)\n        6    0.000    0.000    0.000    0.000 genericpath.py:15(exists)\n        5    0.000    0.000    0.000    0.000 naming.py:51(mod_to_class)\n        4    0.000    0.000    0.000    0.000 {fcntl.fcntl}\n        5    0.000    0.000    0.000    0.000 sre_compile.py:184(_compile_charset)\n        6    0.000    0.000    0.000    0.000 config.py:240(get_section_filename)\n       13    0.000    0.000    0.000    0.000 {method 'fileno' of 'file' objects}\n       12    0.000    0.000    0.000    0.000 re.py:144(sub)\n       11    0.000    0.000    0.000    0.000 genericpath.py:38(isdir)\n        6    0.000    0.000    0.000    0.000 config.py:307(_read_config_file)\n        1    0.000    0.000    0.000    0.000 __init__.py:64(info)\n        3    0.000    0.000    0.000    0.000 ordereddict_backport.py:123(values)\n        1    0.000    0.000    0.000    0.000 __init__.py:95(error)\n       21    0.000    0.000    0.000    0.000 sre_parse.py:96(__init__)\n        2    0.000    0.000    0.000    0.000 color.py:169(cwrite)\n        6    0.000    0.000    0.000    0.000 config.py:244(get_section)\n       10    0.000    0.000    0.000    0.000 re.py:134(match)\n        2    0.000    0.000    0.000    0.000 {posix.waitpid}\n        1    0.000    0.000    0.000    0.000 yaml_version_check.py:38(check_compiler_yaml_version)\n        1    0.000    0.000  821.305  821.305 architecture.py:514(platform)\n       21    0.000    0.000    0.000    0.000 {method 'rpartition' of 'str' objects}\n       37    0.000    0.000    0.000    0.000 {method 'replace' of 'str' objects}\n        1    0.000    0.000    0.000    0.000 yaml_version_check.py:26(<module>)\n        7    0.000    0.000    0.000    0.000 sre_parse.py:184(__init__)\n        2    0.000    0.000    0.000    0.000 {method 'close' of 'file' objects}\n        2    0.000    0.000    0.000    0.000 subprocess.py:1002(_set_cloexec_flag)\n       14    0.000    0.000    0.000    0.000 sre_compile.py:480(isstring)\n      2/1    0.000    0.000  821.305  821.305 lang.py:181(__call__)\n       34    0.000    0.000    0.000    0.000 {min}\n       13    0.000    0.000    0.000    0.000 architecture.py:148(add_target)\n        5    0.000    0.000    0.000    0.000 UserDict.py:57(get)\n        2    0.000    0.000    0.000    0.000 subprocess.py:653(__del__)\n       12    0.000    0.000    0.000    0.000 ordereddict_backport.py:66(__iter__)\n        1    0.000    0.000    0.000    0.000 {method 'splitlines' of 'str' objects}\n       14    0.000    0.000    0.000    0.000 executable.py:151(<lambda>)\n        2    0.000    0.000    0.000    0.000 ordereddict_backport.py:145(update)\n       10    0.000    0.000    0.000    0.000 string.py:56(<genexpr>)\n        1    0.000    0.000    0.000    0.000 __init__.py:107(die)\n       10    0.000    0.000    0.000    0.000 {built-in method match}\n       15    0.000    0.000    0.000    0.000 lang.py:216(<genexpr>)\n        2    0.000    0.000    0.000    0.000 {method 'isatty' of 'file' objects}\n        5    0.000    0.000    0.000    0.000 string.py:45(capwords)\n        7    0.000    0.000    0.000    0.000 {_sre.compile}\n       35    0.000    0.000    0.000    0.000 sre_parse.py:201(match)\n        1    0.000    0.000  821.305  821.305 __init__.py:309(all_os_classes)\n        1    0.000    0.000  821.305  821.305 compiler.py:144(compiler_list)\n       13    0.000    0.000    0.000    0.000 stat.py:24(S_IFMT)\n        1    0.000    0.000    0.000    0.000 subprocess.py:1178(wait)\n        1    0.000    0.000    0.000    0.000 abc.py:145(__subclasscheck__)\n       14    0.000    0.000    0.000    0.000 {getattr}\n        2    0.000    0.000    0.000    0.000 executable.py:41(__init__)\n        7    0.000    0.000    0.000    0.000 sre_parse.py:73(__init__)\n       36    0.000    0.000    0.000    0.000 {method 'extend' of 'list' objects}\n       11    0.000    0.000    0.000    0.000 stat.py:40(S_ISDIR)\n        2    0.000    0.000    0.000    0.000 abc.py:125(__instancecheck__)\n        2    0.000    0.000    0.000    0.000 subprocess.py:1158(_internal_poll)\n        2    0.000    0.000    0.000    0.000 subprocess.py:957(_get_handles)\n        5    0.000    0.000    0.000    0.000 inspect.py:59(isclass)\n        1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}\n        2    0.000    0.000    0.000    0.000 {posix.access}\n        2    0.000    0.000    0.000    0.000 color.py:186(cescape)\n        5    0.000    0.000    0.000    0.000 naming.py:111(valid_module_name)\n        6    0.000    0.000    0.000    0.000 executable.py:122(streamify)\n       42    0.000    0.000    0.000    0.000 {method 'partition' of 'str' objects}\n        5    0.000    0.000    0.000    0.000 {any}\n        1    0.000    0.000    0.000    0.000 __init__.py:69(get_module)\n        4    0.000    0.000    0.000    0.000 color.py:113(escape)\n        2    0.000    0.000    0.000    0.000 stat.py:49(S_ISREG)\n        2    0.000    0.000    0.000    0.000 {map}\n        5    0.000    0.000    0.000    0.000 UserDict.py:17(__getitem__)\n        5    0.000    0.000    0.000    0.000 UserDict.py:69(__contains__)\n        1    0.000    0.000    0.000    0.000 _abcoll.py:39(__subclasshook__)\n        1    0.000    0.000    0.000    0.000 __init__.py:58(msg)\n        5    0.000    0.000    0.000    0.000 naming.py:121(validate_module_name)\n       15    0.000    0.000    0.000    0.000 {hasattr}\n        8    0.000    0.000    0.000    0.000 config.py:161(validate_section_name)\n        3    0.000    0.000    0.000    0.000 sre_compile.py:360(_simple)\n        2    0.000    0.000    0.000    0.000 {gc.enable}\n       20    0.000    0.000    0.000    0.000 sre_parse.py:132(__len__)\n       13    0.000    0.000    0.000    0.000 architecture.py:111(__init__)\n        1    0.000    0.000    0.000    0.000 {method 'format' of 'str' objects}\n        1    0.000    0.000  821.305  821.305 compilers.py:36(compilers)\n        9    0.000    0.000    0.000    0.000 sre_compile.py:24(_identityfunction)\n       50    0.000    0.000    0.000    0.000 {ord}\n        1    0.000    0.000    0.000    0.000 subprocess.py:1144(_handle_exitstatus)\n        1    0.000    0.000  821.305  821.305 __init__.py:151(all_compilers_config)\n        2    0.000    0.000    0.000    0.000 color.py:181(cprint)\n       12    0.000    0.000    0.000    0.000 {method 'pop' of 'dict' objects}\n        1    0.000    0.000  821.305  821.305 __init__.py:80(init_compiler_config)\n        1    0.000    0.000    0.000    0.000 __init__.py:87(get_command)\n        2    0.000    0.000    0.000    0.000 {method 'count' of 'list' objects}\n        1    0.000    0.000  821.305  821.305 __init__.py:183(find_compilers)\n        2    0.000    0.000    0.000    0.000 executable.py:48(add_default_arg)\n        1    0.000    0.000  821.305  821.305 __init__.py:77(get_compiler_config)\n        2    0.000    0.000    0.000    0.000 lang.py:157(attr_setdefault)\n        2    0.000    0.000    0.000    0.000 color.py:110(__init__)\n        1    0.000    0.000    0.000    0.000 bgq.py:5(Bgq)\n        1    0.000    0.000    0.000    0.000 cray.py:28(Cray)\n        1    0.000    0.000  821.305  821.305 __init__.py:165(all_compilers)\n.....\n```\n\nSeems like more i/o / filesystem issue  ?\n\nOn TITAN it works fine. Is there any faster way? Otherwise I will create compiler config file manually.\n",
    "performed_via_github_app": null
}