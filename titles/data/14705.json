{
    "url": "https://api.github.com/repos/spack/spack/issues/14705",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/14705/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/14705/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/14705/events",
    "html_url": "https://github.com/spack/spack/pull/14705",
    "id": 558242807,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzY5NjcwMTc3",
    "number": 14705,
    "title": "feature: package install metrics",
    "user": {
        "login": "carsonwoods",
        "id": 11012397,
        "node_id": "MDQ6VXNlcjExMDEyMzk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11012397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/carsonwoods",
        "html_url": "https://github.com/carsonwoods",
        "followers_url": "https://api.github.com/users/carsonwoods/followers",
        "following_url": "https://api.github.com/users/carsonwoods/following{/other_user}",
        "gists_url": "https://api.github.com/users/carsonwoods/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/carsonwoods/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/carsonwoods/subscriptions",
        "organizations_url": "https://api.github.com/users/carsonwoods/orgs",
        "repos_url": "https://api.github.com/users/carsonwoods/repos",
        "events_url": "https://api.github.com/users/carsonwoods/events{/privacy}",
        "received_events_url": "https://api.github.com/users/carsonwoods/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908756,
            "node_id": "MDU6TGFiZWw3MzkwODc1Ng==",
            "url": "https://api.github.com/repos/spack/spack/labels/feature",
            "name": "feature",
            "color": "84b6eb",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-01-31T16:45:19Z",
    "updated_at": "2020-09-03T20:16:35Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/14705",
        "html_url": "https://github.com/spack/spack/pull/14705",
        "diff_url": "https://github.com/spack/spack/pull/14705.diff",
        "patch_url": "https://github.com/spack/spack/pull/14705.patch"
    },
    "body": "After #11871 is merged, a centralized, multi-user instance of Spack could more easily be used to build software environments on large scale, multi-user systems. Since selecting the most frequently needed software to include in shared environments can be tedious and time consuming, this PR adds optional, package install metrics collecting through syslog. \r\n\r\nWhen enabled, Spack logs the spec of each package any user installs. These metrics are written to syslog. An example of what is logged is:\r\n```\r\nspack_metrics - INFO - SPACK_INSTALL: zlib@1.2.11%clang@11.0.0-apple+optimize+pic+shared arch=darwin-catalina-x86_64\r\n```\r\n\r\nThis can expedite the process of identifying which software many users on a system are relying upon. By default metrics are disabled, since Spack is most frequently used by a single user per instance. \r\n\r\nSome changes need to be made before this feature is done:\r\n- [x] Add spack command for toggling metrics\r\n- [x] Allow users to specify ip/port or file path to write logs to in addition to default syslog location\r\n- [ ] Add Spack command for setting custom log address \r\n- [ ] Add Unit Tests for enabling/disabling metrics and setting custom logging address\r\n- [ ] Add documentation page for how the metrics feature can be configured \r\n\r\n\r\nIf anyone has any suggestions for changes or additional metrics that could be logged please provide feedback. ",
    "performed_via_github_app": null
}