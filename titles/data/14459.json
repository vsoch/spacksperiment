{
    "url": "https://api.github.com/repos/spack/spack/issues/14459",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/14459/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/14459/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/14459/events",
    "html_url": "https://github.com/spack/spack/issues/14459",
    "id": 548150433,
    "node_id": "MDU6SXNzdWU1NDgxNTA0MzM=",
    "number": 14459,
    "title": "Question/RFE: Where to control compiler options",
    "user": {
        "login": "mkiernan",
        "id": 24193619,
        "node_id": "MDQ6VXNlcjI0MTkzNjE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/24193619?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mkiernan",
        "html_url": "https://github.com/mkiernan",
        "followers_url": "https://api.github.com/users/mkiernan/followers",
        "following_url": "https://api.github.com/users/mkiernan/following{/other_user}",
        "gists_url": "https://api.github.com/users/mkiernan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mkiernan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mkiernan/subscriptions",
        "organizations_url": "https://api.github.com/users/mkiernan/orgs",
        "repos_url": "https://api.github.com/users/mkiernan/repos",
        "events_url": "https://api.github.com/users/mkiernan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mkiernan/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-01-10T15:45:07Z",
    "updated_at": "2020-01-10T15:54:29Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I would like to be able to specify compiler flags on a per package basis depending on the underlying architecture. \r\n\r\nFor example, I want to turn on avx512 for a particular package like quantum-espresso if I'm building on skylake, but I don't want that option if I'm building on zen, and I don't want the underlying QE dependencies to use avx512 either. \r\n\r\nI can do that on the \"spack install\" command line, but it's tedious/verbose to do do this for many packages. Ideally there would be a way to specify this in the packages.yaml file like you can with (conditional) variants. \r\n\r\nApologies in advance if I'm missing something but I can't see a way to achieve this as a generalization other than setting global options via the \"flags\" in compiler.yaml. Is there any existing way to encode this in the configuration to set default flags conditionally per package other than explicitly on the install command line ?\r\n\r\nIf the functionality doesn't exist, may I log this as an RFE please ?\r\n\r\n",
    "performed_via_github_app": null
}