{
    "url": "https://api.github.com/repos/spack/spack/issues/5309",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/5309/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/5309/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/5309/events",
    "html_url": "https://github.com/spack/spack/issues/5309",
    "id": 256338104,
    "node_id": "MDU6SXNzdWUyNTYzMzgxMDQ=",
    "number": 5309,
    "title": "inconsistencies in dependent info",
    "user": {
        "login": "markcmiller86",
        "id": 5720676,
        "node_id": "MDQ6VXNlcjU3MjA2NzY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5720676?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/markcmiller86",
        "html_url": "https://github.com/markcmiller86",
        "followers_url": "https://api.github.com/users/markcmiller86/followers",
        "following_url": "https://api.github.com/users/markcmiller86/following{/other_user}",
        "gists_url": "https://api.github.com/users/markcmiller86/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/markcmiller86/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/markcmiller86/subscriptions",
        "organizations_url": "https://api.github.com/users/markcmiller86/orgs",
        "repos_url": "https://api.github.com/users/markcmiller86/repos",
        "events_url": "https://api.github.com/users/markcmiller86/events{/privacy}",
        "received_events_url": "https://api.github.com/users/markcmiller86/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2017-09-08T18:39:41Z",
    "updated_at": "2017-09-08T19:06:47Z",
    "closed_at": "2017-09-08T19:04:44Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I am trying to figure out how many packages in Spack use HDF5 directly (e.g. call HDF5) and how many use HDF5 indirectly (call some package that calls other packages that eventually call HDF5). \r\n\r\nSome basic sanity checkes don't seem to add up...\r\n\r\n```\r\n[scratlantis:~/spack/spack] miller86% find var/spack/repos/builtin/packages -name package.py -exec sh -c 'grep -H \"^[^#]*depends_on(\" {} | grep -m 1 -i hdf5' \\; | wc -l\r\n      64\r\n[scratlantis:~/spack/spack] miller86% spack dependents hdf5 | xargs -n 1 | wc -l\r\n      61\r\n```\r\n\r\nWhen I examine the difference in the two approaches, above, I see that these 3 packages were not included by the `spack depdendents` command...\r\n  - hdf5\r\n  - nalu\r\n  - xsdk\r\n\r\nFirst, should the package itself be listed by `spack dependents`?\r\n\r\nNext, `spack graph` does show `hdf5` for xsdk but not for nalu. But, nalu's `depends_on` declaration is quite complex\r\n\r\n```\r\n[scratlantis:~/spack/spack] miller86% spack graph xsdk\r\no  xsdk\r\n|\\\r\n| |\\\r\n| | |\\\r\n| | | |\\\r\n| | | | |\\\r\n| | | | | o  alquimia\r\n.\r\n.\r\n.\r\n| | | | | | o | | | | |  matio\r\n| | |/| |_|/ / / / /\r\n| | | |/| | | | | | \r\n| | | | | o | | | |  hdf5\r\n| |_|_|_|/| | | | | \r\n|/| | |_|/ / / / /\r\n| | |/| | | | | | \r\n| | o | | | | | |  openmpi\r\n| | o | | | | | |  hwloc\r\n| | |\\ \\ \\ \\ \\ \\ \\\r\n| | | o | | | | | |  libxml2\r\n| |_|/| | | | | | | \r\n|/| |/| | | | | | | \r\n| | | | | | o | | |  boost\r\n.\r\n.\r\n.\r\no |  m4\r\no |  libsigsegv\r\n /\r\no  bzip2\r\n```\r\n",
    "performed_via_github_app": null
}