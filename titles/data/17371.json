{
    "url": "https://api.github.com/repos/spack/spack/issues/17371",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/17371/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/17371/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/17371/events",
    "html_url": "https://github.com/spack/spack/issues/17371",
    "id": 650606417,
    "node_id": "MDU6SXNzdWU2NTA2MDY0MTc=",
    "number": 17371,
    "title": "Installation issue: intel-mpi",
    "user": {
        "login": "yellowhat",
        "id": 1692490,
        "node_id": "MDQ6VXNlcjE2OTI0OTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1692490?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yellowhat",
        "html_url": "https://github.com/yellowhat",
        "followers_url": "https://api.github.com/users/yellowhat/followers",
        "following_url": "https://api.github.com/users/yellowhat/following{/other_user}",
        "gists_url": "https://api.github.com/users/yellowhat/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yellowhat/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yellowhat/subscriptions",
        "organizations_url": "https://api.github.com/users/yellowhat/orgs",
        "repos_url": "https://api.github.com/users/yellowhat/repos",
        "events_url": "https://api.github.com/users/yellowhat/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yellowhat/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "adamjstewart",
        "id": 12021217,
        "node_id": "MDQ6VXNlcjEyMDIxMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adamjstewart",
        "html_url": "https://github.com/adamjstewart",
        "followers_url": "https://api.github.com/users/adamjstewart/followers",
        "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
        "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
        "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
        "repos_url": "https://api.github.com/users/adamjstewart/repos",
        "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "adamjstewart",
            "id": 12021217,
            "node_id": "MDQ6VXNlcjEyMDIxMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/12021217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adamjstewart",
            "html_url": "https://github.com/adamjstewart",
            "followers_url": "https://api.github.com/users/adamjstewart/followers",
            "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}",
            "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions",
            "organizations_url": "https://api.github.com/users/adamjstewart/orgs",
            "repos_url": "https://api.github.com/users/adamjstewart/repos",
            "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adamjstewart/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-07-03T13:43:05Z",
    "updated_at": "2020-07-05T16:09:25Z",
    "closed_at": "2020-07-05T16:09:25Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "```console\r\n$ git clone https://github.com/spack/spack.git\r\n\r\n$ cat > spack/etc/spack/defaults/compilers.yaml <<EOF\r\ncompilers:\r\n- compiler:\r\n    spec: gcc@9.3.0\r\n    target: x86_64\r\n    operating_system: centos7\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    modules: []\r\n    paths:\r\n      cc:  /apps/gcc-9.3.0/bin/gcc\r\n      cxx: /apps/gcc-9.3.0/bin/g++\r\n      f77: /apps/gcc-9.3.0/bin/gfortran\r\n      fc:  /apps/gcc-9.3.0/bin/gfortran\r\nEOF\r\n\r\n$ cat >> spack/etc/spack/defaults/packages.yaml <<EOF\r\n\r\n  openmpi:\r\n    paths:\r\n      openmpi @4.0.3 %gcc@9.3.0: /usr/mpi/gcc/openmpi-4.0.3rc4/\r\n    buildable: False\r\nEOF\r\n\r\n$ TMPDIR=/dev/shm spack -d install intel-mpi\r\n==> [2020-07-03-13:37:36.099079, 6394] Imported install from built-in commands\r\n==> [2020-07-03-13:37:36.101744, 6394] Reading config file /apps/spack/etc/spack/defaults/config.yaml\r\n==> [2020-07-03-13:37:36.131232, 6394] Imported install from built-in commands\r\n==> [2020-07-03-13:37:36.135654, 6394] Reading config file /apps/spack/etc/spack/defaults/repos.yaml\r\n==> [2020-07-03-13:37:38.890414, 6394] Reading config file /apps/spack/etc/spack/defaults/packages.yaml\r\n==> [2020-07-03-13:37:38.930520, 6394] Reading config file /apps/spack/etc/spack/defaults/compilers.yaml\r\n==> [2020-07-03-13:37:38.987470, 6394] DATABASE LOCK TIMEOUT: 3s\r\n==> [2020-07-03-13:37:38.987572, 6394] PACKAGE LOCK TIMEOUT: No timeout\r\n==> [2020-07-03-13:37:38.988066, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:38.993313, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:38.997189, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:38.997151]\r\n==> [2020-07-03-13:37:38.997935, 6394] WRITE LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:38.998004, 6394] write locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:38.999900, 6394] WRITE LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:38.999868]\r\n==> [2020-07-03-13:37:39.026345, 6394] WRITE LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.026439, 6394] write locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.030964, 6394] WRITE LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.030928]\r\n==> [2020-07-03-13:37:39.047240, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.049446, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.049415]\r\n==> [2020-07-03-13:37:39.053387, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.055709, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.059191, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.059158]\r\n==> [2020-07-03-13:37:39.059913, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.062580, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.062551]\r\n==> [2020-07-03-13:37:39.062645, 6394] Initializing the build queue for intel-mpi\r\n==> [2020-07-03-13:37:39.063512, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Acquiring]\r\n==> [2020-07-03-13:37:39.067173, 6394] read locking [3642785708049608380:1]: timeout None sec\r\n==> [2020-07-03-13:37:39.069702, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Acquired at 13:37:39.069670]\r\n==> [2020-07-03-13:37:39.069782, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Releasing]\r\n==> [2020-07-03-13:37:39.071190, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Released at 13:37:39.071161]\r\n==> [2020-07-03-13:37:39.071271, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.072533, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.074059, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.074027]\r\n==> [2020-07-03-13:37:39.074561, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.075424, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.075395]\r\n==> [2020-07-03-13:37:39.075511, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.076826, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.079288, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.079257]\r\n==> [2020-07-03-13:37:39.079755, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.082560, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.082531]\r\n==> [2020-07-03-13:37:39.092608, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Acquiring]\r\n==> [2020-07-03-13:37:39.094405, 6394] read locking [3642785708049608380:1]: timeout None sec\r\n==> [2020-07-03-13:37:39.095409, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Acquired at 13:37:39.095372]\r\n==> [2020-07-03-13:37:39.095476, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Releasing]\r\n==> [2020-07-03-13:37:39.099343, 6394] READ LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Released at 13:37:39.099313]\r\n==> [2020-07-03-13:37:39.099450, 6394] Acquiring a write lock on intel-mpi with timeout 1e-09\r\n==> [2020-07-03-13:37:39.099900, 6394] WRITE LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_lock[3642785708049608380:1] [Acquiring]\r\n==> [2020-07-03-13:37:39.110035, 6394] write locking [3642785708049608380:1]: timeout 1e-09 sec\r\n==> [2020-07-03-13:37:39.111650, 6394] WRITE LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_lock[3642785708049608380:1] [Acquired at 13:37:39.111618]\r\n==> [2020-07-03-13:37:39.111789, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.113330, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.115886, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.115854]\r\n==> [2020-07-03-13:37:39.116317, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.119456, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.119427]\r\n==> [2020-07-03-13:37:39.119531, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.120768, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.123909, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.123877]\r\n==> [2020-07-03-13:37:39.124352, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.127431, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.127402]\r\n==> [2020-07-03-13:37:39.131930, 6394] Creating stage lock spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez\r\n==> [2020-07-03-13:37:39.132403, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.133768, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.135485, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.135452]\r\n==> [2020-07-03-13:37:39.135986, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.139695, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.139666]\r\n==> [2020-07-03-13:37:39.140021, 6394] 6394: Installing intel-mpi\r\n==> [2020-07-03-13:37:39.140082, 6394] Searching for binary cache of intel-mpi\r\n==> [2020-07-03-13:37:39.141298, 6394] No Spack mirrors are currently configured\r\n==> [2020-07-03-13:37:39.141873, 6394] No binary for intel-mpi found: installing from source\r\n==> [2020-07-03-13:37:39.142000, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:37:39.143262, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:37:39.144671, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:37:39.144639]\r\n==> [2020-07-03-13:37:39.145189, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:37:39.147786, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:37:39.147757]\r\n==> [2020-07-03-13:37:39.487202, 6399] [TOOLCHAIN] MATCH Gcc\r\n==> [2020-07-03-13:37:39.508643, 6399] A dependency has updated CPATH, this may lead pkg-config to assume that the package is part of the system includes and omit it when invoked with '--cflags'.\r\n==> [2020-07-03-13:37:39.569388, 6399] '/apps/gcc-9.3.0/bin/g++' '-v' '/dev/shm/spack-implicit-link-infoqyeclna9/main.c' '-o' '/dev/shm/spack-implicit-link-infoqyeclna9/output'\r\n==> [2020-07-03-13:37:39.860003, 6399] parsing implicit link info\r\n==> [2020-07-03-13:37:39.860435, 6399] linker line:  /apps/gcc-9.3.0/libexec/gcc/x86_64-pc-linux-gnu/9.3.0/collect2 -plugin /apps/gcc-9.3.0/libexec/gcc/x86_64-pc-linux-gnu/9.3.0/liblto_plugin.so -plugin-opt=/apps/gcc-9.3.0/libexec/gcc/x86_64-pc-linux-gnu/9.3.0/lto-wrapper -plugin-opt=-fresolution=/dev/shm/ccBoCISp.res -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lgcc --eh-frame-hdr -m elf_x86_64 -dynamic-linker /lib64/ld-linux-x86-64.so.2 -o /dev/shm/spack-implicit-link-infoqyeclna9/output /lib/../lib64/crt1.o /lib/../lib64/crti.o /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/crtbegin.o -L/apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0 -L/apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../../../lib64 -L/lib/../lib64 -L/usr/lib/../lib64 -L/apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../.. /dev/shm/ccL9JBNT.o -lstdc++ -lm -lgcc_s -lgcc -lc -lgcc_s -lgcc /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/crtend.o /lib/../lib64/crtn.o\r\n==> [2020-07-03-13:37:39.860554, 6399] linkdir: /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0\r\n==> [2020-07-03-13:37:39.860609, 6399] linkdir: /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../../../lib64\r\n==> [2020-07-03-13:37:39.860657, 6399] linkdir: /lib/../lib64\r\n==> [2020-07-03-13:37:39.860702, 6399] linkdir: /usr/lib/../lib64\r\n==> [2020-07-03-13:37:39.860786, 6399] linkdir: /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../..\r\n==> [2020-07-03-13:37:39.860852, 6399] found raw link dirs: /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0, /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../../../lib64, /lib/../lib64, /usr/lib/../lib64, /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0/../../..\r\n==> [2020-07-03-13:37:39.860999, 6399] found link dirs: /apps/gcc-9.3.0/lib/gcc/x86_64-pc-linux-gnu/9.3.0, /apps/gcc-9.3.0/lib64, /lib64, /usr/lib64, /apps/gcc-9.3.0/lib\r\n==> [2020-07-03-13:37:39.869395, 6399] Fetching http://registrationcenter-download.intel.com/akdlm/irc_nas/tec/16546/l_mpi_2019.7.217.tgz\r\n==> [2020-07-03-13:37:39.872663, 6399] '/usr/bin/curl' '-C' '-' '-o' '/dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/l_mpi_2019.7.217.tgz.part' '-f' '-D' '-' '-L' 'http://registrationcenter-download.intel.com/akdlm/irc_nas/tec/16546/l_mpi_2019.7.217.tgz' '-#' '--connect-timeout' '10'\r\n######################################################################## 100.0%\r\n==> [2020-07-03-13:37:45.229085, 6399] Staging archive: /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/l_mpi_2019.7.217.tgz\r\n==> [2020-07-03-13:37:45.234214, 6399] '/usr/bin/tar' '-xf' '/dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/l_mpi_2019.7.217.tgz'\r\n==> [2020-07-03-13:37:47.119125, 6399] Created stage in /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez\r\n==> [2020-07-03-13:37:47.119898, 6399] No patches needed for intel-mpi\r\n==> [2020-07-03-13:37:47.120038, 6399] 6394: intel-mpi: Building intel-mpi [IntelPackage]\r\n==> [2020-07-03-13:37:47.120407, 6399] WRITE LOCK (spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez): /dev/shm/vasco/spack-stage/.lock[7160311475289934657:1] [Acquiring]\r\n==> [2020-07-03-13:37:47.120957, 6399] write locking [7160311475289934657:1]: timeout 60 sec\r\n==> [2020-07-03-13:37:47.121132, 6399] WRITE LOCK (spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez): /dev/shm/vasco/spack-stage/.lock[7160311475289934657:1] [Acquired at 13:37:47.121095]\r\n==> [2020-07-03-13:37:47.167810, 6399] 6394: intel-mpi: Executing phase: 'configure'\r\n==> [2020-07-03-13:37:47.169432, 6399] 6394: intel-mpi: Executing phase: 'install'\r\n==> [2020-07-03-13:39:32.285456, 6399] FileNotFoundError: [Errno 2] No such file or directory: '/apps/spack/opt/spack/linux-centos7-zen/gcc-9.3.0/intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/.spack/repos'\r\n==> [2020-07-03-13:39:32.286351, 6399] Installing /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/spack-build-out.txt to /apps/spack/opt/spack/linux-centos7-zen/gcc-9.3.0/intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/.spack/spack-build-out.txt\r\n==> [2020-07-03-13:39:32.294817, 6399] Installing /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/spack-build-env.txt to /apps/spack/opt/spack/linux-centos7-zen/gcc-9.3.0/intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/.spack/spack-build-env.txt\r\n==> [2020-07-03-13:39:32.346534, 6399] Installing /apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py to /apps/spack/opt/spack/linux-centos7-zen/gcc-9.3.0/intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/.spack/repos/builtin/packages/intel-mpi\r\n==> [2020-07-03-13:39:32.355151, 6399] Reading config file /apps/spack/etc/spack/defaults/modules.yaml\r\n==> [2020-07-03-13:39:32.375904, 6399] Reading config file /apps/spack/etc/spack/defaults/linux/modules.yaml\r\n==> [2020-07-03-13:39:32.383436, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:39:32.385306, 6399] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:39:32.387438, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:39:32.387399]\r\n==> [2020-07-03-13:39:32.388411, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:39:32.388905, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:39:32.388875]\r\n==> [2020-07-03-13:39:32.389013, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:39:32.390184, 6399] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:39:32.391848, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:39:32.391816]\r\n==> [2020-07-03-13:39:32.392335, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:39:32.395978, 6399] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:39:32.395948]\r\n==> [2020-07-03-13:39:32.400063, 6399]  WRITE: intel-mpi@2019.7.217%gcc@9.3.0 arch=linux-centos7-zen/munyzgr [/apps/spack/share/spack/modules/linux-centos7-zen/intel-mpi-2019.7.217-gcc-9.3.0-munyzgr]\r\n==> [2020-07-03-13:39:32.714220, 6399] WRITE LOCK (spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez): /dev/shm/vasco/spack-stage/.lock[7160311475289934657:1] [Releasing]\r\n==> [2020-07-03-13:39:32.714404, 6399] WRITE LOCK (spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez): /dev/shm/vasco/spack-stage/.lock[7160311475289934657:1] [Released at 13:39:32.714376]\r\n==> [2020-07-03-13:39:32.727227, 6394] Error: NameError: name 'IntelMPI' is not defined\r\n\r\n/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py:68, in setup_run_environment:\r\n         67    def setup_run_environment(self, env):\r\n  >>     68        super(IntelMPI, self).setup_run_environment(env)\r\n         69\r\n         70        for name, value in self.mpi_compiler.wrappers.items():\r\n         71            env.set(name, value)\r\n\r\nSee build log for details:\r\n  /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/spack-build-out.txt\r\n\r\nTraceback (most recent call last):\r\n  File \"/apps/spack/lib/spack/spack/build_environment.py\", line 838, in child_process\r\n    return_value = function()\r\n  File \"/apps/spack/lib/spack/spack/installer.py\", line 1146, in build_process\r\n    spack.hooks.post_install(pkg.spec)\r\n  File \"/apps/spack/lib/spack/spack/hooks/__init__.py\", line 59, in __call__\r\n    hook(*args, **kwargs)\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 30, in post_install\r\n    _for_each_enabled(spec, 'write')\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 22, in _for_each_enabled\r\n    getattr(generator, method_name)()\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 822, in write\r\n    context = self.context.to_dict()\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in to_dict\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in <listcomp>\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 676, in environment_modifications\r\n    self.spec.package.setup_run_environment(env)\r\n  File \"/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py\", line 69, in setup_run_environment\r\nNameError: name 'IntelMPI' is not defined\r\n==> [2020-07-03-13:39:32.727709, 6394] Error: Failed to install intel-mpi due to ChildError: NameError: name 'IntelMPI' is not defined\r\n/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py:68, in setup_run_environment:\r\n         67    def setup_run_environment(self, env):\r\n  >>     68        super(IntelMPI, self).setup_run_environment(env)\r\n         69\r\n         70        for name, value in self.mpi_compiler.wrappers.items():\r\n         71            env.set(name, value)\r\n\r\nSee build log for details:\r\n  /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/apps/spack/lib/spack/spack/build_environment.py\", line 838, in child_process\r\n    return_value = function()\r\n  File \"/apps/spack/lib/spack/spack/installer.py\", line 1146, in build_process\r\n    spack.hooks.post_install(pkg.spec)\r\n  File \"/apps/spack/lib/spack/spack/hooks/__init__.py\", line 59, in __call__\r\n    hook(*args, **kwargs)\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 30, in post_install\r\n    _for_each_enabled(spec, 'write')\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 22, in _for_each_enabled\r\n    getattr(generator, method_name)()\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 822, in write\r\n    context = self.context.to_dict()\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in to_dict\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in <listcomp>\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 676, in environment_modifications\r\n    self.spec.package.setup_run_environment(env)\r\n  File \"/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py\", line 69, in setup_run_environment\r\nNameError: name 'IntelMPI' is not defined\r\n\r\n==> [2020-07-03-13:39:32.727890, 6394] Flagging intel-mpi as failed: NameError: name 'IntelMPI' is not defined\r\n/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py:68, in setup_run_environment:\r\n         67    def setup_run_environment(self, env):\r\n  >>     68        super(IntelMPI, self).setup_run_environment(env)\r\n         69\r\n         70        for name, value in self.mpi_compiler.wrappers.items():\r\n         71            env.set(name, value)\r\n\r\nSee build log for details:\r\n  /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/apps/spack/lib/spack/spack/build_environment.py\", line 838, in child_process\r\n    return_value = function()\r\n  File \"/apps/spack/lib/spack/spack/installer.py\", line 1146, in build_process\r\n    spack.hooks.post_install(pkg.spec)\r\n  File \"/apps/spack/lib/spack/spack/hooks/__init__.py\", line 59, in __call__\r\n    hook(*args, **kwargs)\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 30, in post_install\r\n    _for_each_enabled(spec, 'write')\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 22, in _for_each_enabled\r\n    getattr(generator, method_name)()\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 822, in write\r\n    context = self.context.to_dict()\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in to_dict\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in <listcomp>\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 676, in environment_modifications\r\n    self.spec.package.setup_run_environment(env)\r\n  File \"/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py\", line 69, in setup_run_environment\r\nNameError: name 'IntelMPI' is not defined\r\n\r\n==> [2020-07-03-13:39:32.733435, 6394] WRITE LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Acquiring]\r\n==> [2020-07-03-13:39:32.739336, 6394] write locking [3642785708049608380:1]: timeout None sec\r\n==> [2020-07-03-13:39:32.741810, 6394] WRITE LOCK (intel-mpi): /apps/spack/opt/spack/.spack-db/prefix_failures[3642785708049608380:1] [Acquired at 13:39:32.741777]\r\n==> [2020-07-03-13:39:32.741958, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquiring]\r\n==> [2020-07-03-13:39:32.743159, 6394] read locking [0:0]: timeout 3 sec\r\n==> [2020-07-03-13:39:32.743876, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Acquired at 13:39:32.743845]\r\n==> [2020-07-03-13:39:32.744368, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Releasing]\r\n==> [2020-07-03-13:39:32.745896, 6394] READ LOCK (database): /apps/spack/opt/spack/.spack-db/lock[0:0] [Released at 13:39:32.745867]\r\n==> [2020-07-03-13:39:35.157560, 6394] ChildError: NameError: name 'IntelMPI' is not defined\r\n/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py:68, in setup_run_environment:\r\n         67    def setup_run_environment(self, env):\r\n  >>     68        super(IntelMPI, self).setup_run_environment(env)\r\n         69\r\n         70        for name, value in self.mpi_compiler.wrappers.items():\r\n         71            env.set(name, value)\r\n\r\nSee build log for details:\r\n  /dev/shm/vasco/spack-stage/spack-stage-intel-mpi-2019.7.217-munyzgrskvoxsx2jnjodrb3uo73fnqez/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/apps/spack/lib/spack/spack/build_environment.py\", line 838, in child_process\r\n    return_value = function()\r\n  File \"/apps/spack/lib/spack/spack/installer.py\", line 1146, in build_process\r\n    spack.hooks.post_install(pkg.spec)\r\n  File \"/apps/spack/lib/spack/spack/hooks/__init__.py\", line 59, in __call__\r\n    hook(*args, **kwargs)\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 30, in post_install\r\n    _for_each_enabled(spec, 'write')\r\n  File \"/apps/spack/lib/spack/spack/hooks/module_file_generation.py\", line 22, in _for_each_enabled\r\n    getattr(generator, method_name)()\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 822, in write\r\n    context = self.context.to_dict()\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in to_dict\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/tengine.py\", line 63, in <listcomp>\r\n    d = [(name, getattr(self, name)) for name in self.context_properties]\r\n  File \"/apps/spack/lib/spack/spack/modules/common.py\", line 676, in environment_modifications\r\n    self.spec.package.setup_run_environment(env)\r\n  File \"/apps/spack/var/spack/repos/builtin/packages/intel-mpi/package.py\", line 69, in setup_run_environment\r\nNameError: name 'IntelMPI' is not defined\r\n```\r\n\r\nMaybe releated to https://github.com/spack/spack/pull/17248?\r\n\r\nThanks\r\n",
    "performed_via_github_app": null
}