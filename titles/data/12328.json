{
    "url": "https://api.github.com/repos/spack/spack/issues/12328",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/12328/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/12328/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/12328/events",
    "html_url": "https://github.com/spack/spack/pull/12328",
    "id": 478547145,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzA1NjM2MjQ2",
    "number": 12328,
    "title": "Fix build for moab 4.9.2 on gcc8",
    "user": {
        "login": "sethrj",
        "id": 741229,
        "node_id": "MDQ6VXNlcjc0MTIyOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/741229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sethrj",
        "html_url": "https://github.com/sethrj",
        "followers_url": "https://api.github.com/users/sethrj/followers",
        "following_url": "https://api.github.com/users/sethrj/following{/other_user}",
        "gists_url": "https://api.github.com/users/sethrj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sethrj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sethrj/subscriptions",
        "organizations_url": "https://api.github.com/users/sethrj/orgs",
        "repos_url": "https://api.github.com/users/sethrj/repos",
        "events_url": "https://api.github.com/users/sethrj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sethrj/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        },
        {
            "id": 729584669,
            "node_id": "MDU6TGFiZWw3Mjk1ODQ2Njk=",
            "url": "https://api.github.com/repos/spack/spack/labels/update-package",
            "name": "update-package",
            "color": "c68137",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2019-08-08T15:37:42Z",
    "updated_at": "2019-08-10T16:11:49Z",
    "closed_at": "2019-08-10T16:08:13Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/12328",
        "html_url": "https://github.com/spack/spack/pull/12328",
        "diff_url": "https://github.com/spack/spack/pull/12328.diff",
        "patch_url": "https://github.com/spack/spack/pull/12328.patch"
    },
    "body": "Our code currently relies on an older version of Moab which has errors that cause it to fail compilation on GCC 8. This patches MOAB to allow it to compile.\r\n\r\n```\r\n5 errors found in build log:\r\n     609      CXX      mbpart.o\r\n     610      CXX      quality.o\r\n     611      CXX      umr.o\r\n     612      CXX      merge.o\r\n     613      CXX      parread.o\r\n     614    mbpart.cpp: In function 'int main(int, char**)':\r\n  >> 615    mbpart.cpp:494:19: error: no match for 'operator<<' (operand types\r\n            are 'std::ostream' {aka 'std::basic_ostream<char>'} and 'std::ostri\r\n            ngstream' {aka 'std::__cxx11::basic_ostringstream<char>'})\r\n     616             std::cerr << tmp_output_file << \" : failed to write file.\"\r\n             << std::endl;\r\n     617             ~~~~~~~~~~^~~~~~~~~~~~~~~~~~\r\n     618    mbpart.cpp:494:19: note: candidate: 'operator<<(int, int)' <built-i\r\n            n>\r\n     619    mbpart.cpp:494:19: note:   no known conversion for argument 2 from\r\n            'std::ostringstream' {aka 'std::__cxx11::basic_ostringstream<char>'\r\n            } to 'int'\r\n     620    In file included from /software/user_tools/centos-7.2.1511/cades-ns\r\n            ed-spack/opt/spack/linux-centos7-x86_64/gcc-4.8.5/gcc-8.2.0-uc6sbum\r\n            ioobdbkw4rwfyn2givi4nyvwq/include/c++/8.2.0/iterator:64,\r\n     621                     from /software/user_tools/centos-7.2.1511/cades-ns\r\n            ed-spack/var/spack/stage/moab-4.9.2-77uuzmj4ofb7z7vz6m25sftyks7p5do\r\n            7/spack-src/src/moab/Range.hpp:167,\r\n\r\n     ...\r\n\r\n     886    /software/user_tools/centos-7.2.1511/cades-nsed-spack/opt/spack/lin\r\n            ux-centos7-x86_64/gcc-4.8.5/gcc-8.2.0-uc6sbumioobdbkw4rwfyn2givi4ny\r\n            vwq/include/c++/8.2.0/ostream:682:5: note: candidate: 'template<cla\r\n            ss _Ostream, class _Tp> typename std::enable_if<std::__and_<std::__\r\n            not_<std::is_lvalue_reference<_Tp> >, std::__is_convertible_to_basi\r\n            c_ostream<_Ostream>, std::__is_insertable<typename std::__is_conver\r\n            tible_to_basic_ostream<_Tp>::__ostream_type, const _Tp&, void> >::v\r\n            alue, typename std::__is_convertible_to_basic_ostream<_Tp>::__ostre\r\n            am_type>::type std::operator<<(_Ostream&&, const _Tp&)'\r\n     887         operator<<(_Ostream&& __os, const _Tp& __x)\r\n     888         ^~~~~~~~\r\n     889    /software/user_tools/centos-7.2.1511/cades-nsed-spack/opt/spack/lin\r\n            ux-centos7-x86_64/gcc-4.8.5/gcc-8.2.0-uc6sbumioobdbkw4rwfyn2givi4ny\r\n            vwq/include/c++/8.2.0/ostream:682:5: note:   template argument dedu\r\n            ction/substitution failed:\r\n     890    /software/user_tools/centos-7.2.1511/cades-nsed-spack/opt/spack/lin\r\n            ux-centos7-x86_64/gcc-4.8.5/gcc-8.2.0-uc6sbumioobdbkw4rwfyn2givi4ny\r\n            vwq/include/c++/8.2.0/ostream: In substitution of 'template<class _\r\n            Ostream, class _Tp> typename std::enable_if<std::__and_<std::__not_\r\n            <std::is_lvalue_reference<_Tp> >, std::__is_convertible_to_basic_os\r\n            tream<_Ostream>, std::__is_insertable<typename std::__is_convertibl\r\n            e_to_basic_ostream<_Tp>::__ostream_type, const _Tp&, void> >::value\r\n            , typename std::__is_convertible_to_basic_ostream<_Tp>::__ostream_t\r\n            ype>::type std::operator<<(_Ostream&&, const _Tp&) [with _Ostream =\r\n             std::basic_ostream<char>&; _Tp = std::__cxx11::basic_ostringstream\r\n            <char>]':\r\n     891    mbpart.cpp:494:22:   required from here\r\n  >> 892    /software/user_tools/centos-7.2.1511/cades-nsed-spack/opt/spack/lin\r\n            ux-centos7-x86_64/gcc-4.8.5/gcc-8.2.0-uc6sbumioobdbkw4rwfyn2givi4ny\r\n            vwq/include/c++/8.2.0/ostream:682:5: error: no type named 'type' in\r\n             'struct std::enable_if<false, std::basic_ostream<char>&>'\r\n     893      CXXLD    mbdepth\r\n     894      CXXLD    hexmodops\r\n  >> 895    make[2]: *** [mbpart.o] Error 1\r\n     896    make[2]: *** Waiting for unfinished jobs....\r\n     897    make[2]: Leaving directory `/localscratch/tmp/s3j-spack/spack-stage\r\n            /spack-stage-NT13kT/spack-src/tools'\r\n  >> 898    make[1]: *** [all-recursive] Error 1\r\n     899    make[1]: Leaving directory `/localscratch/tmp/s3j-spack/spack-stage\r\n            /spack-stage-NT13kT/spack-src/tools'\r\n  >> 900    make: *** [all-recursive] Error 1\r\n```",
    "performed_via_github_app": null
}