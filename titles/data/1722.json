{
    "url": "https://api.github.com/repos/spack/spack/issues/1722",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/1722/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/1722/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/1722/events",
    "html_url": "https://github.com/spack/spack/issues/1722",
    "id": 174872962,
    "node_id": "MDU6SXNzdWUxNzQ4NzI5NjI=",
    "number": 1722,
    "title": "Report on Running QA Stuff",
    "user": {
        "login": "citibeth",
        "id": 1924215,
        "node_id": "MDQ6VXNlcjE5MjQyMTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1924215?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/citibeth",
        "html_url": "https://github.com/citibeth",
        "followers_url": "https://api.github.com/users/citibeth/followers",
        "following_url": "https://api.github.com/users/citibeth/following{/other_user}",
        "gists_url": "https://api.github.com/users/citibeth/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/citibeth/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/citibeth/subscriptions",
        "organizations_url": "https://api.github.com/users/citibeth/orgs",
        "repos_url": "https://api.github.com/users/citibeth/repos",
        "events_url": "https://api.github.com/users/citibeth/events{/privacy}",
        "received_events_url": "https://api.github.com/users/citibeth/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 73908754,
            "node_id": "MDU6TGFiZWw3MzkwODc1NA==",
            "url": "https://api.github.com/repos/spack/spack/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 17,
    "created_at": "2016-09-03T01:45:15Z",
    "updated_at": "2016-10-05T22:31:31Z",
    "closed_at": "2016-10-05T22:31:31Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "@adamjstewart The new separation of unit, doc and flake8 tests is really nice.  Here's my report on trying to run them, I think another round of improvements is probably needed.\n## **flake8**\n\nWorked like a charm:\n\n```\nspack install py-flake8\nspack load py-flake8\ncd spack/lib/spack/docs\nflake8 my-file.py\n```\n\nBTW: I would consider just naming the package flake8, not py-flake8.  Because it's (sort of) a top-level app, the fact that it's implemented in Python is not so important.  Admittedly, this is a grey area.\n\nflake8 reports line numbers but no context.  That makes it really hard to follow and correct its errors off of Travis.  You really need to install flake8 yourself.  Luckily, installing it myself worked.\n## **Unit tests**\n\nI tried running unit tests as I always have before (go to the directory, run it with nosetest or python), and that failed miserably.  I see now, there's a qa script.\n\nBut that script is not useful for my needs.  To be useful in rapid debugging, we need a way to run a SINGLE unit test, even a SINGLE test case within a single unit test.  We also need a way to run a SINGLE directory of unit tests, plus all unit tests.  Nosetest gives this  out of the box, but that functionality has now been obscured by a single run-all-the-tests script.\n\nUltimately, I copied out the one unit test I needed to a different directory, put an 'if **main**' at the end, hacked my PYTHONPATH to point to Spack, and ran it with python.  Hack, hack, hack.  This needs to be set up better so I can run single (or a selection of) tests without those kinds of hacks.\n## **sphinx**\n\nI could not get Sphinx working.  See console log:\n\n```\nvpn-128-154-224-57:docs me$ spack find py-sphinx\n==> 1 installed packages.\n-- darwin-elcapitan-x86_64 / clang@7.3.0-apple ------------------\npy-sphinx@1.3.1\nvpn-128-154-224-57:docs me$ spack load py-sphinx\nvpn-128-154-224-57:docs me$ make\nsphinx-apidoc -T -o . ../../spack/spack\nTraceback (most recent call last):\n  File \"/Users/me/spack/opt/spack/darwin-elcapitan-x86_64/clang-7.3.0-apple/py-sphinx-1.3.1-t4j2snyy2fwja5rknsbbp6mkf5norpbs/bin/sphinx-apidoc\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py\", line 2793, in <module>\n    working_set.require(__requires__)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py\", line 673, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py\", line 576, in resolve\n    raise DistributionNotFound(req)\npkg_resources.DistributionNotFound: Sphinx==1.3.1\nmake: *** [apidoc] Error 1\n```\n",
    "performed_via_github_app": null
}