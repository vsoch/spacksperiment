{
    "url": "https://api.github.com/repos/spack/spack/issues/9992",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/9992/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/9992/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/9992/events",
    "html_url": "https://github.com/spack/spack/issues/9992",
    "id": 386439008,
    "node_id": "MDU6SXNzdWUzODY0MzkwMDg=",
    "number": 9992,
    "title": "Installation issue: py-pygobject",
    "user": {
        "login": "jwezel",
        "id": 2018220,
        "node_id": "MDQ6VXNlcjIwMTgyMjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2018220?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jwezel",
        "html_url": "https://github.com/jwezel",
        "followers_url": "https://api.github.com/users/jwezel/followers",
        "following_url": "https://api.github.com/users/jwezel/following{/other_user}",
        "gists_url": "https://api.github.com/users/jwezel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jwezel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jwezel/subscriptions",
        "organizations_url": "https://api.github.com/users/jwezel/orgs",
        "repos_url": "https://api.github.com/users/jwezel/repos",
        "events_url": "https://api.github.com/users/jwezel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jwezel/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-12-01T08:50:03Z",
    "updated_at": "2019-08-02T20:18:04Z",
    "closed_at": "2019-08-02T20:18:04Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\nComment: building for Python 3.7. Also, cairo with X is required\r\n\r\n```console\r\n$ spack install py-pygobject ^cairo+X^python@3.7.0\r\n5 errors found in build log:\r\n     198                     ^\r\n     199    gi/pygspawn.c:195:21: warning: assignment discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]\r\n     200                 envp[i] = PYGLIB_PyUnicode_AsString(tmp);\r\n     201                         ^\r\n     202    /opt/spack/lib/spack/env/gcc/gcc -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -fPIC -DHAVE_CONFIG_H -DPY_SSIZE_T_CLEAN -I/tmp/root/spack-stage/spack-stage-litit77f/pygobject-3.28.3 -I/tmp/root/spack-stage/spack-stage-litit77f/pygobje\r\n            ct-3.28.3/gi -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/pcre-8.42-qjzaysisuwjkct4san2tghocvl37qykr/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/include/glib-2.0 -I/opt/spack/opt/spack/l\r\n            inux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/lib/glib-2.0/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/pcre-8.42-qjzaysisuwjkct4san2tghocvl37qykr/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/gli\r\n            b-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/include/glib-2.0 -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/lib/glib-2.0/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/pcre-8.42-qjzaysisuwjkct4\r\n            san2tghocvl37qykr/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/include/glib-2.0 -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/lib/glib-2.0/incl\r\n            ude -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/libffi-3.2.1-yfdfl2vobpvgeutisf4igcpbl3sqyyli/lib/libffi-3.2.1/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/gobject-introspection-1.49.2-7h4quqdgf24wp5bu5jbpntoqyojr23zh/include/gobje\r\n            ct-introspection-1.0 -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/libffi-3.2.1-yfdfl2vobpvgeutisf4igcpbl3sqyyli/lib/libffi-3.2.1/include -I/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/python-3.7.0-7uvmmlxp64xrkopbcuxgtflnduwgzk6z/include/pyth\r\n            on3.7m -c gi/pygi-error.c -o build/temp.linux-x86_64-3.7/gi/pygi-error.o\r\n     203    /usr/x86_64-pc-linux-gnu/gcc-bin/6.4.0/gcc -pthread -shared -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/bzip2-1.0.6-7soh6zu722bfpjrxuo3n3b6t5szpbcub/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/ncurses-6.1-22r652evcoe7qzh64jdl2zxumezm5\r\n            ekv/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/zlib-1.2.11-zx4eejxjybr4waejv6sxezktvlw332ni/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/sqlite-3.25.3-5nmaoy4g43a425tcti5r4ovhpbavwgzr/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_6\r\n            4/gcc-6.4.0/openssl-1.1.1-6lvwudl46qq2gzgkchjdscq3gqhvzjka/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/libffi-3.2.1-yfdfl2vobpvgeutisf4igcpbl3sqyyli/lib64 -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/readline-7.0-a4kn2z32mfha3334jqaimm\r\n            rcpetqfmic/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/gdbm-1.18.1-xn57v7wxeoz7i3blkte7wyyknct44ace/lib build/temp.linux-x86_64-3.7/gi/pygi-struct-marshal.o build/temp.linux-x86_64-3.7/gi/pygboxed.o build/temp.linux-x86_64-3.7/gi/pygi-type.o bu\r\n            ild/temp.linux-x86_64-3.7/gi/pygi-resulttuple.o build/temp.linux-x86_64-3.7/gi/pygi-value.o build/temp.linux-x86_64-3.7/gi/pygobject-object.o build/temp.linux-x86_64-3.7/gi/pygoptioncontext.o build/temp.linux-x86_64-3.7/gi/pygi-hashtable.o build/temp.linux-x\r\n            86_64-3.7/gi/pygi-enum-marshal.o build/temp.linux-x86_64-3.7/gi/pygflags.o build/temp.linux-x86_64-3.7/gi/pygtype.o build/temp.linux-x86_64-3.7/gi/gimodule.o build/temp.linux-x86_64-3.7/gi/pygoptiongroup.o build/temp.linux-x86_64-3.7/gi/pygi-util.o build/tem\r\n            p.linux-x86_64-3.7/gi/pygi-ccallback.o build/temp.linux-x86_64-3.7/gi/pygi-boxed.o build/temp.linux-x86_64-3.7/gi/pygi-struct.o build/temp.linux-x86_64-3.7/gi/pygi-argument.o build/temp.linux-x86_64-3.7/gi/gobjectmodule.o build/temp.linux-x86_64-3.7/gi/pygi-\r\n            info.o build/temp.linux-x86_64-3.7/gi/pyglib.o build/temp.linux-x86_64-3.7/gi/pygi-foreign.o build/temp.linux-x86_64-3.7/gi/pygi-cache.o build/temp.linux-x86_64-3.7/gi/pygi-property.o build/temp.linux-x86_64-3.7/gi/pygi-invoke.o build/temp.linux-x86_64-3.7/g\r\n            i/pygi-array.o build/temp.linux-x86_64-3.7/gi/pygparamspec.o build/temp.linux-x86_64-3.7/gi/pygpointer.o build/temp.linux-x86_64-3.7/gi/pygi-basictype.o build/temp.linux-x86_64-3.7/gi/pygi-source.o build/temp.linux-x86_64-3.7/gi/pygi-closure.o build/temp.lin\r\n            ux-x86_64-3.7/gi/pygi-list.o build/temp.linux-x86_64-3.7/gi/pyginterface.o build/temp.linux-x86_64-3.7/gi/pygi-object.o build/temp.linux-x86_64-3.7/gi/pygi-signal-closure.o build/temp.linux-x86_64-3.7/gi/pygi-repository.o build/temp.linux-x86_64-3.7/gi/pygen\r\n            um.o build/temp.linux-x86_64-3.7/gi/pygi-marshal-cleanup.o build/temp.linux-x86_64-3.7/gi/pygspawn.o build/temp.linux-x86_64-3.7/gi/pygi-error.o -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/lib -L/opt/spa\r\n            ck/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/glib-2.56.3-3t6c3e2qvdgyqub3qhf5yjasd7y5phky/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/gobject-\r\n            introspection-1.49.2-7h4quqdgf24wp5bu5jbpntoqyojr23zh/lib -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/libffi-3.2.1-yfdfl2vobpvgeutisf4igcpbl3sqyyli/lib/../lib64 -L/opt/spack/opt/spack/linux-gentoo2-x86_64/gcc-6.4.0/python-3.7.0-7uvmmlxp64xrkopbcuxg\r\n            tflnduwgzk6z/lib -lglib-2.0 -lintl -lgio-2.0 -lgobject-2.0 -lglib-2.0 -lintl -lgirepository-1.0 -lgobject-2.0 -lglib-2.0 -lintl -lffi -lpython3.7m -o build/lib.linux-x86_64-3.7/gi/_gi.cpython-37m-x86_64-linux-gnu.so\r\n  >> 204    /usr/lib/gcc/x86_64-pc-linux-gnu/6.4.0/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lintl\r\n  >> 205    /usr/lib/gcc/x86_64-pc-linux-gnu/6.4.0/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lintl\r\n  >> 206    /usr/lib/gcc/x86_64-pc-linux-gnu/6.4.0/../../../../x86_64-pc-linux-gnu/bin/ld: cannot find -lintl\r\n  >> 207    collect2: error: ld returned 1 exit status\r\n  >> 208    error: command '/usr/x86_64-pc-linux-gnu/gcc-bin/6.4.0/gcc' failed with exit status 1\r\n```\r\n\r\n### Platform and user environment\r\n\r\n```commandline\r\n$ uname -a \r\nLinux beluga 4.15.7-gentoo-r1 #4 SMP Wed Oct 10 18:26:17 CEST 2018 x86_64 Intel(R) Core(TM) i7-6950X CPU @ 3.00GHz GenuineIntel GNU/Linux\r\nx86_64 GNU/Linux\r\n```\r\n[spack-build.out.txt](https://github.com/spack/spack/files/2635733/spack-build.out.txt)\r\n\r\n[spack-build.env.txt](https://github.com/spack/spack/files/2635737/spack-build.env.txt)\r\n",
    "performed_via_github_app": null
}