{
    "url": "https://api.github.com/repos/spack/spack/issues/16196",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16196/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16196/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16196/events",
    "html_url": "https://github.com/spack/spack/issues/16196",
    "id": 603630085,
    "node_id": "MDU6SXNzdWU2MDM2MzAwODU=",
    "number": 16196,
    "title": "Installation issue: blast-plus",
    "user": {
        "login": "darmac",
        "id": 29532367,
        "node_id": "MDQ6VXNlcjI5NTMyMzY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/29532367?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darmac",
        "html_url": "https://github.com/darmac",
        "followers_url": "https://api.github.com/users/darmac/followers",
        "following_url": "https://api.github.com/users/darmac/following{/other_user}",
        "gists_url": "https://api.github.com/users/darmac/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/darmac/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/darmac/subscriptions",
        "organizations_url": "https://api.github.com/users/darmac/orgs",
        "repos_url": "https://api.github.com/users/darmac/repos",
        "events_url": "https://api.github.com/users/darmac/events{/privacy}",
        "received_events_url": "https://api.github.com/users/darmac/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-04-21T01:04:15Z",
    "updated_at": "2021-02-15T14:45:46Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "When I build blast-plus on my `linux-centos8-aarch64` system, a build error reported:\r\n```console\r\n$spack install -v blast-plus\r\nchecking for dpkg-architecture... no\r\nconfigure: error: Unable to find static libstdc++ requested by --with-bin-release.\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/tmp/root/spack-stage/spack-stage-blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly/spack-src/c++/configure' '--prefix=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly' '--with-bin-release' '--without-debug' '--with-mt' '--without-boost' '--with-dll' '--without-static' '--without-static-exe' '--with-jpeg=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/libjpeg-turbo-2.0.3-hd7odkwhxh7mjnfrbmxbi5d6bcdzy3ab' '--with-png=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/libpng-1.6.37-qogkixx6s4s5b7aax5kmfeskpum2lms2' '--with-freetype=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/freetype-2.10.1-dpfayc4amqf2pbvlujzpim5v3cxfxid4' '--without-hdf5' '--with-z=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/zlib-1.2.11-r26fdvv4oowwlm4yozeoozfvg6kkkeoa' '--with-bz2=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/bzip2-1.0.8-3z4cm7torpanvuhuihxyb27zr3mjkarn' '--with-lzo=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/lzo-2.10-2gf6ago32atveouyy2xsokeu42aswnzw' '--with-gnutls=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/gnutls-3.6.8-nbh2tykjf5e3c5ri2afzcthnsmxlosac' '--with-openssl=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/openssl-1.1.1f-d7q5m67fw37b3yx5ecwz3vavyreoph2m' '--with-pcre=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/pcre-8.43-wfibdgpfa4y5h7j73zvg4w6yxse4b6pc' '--with-python=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/python-3.7.6-3l76x2zpiklatzhne5e7xa6dvkw7nvgr' '--with-perl=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/perl-5.30.1-jjanez4jarykzlbl7o3dqo7ceehlloyz'\r\n\r\n1 error found in build log:\r\n     34    checking whether /home/xiaojun/spack/lib/spack/env/gcc/gcc  has an option to discard unneeded shared libraries... -Wl,--as-needed\r\n     35    checking whether /home/xiaojun/spack/lib/spack/env/gcc/gcc  has an option to link in whole static archives... -Wl,--whole-archive\r\n     36    checking whether _LIBCPP_VERSION is declared... no\r\n     37    checking how to enable C++ '11 features in /home/xiaojun/spack/lib/spack/env/gcc/g++ ... -std=gnu++11\r\n     38    checking how to enable C '11 or at least '99 features in /home/xiaojun/spack/lib/spack/env/gcc/gcc ... -std=gnu11 -fgnu89-inline\r\n     39    checking for dpkg-architecture... no\r\n  >> 40    configure: error: Unable to find static libstdc++ requested by --with-bin-release.\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly/spack-build-out.txt\r\n\r\n==> Error: Failed to install blast-plus due to ChildError: ProcessError: Command exited with status 1:\r\n    '/tmp/root/spack-stage/spack-stage-blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly/spack-src/c++/configure' '--prefix=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly' '--with-bin-release' '--without-debug' '--with-mt' '--without-boost' '--with-dll' '--without-static' '--without-static-exe' '--with-jpeg=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/libjpeg-turbo-2.0.3-hd7odkwhxh7mjnfrbmxbi5d6bcdzy3ab' '--with-png=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/libpng-1.6.37-qogkixx6s4s5b7aax5kmfeskpum2lms2' '--with-freetype=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/freetype-2.10.1-dpfayc4amqf2pbvlujzpim5v3cxfxid4' '--without-hdf5' '--with-z=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/zlib-1.2.11-r26fdvv4oowwlm4yozeoozfvg6kkkeoa' '--with-bz2=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/bzip2-1.0.8-3z4cm7torpanvuhuihxyb27zr3mjkarn' '--with-lzo=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/lzo-2.10-2gf6ago32atveouyy2xsokeu42aswnzw' '--with-gnutls=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/gnutls-3.6.8-nbh2tykjf5e3c5ri2afzcthnsmxlosac' '--with-openssl=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/openssl-1.1.1f-d7q5m67fw37b3yx5ecwz3vavyreoph2m' '--with-pcre=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/pcre-8.43-wfibdgpfa4y5h7j73zvg4w6yxse4b6pc' '--with-python=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/python-3.7.6-3l76x2zpiklatzhne5e7xa6dvkw7nvgr' '--with-perl=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/perl-5.30.1-jjanez4jarykzlbl7o3dqo7ceehlloyz'\r\n1 error found in build log:\r\n     34    checking whether /home/xiaojun/spack/lib/spack/env/gcc/gcc  has an option to discard unneeded shared libraries... -Wl,--as-needed\r\n     35    checking whether /home/xiaojun/spack/lib/spack/env/gcc/gcc  has an option to link in whole static archives... -Wl,--whole-archive\r\n     36    checking whether _LIBCPP_VERSION is declared... no\r\n     37    checking how to enable C++ '11 features in /home/xiaojun/spack/lib/spack/env/gcc/g++ ... -std=gnu++11\r\n     38    checking how to enable C '11 or at least '99 features in /home/xiaojun/spack/lib/spack/env/gcc/gcc ... -std=gnu11 -fgnu89-inline\r\n     39    checking for dpkg-architecture... no\r\n  >> 40    configure: error: Unable to find static libstdc++ requested by --with-bin-release.\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly/spack-build-out.txt\r\nTraceback (most recent call last):\r\n  File \"/home/xiaojun/spack/lib/spack/spack/build_environment.py\", line 802, in child_process\r\n    return_value = function()\r\n  File \"/home/xiaojun/spack/lib/spack/spack/installer.py\", line 1113, in build_process\r\n    phase(pkg.spec, pkg.prefix)\r\n  File \"/home/xiaojun/spack/lib/spack/spack/package.py\", line 108, in phase_wrapper\r\n    phase(spec, prefix)\r\n  File \"/home/xiaojun/spack/lib/spack/spack/build_systems/autotools.py\", line 298, in configure\r\n    inspect.getmodule(self).configure(*options)\r\n  File \"/home/xiaojun/spack/lib/spack/spack/util/executable.py\", line 189, in __call__\r\n    proc.returncode, long_msg)\r\nspack.util.executable.ProcessError: Command exited with status 1:\r\n    '/tmp/root/spack-stage/spack-stage-blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly/spack-src/c++/configure' '--prefix=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/blast-plus-2.9.0-wunkydut522ea36rgx5xz33aipc6d7ly' '--with-bin-release' '--without-debug' '--with-mt' '--without-boost' '--with-dll' '--without-static' '--without-static-exe' '--with-jpeg=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/libjpeg-turbo-2.0.3-hd7odkwhxh7mjnfrbmxbi5d6bcdzy3ab' '--with-png=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/libpng-1.6.37-qogkixx6s4s5b7aax5kmfeskpum2lms2' '--with-freetype=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/freetype-2.10.1-dpfayc4amqf2pbvlujzpim5v3cxfxid4' '--without-hdf5' '--with-z=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/zlib-1.2.11-r26fdvv4oowwlm4yozeoozfvg6kkkeoa' '--with-bz2=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/bzip2-1.0.8-3z4cm7torpanvuhuihxyb27zr3mjkarn' '--with-lzo=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/lzo-2.10-2gf6ago32atveouyy2xsokeu42aswnzw' '--with-gnutls=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/gnutls-3.6.8-nbh2tykjf5e3c5ri2afzcthnsmxlosac' '--with-openssl=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/openssl-1.1.1f-d7q5m67fw37b3yx5ecwz3vavyreoph2m' '--with-pcre=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/pcre-8.43-wfibdgpfa4y5h7j73zvg4w6yxse4b6pc' '--with-python=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/python-3.7.6-3l76x2zpiklatzhne5e7xa6dvkw7nvgr' '--with-perl=/home/xiaojun/spack/opt/spack/linux-centos8-aarch64/gcc-8.2.1/perl-5.30.1-jjanez4jarykzlbl7o3dqo7ceehlloyz'\r\n```\r\n\r\nAnd if I remove the `--with-bin-release` in `blast-plus/package.py` with follow patch, the build error is gone.\r\n```\r\ndiff --git a/var/spack/repos/builtin/packages/blast-plus/package.py b/var/spack/repos/builtin/packages/blast-plus/package.py\r\nindex febe4fc15..a9d9df758 100644\r\n--- a/var/spack/repos/builtin/packages/blast-plus/package.py\r\n+++ b/var/spack/repos/builtin/packages/blast-plus/package.py\r\n@@ -99,7 +99,7 @@ def configure_args(self):\r\n         spec   = self.spec\r\n\r\n         config_args = [\r\n-            '--with-bin-release',\r\n+#            '--with-bin-release',\r\n             '--without-debug',\r\n             '--with-mt',\r\n             '--without-boost',\r\n```",
    "performed_via_github_app": null
}