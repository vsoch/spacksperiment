{
    "url": "https://api.github.com/repos/spack/spack/issues/16365",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16365/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16365/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16365/events",
    "html_url": "https://github.com/spack/spack/pull/16365",
    "id": 608717172,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDEwNDQxNTI2",
    "number": 16365,
    "title": "smoke tests:  grab and run build examples (openmpi)",
    "user": {
        "login": "tldahlgren",
        "id": 35777542,
        "node_id": "MDQ6VXNlcjM1Nzc3NTQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35777542?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tldahlgren",
        "html_url": "https://github.com/tldahlgren",
        "followers_url": "https://api.github.com/users/tldahlgren/followers",
        "following_url": "https://api.github.com/users/tldahlgren/following{/other_user}",
        "gists_url": "https://api.github.com/users/tldahlgren/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tldahlgren/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tldahlgren/subscriptions",
        "organizations_url": "https://api.github.com/users/tldahlgren/orgs",
        "repos_url": "https://api.github.com/users/tldahlgren/repos",
        "events_url": "https://api.github.com/users/tldahlgren/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tldahlgren/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1858171143,
            "node_id": "MDU6TGFiZWwxODU4MTcxMTQz",
            "url": "https://api.github.com/repos/spack/spack/labels/stand-alone-tests",
            "name": "stand-alone-tests",
            "color": "5ec0d6",
            "default": false,
            "description": "Stand-alone (or smoke) tests for installed packages"
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "tldahlgren",
        "id": 35777542,
        "node_id": "MDQ6VXNlcjM1Nzc3NTQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35777542?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tldahlgren",
        "html_url": "https://github.com/tldahlgren",
        "followers_url": "https://api.github.com/users/tldahlgren/followers",
        "following_url": "https://api.github.com/users/tldahlgren/following{/other_user}",
        "gists_url": "https://api.github.com/users/tldahlgren/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tldahlgren/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tldahlgren/subscriptions",
        "organizations_url": "https://api.github.com/users/tldahlgren/orgs",
        "repos_url": "https://api.github.com/users/tldahlgren/repos",
        "events_url": "https://api.github.com/users/tldahlgren/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tldahlgren/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "tldahlgren",
            "id": 35777542,
            "node_id": "MDQ6VXNlcjM1Nzc3NTQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35777542?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tldahlgren",
            "html_url": "https://github.com/tldahlgren",
            "followers_url": "https://api.github.com/users/tldahlgren/followers",
            "following_url": "https://api.github.com/users/tldahlgren/following{/other_user}",
            "gists_url": "https://api.github.com/users/tldahlgren/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tldahlgren/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tldahlgren/subscriptions",
            "organizations_url": "https://api.github.com/users/tldahlgren/orgs",
            "repos_url": "https://api.github.com/users/tldahlgren/repos",
            "events_url": "https://api.github.com/users/tldahlgren/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tldahlgren/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-04-29T01:31:53Z",
    "updated_at": "2020-08-19T22:47:11Z",
    "closed_at": "2020-05-28T03:05:06Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/16365",
        "html_url": "https://github.com/spack/spack/pull/16365",
        "diff_url": "https://github.com/spack/spack/pull/16365.diff",
        "patch_url": "https://github.com/spack/spack/pull/16365.patch"
    },
    "body": "This PR supports grabbing one or more paths relative to the stage source directory during the installation process, caching them so available to run the tests as part of the smoke (or install)n test process.\r\n\r\nTODO\r\n\r\n- [x] Determine why test stage directories are no longer being retained\r\n- [x] Determine why the tests are failing (requires at least the test output above be retained)\r\n- [x] Finish testing examples against different version of openmpi\r\n- [x] Move copying build files for testing from install testing to install\r\n- [x] Change copying from `build_process` to a package-provided, after-phase function\r\n- [x] Add `shmemrun ls` install test case\r\n- [x] Rename `copy_src_to_install` to `cache_extra_test_source`\r\n- [x] Add explanation of `cache_extra_test_source` to its docstring and an explanation in `openmpi/package.py` for its use of the method\r\n- [x] Create `metadata_dir` for spec's `metadata_path`\r\n- [x] Change `cache_extra_test_source` to accept a file ==> changed to accept a list of relative source paths\r\n- [x] Change `cache_extra_test_source` to use `filesystem`'s `install_tree` instead of `shutil.copytree`\r\n- [x] Add unit test of `cache_extra_test_source`\r\n- [x] Add `test` subdirectory to the (test) metadata directory for the `install_test_root`\r\n- [x] Replace function def with lambda for `skip_files`",
    "performed_via_github_app": null
}