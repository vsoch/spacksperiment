{
    "url": "https://api.github.com/repos/spack/spack/issues/16254",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/16254/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/16254/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/16254/events",
    "html_url": "https://github.com/spack/spack/pull/16254",
    "id": 605270957,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDA3NzA1OTE5",
    "number": 16254,
    "title": "spack info: variants section can be as wide as the terminal",
    "user": {
        "login": "tgamblin",
        "id": 299842,
        "node_id": "MDQ6VXNlcjI5OTg0Mg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/299842?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tgamblin",
        "html_url": "https://github.com/tgamblin",
        "followers_url": "https://api.github.com/users/tgamblin/followers",
        "following_url": "https://api.github.com/users/tgamblin/following{/other_user}",
        "gists_url": "https://api.github.com/users/tgamblin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tgamblin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tgamblin/subscriptions",
        "organizations_url": "https://api.github.com/users/tgamblin/orgs",
        "repos_url": "https://api.github.com/users/tgamblin/repos",
        "events_url": "https://api.github.com/users/tgamblin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tgamblin/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 471995122,
            "node_id": "MDU6TGFiZWw0NzE5OTUxMjI=",
            "url": "https://api.github.com/repos/spack/spack/labels/commands",
            "name": "commands",
            "color": "006b75",
            "default": false,
            "description": null
        },
        {
            "id": 521903170,
            "node_id": "MDU6TGFiZWw1MjE5MDMxNzA=",
            "url": "https://api.github.com/repos/spack/spack/labels/user-experience",
            "name": "user-experience",
            "color": "bfdadc",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-04-23T06:20:44Z",
    "updated_at": "2020-04-23T19:38:14Z",
    "closed_at": "2020-04-23T19:14:40Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/16254",
        "html_url": "https://github.com/spack/spack/pull/16254",
        "diff_url": "https://github.com/spack/spack/pull/16254.diff",
        "patch_url": "https://github.com/spack/spack/pull/16254.patch"
    },
    "body": "The variants table in `spack info` is cramped, as the *widest* it can be is 80 columns.  And that's actually only sort of true -- the padding calculation is off, so it still wraps on terminals of size 80 because it comes out *slightly* wider.\r\n\r\nThis change looks at the terminal size and calculates the width of the description column based on it.  On larger terminals, the output looks much nicer, and on small terminals, the output no longer wraps.\r\n\r\nHere's an example  for `spack info qmcpack` with 110 columns.\r\n\r\nBefore:\r\n```\r\n    Name [Default]          Allowed values          Description\r\n    ====================    ====================    ==============================\r\n\r\n    afqmc [off]             on, off                 Install with AFQMC support.\r\n                                                    NOTE that if used in\r\n                                                    combination with CUDA, only\r\n                                                    AFQMC will have CUDA.\r\n    build_type [Release]    Debug, Release,         The build type to build\r\n                            RelWithDebInfo\r\n    complex [off]           on, off                 Build the complex (general\r\n                                                    twist/k-point) version\r\n    cuda [off]              on, off                 Build with CUDA\r\n```\r\n\r\nAfter:\r\n```\r\n    Name [Default]          Allowed values          Description\r\n    ====================    ====================    ========================================================\r\n\r\n    afqmc [off]             on, off                 Install with AFQMC support. NOTE that if used in\r\n                                                    combination with CUDA, only AFQMC will have CUDA.\r\n    build_type [Release]    Debug, Release,         The build type to build\r\n                            RelWithDebInfo\r\n    complex [off]           on, off                 Build the complex (general twist/k-point) version\r\n    cuda [off]              on, off                 Build with CUDA\r\n```",
    "performed_via_github_app": null
}