{
    "url": "https://api.github.com/repos/spack/spack/issues/10494",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/10494/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/10494/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/10494/events",
    "html_url": "https://github.com/spack/spack/issues/10494",
    "id": 405704282,
    "node_id": "MDU6SXNzdWU0MDU3MDQyODI=",
    "number": 10494,
    "title": "Installation issue: flang",
    "user": {
        "login": "ellio167",
        "id": 750275,
        "node_id": "MDQ6VXNlcjc1MDI3NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/750275?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ellio167",
        "html_url": "https://github.com/ellio167",
        "followers_url": "https://api.github.com/users/ellio167/followers",
        "following_url": "https://api.github.com/users/ellio167/following{/other_user}",
        "gists_url": "https://api.github.com/users/ellio167/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ellio167/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ellio167/subscriptions",
        "organizations_url": "https://api.github.com/users/ellio167/orgs",
        "repos_url": "https://api.github.com/users/ellio167/repos",
        "events_url": "https://api.github.com/users/ellio167/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ellio167/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 18,
    "created_at": "2019-02-01T13:35:24Z",
    "updated_at": "2020-09-24T20:47:59Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Flang fails to build\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install flang\r\n\r\n\r\nIn file included from /private/var/folders/q0/mth73zrd307d66c43f8r3xv80000gp/T/relliott/spack-stage/spack-stage-WiKCC4/flang-flang_20180921/runtime/libpgmath/lib/common/ac\r\n/private/var/folders/q0/mth73zrd307d66c43f8r3xv80000gp/T/relliott/spack-stage/spack-stage-WiKCC4/flang-flang_20180921/runtime/libpgmath/lib/common/mth_avx512helper.h:20:2:\r\n#error \"mth_avx512helper.h must have TARGET_X8664 defined\"\r\n```\r\n\r\n### Platform and user environment\r\n\r\nPlease report your OS here:\r\n```\r\nDarwin Ryans-MBP-6.hsd1.mn.comcast.net 16.7.0 Darwin Kernel Version 16.7.0: Sun Oct 28 22:30:19 PDT 2018; root:xnu-3789.73.27~1/RELEASE_X86_64 x86_64\r\n```\r\n\r\n```commandline\r\n$ uname -a \r\nLinux nuvolari 4.15.0-29-generic #31-Ubuntu SMP Tue Jul 17 15:39:52 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:\tUbuntu 18.04.1 LTS\r\n``` \r\n\r\n### Additional information\r\n\r\nSometimes the issue benefits from additional details. In these cases there are\r\na few things we can suggest doing. First of all, you can post the full output of:\r\n```console\r\n<540 Ryans-MBP-6:spack >./bin/spack spec --install-status flang\r\nInput spec\r\n--------------------------------\r\n -   flang\r\n\r\nConcretized\r\n--------------------------------\r\n -   flang@20180921%clang@9.0.0-apple build_type=RelWithDebInfo arch=darwin-sierra-x86_64\r\n[+]      ^cmake@3.13.3%clang@9.0.0-apple~doc+ncurses+openssl~ownlibs patches=93488edf3f89cef6f3c77e821007c022e88e9f1f566ae9bf824a87ecbac97ebb ~qt arch=darwin-sierra-x86_64\r\n[+]          ^bzip2@1.0.6%clang@9.0.0-apple+shared arch=darwin-sierra-x86_64\r\n[+]              ^diffutils@3.7%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]          ^curl@7.60.0%clang@9.0.0-apple+darwinssl~libssh~libssh2~nghttp2 arch=darwin-sierra-x86_64\r\n[+]              ^zlib@1.2.11%clang@9.0.0-apple+optimize+pic+shared arch=darwin-sierra-x86_64\r\n[+]          ^expat@2.2.5%clang@9.0.0-apple~libbsd arch=darwin-sierra-x86_64\r\n[+]          ^libarchive@3.3.2%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^libxml2@2.9.8%clang@9.0.0-apple~python arch=darwin-sierra-x86_64\r\n[+]                  ^libiconv@1.15%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                  ^pkgconf@1.5.4%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                  ^xz@5.2.4%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^lz4@1.8.1.2%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^lzma@4.32.7%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^lzo@2.09%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^nettle@3.4%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                  ^gmp@6.1.2%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                      ^autoconf@2.69%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                          ^m4@1.4.18%clang@9.0.0-apple patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,c0a408fbffb7255fcc75e26bd8edab116fc81d216bfd18b473668b7739a4158e,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 +sigsegv arch=darwin-sierra-x86_64\r\n[+]                              ^libsigsegv@2.11%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                          ^perl@5.26.2%clang@9.0.0-apple+cpanm patches=0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac +shared+threads arch=darwin-sierra-x86_64\r\n[+]                              ^gdbm@1.18.1%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                                  ^readline@7.0%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                                      ^ncurses@6.1%clang@9.0.0-apple~symlinks~termlib arch=darwin-sierra-x86_64\r\n[+]                      ^automake@1.16.1%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                      ^libtool@2.4.6%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^openssl@1.1.1%clang@9.0.0-apple+systemcerts arch=darwin-sierra-x86_64\r\n[+]          ^libuv@1.25.0%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]          ^rhash@1.3.5%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]      ^llvm@flang-20180921%clang@9.0.0-apple+all_targets build_type=Release +clang+compiler-rt+gold+internal_unwind+libcxx~link_dylib+lld+lldb+polly~python~shared_libs arch=darwin-sierra-x86_64\r\n[+]          ^binutils@2.31.1%clang@9.0.0-apple+gold~headers~libiberty+nls~plugins arch=darwin-sierra-x86_64\r\n[+]              ^gettext@0.19.8.1%clang@9.0.0-apple+bzip2+curses+git~libunistring+libxml2 patches=9acdb4e73f67c241b5ef32505c9ddf7cf6884ca8ea661692f21dca28483b04b8 +tar+xz arch=darwin-sierra-x86_64\r\n[+]                  ^tar@1.30%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]          ^isl@0.19%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]          ^libedit@3.1-20170329%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]          ^perl-data-dumper@2.173%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]          ^py-lit@0.5.0%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^py-setuptools@40.4.3%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]                  ^python@2.7.15%clang@9.0.0-apple+dbm~optimizations patches=123082ab3483ded78e86d7c809e98a804b3465b4683c96bd79a2fd799f572244 +pic+pythoncmd~shared~tk~ucs4 arch=darwin-sierra-x86_64\r\n[+]                      ^sqlite@3.26.0%clang@9.0.0-apple~functions arch=darwin-sierra-x86_64\r\n[+]          ^swig@3.0.12%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^pcre@8.42%clang@9.0.0-apple~jit+utf arch=darwin-sierra-x86_64\r\n -       ^pgmath@20180921%clang@9.0.0-apple build_type=RelWithDebInfo arch=darwin-sierra-x86_64\r\n[+]          ^gawk@4.1.4%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n[+]              ^mpfr@4.0.1%clang@9.0.0-apple arch=darwin-sierra-x86_64\r\n```\r\n\r\n\r\n[spack-build.out.txt](https://github.com/spack/spack/files/2821752/spack-build.out.txt)\r\n",
    "performed_via_github_app": null
}