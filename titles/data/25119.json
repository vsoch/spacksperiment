{
    "url": "https://api.github.com/repos/spack/spack/issues/25119",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/25119/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/25119/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/25119/events",
    "html_url": "https://github.com/spack/spack/issues/25119",
    "id": 954436270,
    "node_id": "MDU6SXNzdWU5NTQ0MzYyNzA=",
    "number": 25119,
    "title": "spack install --keep-stage -v npm failed in centos8_aarch64",
    "user": {
        "login": "Tom-python0121",
        "id": 77763324,
        "node_id": "MDQ6VXNlcjc3NzYzMzI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/77763324?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tom-python0121",
        "html_url": "https://github.com/Tom-python0121",
        "followers_url": "https://api.github.com/users/Tom-python0121/followers",
        "following_url": "https://api.github.com/users/Tom-python0121/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tom-python0121/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tom-python0121/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tom-python0121/subscriptions",
        "organizations_url": "https://api.github.com/users/Tom-python0121/orgs",
        "repos_url": "https://api.github.com/users/Tom-python0121/repos",
        "events_url": "https://api.github.com/users/Tom-python0121/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tom-python0121/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-07-28T03:25:30Z",
    "updated_at": "2021-07-28T03:25:30Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "<!-- Thanks for taking the time to report this build failure. To proceed with the report please:\r\n\r\n1. Title the issue \"Installation issue: <name-of-the-package>\".\r\n2. Provide the information required below.\r\n\r\nWe encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively! -->\r\nHello,I meet a problem:spack install --keep-stage -v npm failed in centos8_aarch64.\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n[root@centos8 spack-src]# spack install --keep-stage -v npm\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libiconv-1.16-5gvzkthgdyzwipoooaqkilcjetijwrqh\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/pkgconf-1.7.3-qnwffdxtfpwlagzm34msmtobii7iksqf\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/xz-5.2.5-5npvhv6x4hagkymz4dw2suvda5r6hpjk\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/zlib-1.2.11-ysclwr6pk6lufuzqp3tf5la4lreyq7qt\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/berkeley-db-18.1.40-vfyntuwixkzvr2rt2zjeijiqmtuu6brd\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libsigsegv-2.12-dkxnizjmb3vgeurskkjiysmjcldaaw7x\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libbsd-0.10.0-zu3lv34hwertyg7mfhjkhy57r2hetiph\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libffi-3.3-z3s5ygvblnjwqu3pmvdvhr5dxxta2cwc\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/diffutils-3.7-z6t4zfsla623dzpnpwebutiuoenvlt5d\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/tar-1.32-q6qjhc42v4z7prpkjfsowtbjdceh7dbb\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/util-linux-uuid-2.36-ogvrneojckeboqt4fms3jkpnq3knc5gs\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/ncurses-6.2-l6lhmwy4kpgkzfmgiiq2bikklnvulcyf\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libxml2-2.9.10-cn4eee7gqv7drycs6nybr5pxxlc5uivl\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/m4-1.4.18-xjpzxna5lzr3g4gku6mjy5vz2jiyjvpi\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/expat-2.2.10-o3drv65qbf6cpi5wa4ozry5zvbtfnlrk\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/bzip2-1.0.8-urctfqbstx2mii7jxupeqeypgbrul37q\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/readline-8.0-6otekrq5w5yaqh7xbi4to7hkewmnddl3\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/libtool-2.4.6-rmp7rhxalhqckvkbsxiicnq5gedv5ygy\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/gettext-0.21-pghfs6ximmdo3cyyhouf5jtwowtyngxf\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/gdbm-1.18.1-sbfql4dkw5n2cri4z34km7dmrjres4fg\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/sqlite-3.34.0-b32bnk5nqptai5g6ua5vdairn4kw3fgg\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/perl-5.32.1-rs3gej7g7fp5pibnhenekowwbdfphevg\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/texinfo-6.5-jcwiw2ljyr4uauolx7kxbhrshdprlvpj\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/openssl-1.1.1j-gkuhxrq4lbwvdxs6zskmxaubwgdo2b5t\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/gmake-4.2.1-ch4hp3kpnw2vc4xzitss6h4fx6yl4z4v\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/python-3.8.8-aosgvy74ce4zaoqnbj7obuyvg7csguo7\r\n[+] /home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/node-js-14.15.1-ijlvkrayepe2nczg5fjrkvnaf4g2p37a\r\n==> Installing npm-6.14.9-majegskooo6i6i5c2ztvfpqjhhogjekz\r\n==> No binary for npm-6.14.9-majegskooo6i6i5c2ztvfpqjhhogjekz found: installing from source\r\n==> Using cached archive: /home/spack/spack/var/spack/cache/_source-cache/archive/1e/1e0e880ce0d5adf0120fb3f92fc8e5ea5bac73681d37282615d074ff670f7703.tgz\r\n==> Using cached archive: /home/spack/spack/var/spack/cache/_source-cache/archive/bb/bbc0e137e17a63676efc97a0e3b1fcf101498a1c2c01c3341cd9491f248711b8.tgz\r\n==> Using cached archive: /home/spack/spack/var/spack/cache/_source-cache/archive/16/168b394fbca60ea81dc84b1824466df96246b9eb4d671c2541f55f408a264b4c.tgz\r\n==> Moving resource stage\r\n        source : /tmp/root/spack-stage/resource-node-gyp-majegskooo6i6i5c2ztvfpqjhhogjekz/spack-src/\r\n        destination : /tmp/root/spack-stage/spack-stage-npm-6.14.9-majegskooo6i6i5c2ztvfpqjhhogjekz/spack-src/node-gyp/package\r\n==> Moving resource stage\r\n        source : /tmp/root/spack-stage/resource-env-paths-majegskooo6i6i5c2ztvfpqjhhogjekz/spack-src/\r\n        destination : /tmp/root/spack-stage/spack-stage-npm-6.14.9-majegskooo6i6i5c2ztvfpqjhhogjekz/spack-src/env-paths/package\r\n==> Ran patch() for npm\r\n==> npm: Executing phase: 'configure'\r\n==> [2021-07-28-11:22:46.645917] './configure' '--prefix=/home/spack/spack/opt/spack/linux-centos8-aarch64/gcc-8.4.1/npm-6.14.9-majegskooo6i6i5c2ztvfpqjhhogjekz'\r\n==> npm: Executing phase: 'build'\r\n==> [2021-07-28-11:22:46.656188] 'make' '-j8'\r\nnode bin/npm-cli.js install marked --no-global --no-timing --no-save\r\nnode bin/npm-cli.js install marked-man --no-global --no-timing --no-save\r\ncd docs && node ../bin/npm-cli.js install && \\\r\nnode ../bin/npm-cli.js run build:static echo>&2 && \\\r\nrm -rf node_modules .cache public/*js public/*json public/404* public/page-data public/manifest*\r\n(node:3472238) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:3472237) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\nnpm ERR! code SELF_SIGNED_CERT_IN_CHAIN\r\nnpm ERR! errno SELF_SIGNED_CERT_IN_CHAIN\r\nnpm ERR! request to https://registry.npmjs.org/marked-man failed, reason: self signed certificate in certificate chain\r\nnpm ERR! code SELF_SIGNED_CERT_IN_CHAIN\r\nnpm ERR! errno SELF_SIGNED_CERT_IN_CHAIN\r\nnpm ERR! request to https://registry.npmjs.org/marked failed, reason: self signed certificate in certificate chain\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2021-07-28T03_22_48_564Z-debug.log\r\nmake: *** [Makefile:112: node_modules/.bin/marked-man] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2021-07-28T03_22_48_572Z-debug.log\r\nmake: *** [Makefile:107: node_modules/.bin/marked] Error 1\r\n(node:3472252) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\nnpm ERR! code SELF_SIGNED_CERT_IN_CHAIN\r\nnpm ERR! errno SELF_SIGNED_CERT_IN_CHAIN\r\nnpm ERR! request to https://registry.npmjs.org/@babel/plugin-transform-computed-properties/-/plugin-transform-computed-properties-7.7.4.tgz failed, reason: self signed certificate in certificate chain\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2021-07-28T03_23_02_332Z-debug.log\r\nmake: *** [Makefile:52: htmldocs] Error 1\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-npm-6.14.9-majegskooo6i6i5c2ztvfpqjhhogjekz/spack-build-out.txt\r\n\r\n```\r\nCan you tell me how to solve this problem?\r\n### Information on your system\r\n[root@centos8 spack-src]# spack debug report\r\n* **Spack:** 0.16.1-1624-a0b5dcca3c\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos8-aarch64\r\n* **Concretizer:** original\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- Please upload the following files. They should be present in the stage directory of the failing build. Also upload any config.log or similar file if one exists. -->\r\n* [spack-build-out.txt]()\r\n* [spack-build-env.txt]()\r\n\r\n<!-- Some packages have maintainers who have volunteered to debug build failures. Run `spack maintainers <name-of-the-package>` and @mention them here if they exist. -->\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ ] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [ ] I have uploaded the build log and environment files\r\n- [ ] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}