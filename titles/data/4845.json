{
    "url": "https://api.github.com/repos/spack/spack/issues/4845",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/4845/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/4845/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/4845/events",
    "html_url": "https://github.com/spack/spack/issues/4845",
    "id": 244675637,
    "node_id": "MDU6SXNzdWUyNDQ2NzU2Mzc=",
    "number": 4845,
    "title": "is py-sphinx being treated correctly?",
    "user": {
        "login": "svenevs",
        "id": 5871461,
        "node_id": "MDQ6VXNlcjU4NzE0NjE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5871461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svenevs",
        "html_url": "https://github.com/svenevs",
        "followers_url": "https://api.github.com/users/svenevs/followers",
        "following_url": "https://api.github.com/users/svenevs/following{/other_user}",
        "gists_url": "https://api.github.com/users/svenevs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svenevs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svenevs/subscriptions",
        "organizations_url": "https://api.github.com/users/svenevs/orgs",
        "repos_url": "https://api.github.com/users/svenevs/repos",
        "events_url": "https://api.github.com/users/svenevs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svenevs/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2017-07-21T13:53:15Z",
    "updated_at": "2017-07-23T14:44:13Z",
    "closed_at": "2017-07-23T14:44:13Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Currently, there are some hard-coded dependencies that don't make sense to me.\r\n\r\n1. `py-sphinxconrtrib-websupport` is only a dependency from 1.6 onward:\r\n\r\n    > 1.6b3\r\n    > \r\n    > 3588: No compact (p tag) html output in the i18n document build even when html_compact_lists is True.\r\n    > The make latexpdf from 1.6b1 (for GNU/Linux and Mac OS, using latexmk) aborted earlier in case of LaTeX errors than was the case with 1.5 series, due to hard-coded usage of --halt-on-error option. (refs 3695)\r\n    > [**3683: sphinx.websupport module is not provided by default**](https://github.com/sphinx-doc/sphinx/issues/3683)\r\n    > 3683: Failed to build document if builder.css_file.insert() is called\r\n    > 3714: viewcode extension not taking highlight_code='none' in account\r\n    > 3698: Moving :doc: to std domain broke backwards compatibility\r\n    > 3633: misdetect unreferenced citations\r\n\r\n2. `typing` should not be installed unless it is needed; unless it is v1.6.1 (bug).  This library comes with python 3.5.2+.\r\n\r\n    - I forget the state of affairs.  Can something like a backport library \"self-destruct\" if it shouldn't be installed (aka fail out saying \"bad dependency backport not necessary\") or is the policy to just rage duplicate these?  I've seen quite a few others, e.g. enum34.\r\n\r\n3. 1.6.2 is out :smile:\r\n\r\nSo I'd like to patch with\r\n\r\n```py\r\n # Sphinx 1.6 introduces modularity\r\n depends_on('py-sphinxcontrib-websupport', when='@1.6:',\r\n            type=('build', 'run'))\r\n# Build dep for 1.6.1 all python (bug), see:\r\n# https://github.com/sphinx-doc/sphinx/pull/3789\r\ndepends_on('py-typing', when='@1.6.1', type=('build', 'run'))\r\ndepends_on('py-typing', when='@1.6.2:^python@2.7:3.4',\r\n           type=('build', 'run'))\r\n```\r\n\r\nAnd add `version('1.6.2', 'a5f613e2b807c1f8c6cdd985a3d909f1')`, but I'm not sure what's going on with 1 and 2 (why `websupport` is gone now and how things move from `sphinx` to `sphinxcontrib`)...",
    "performed_via_github_app": null
}