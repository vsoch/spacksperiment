{
    "url": "https://api.github.com/repos/spack/spack/issues/17536",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/17536/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/17536/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/17536/events",
    "html_url": "https://github.com/spack/spack/pull/17536",
    "id": 656939948,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ5MTQ3OTM4",
    "number": 17536,
    "title": "Bugfix/install missing compiler from buildcache",
    "user": {
        "login": "scottwittenburg",
        "id": 6527504,
        "node_id": "MDQ6VXNlcjY1Mjc1MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6527504?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scottwittenburg",
        "html_url": "https://github.com/scottwittenburg",
        "followers_url": "https://api.github.com/users/scottwittenburg/followers",
        "following_url": "https://api.github.com/users/scottwittenburg/following{/other_user}",
        "gists_url": "https://api.github.com/users/scottwittenburg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scottwittenburg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scottwittenburg/subscriptions",
        "organizations_url": "https://api.github.com/users/scottwittenburg/orgs",
        "repos_url": "https://api.github.com/users/scottwittenburg/repos",
        "events_url": "https://api.github.com/users/scottwittenburg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scottwittenburg/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 1566617052,
            "node_id": "MDU6TGFiZWwxNTY2NjE3MDUy",
            "url": "https://api.github.com/repos/spack/spack/labels/bugfix",
            "name": "bugfix",
            "color": "c4aaef",
            "default": false,
            "description": ""
        },
        {
            "id": 759411369,
            "node_id": "MDU6TGFiZWw3NTk0MTEzNjk=",
            "url": "https://api.github.com/repos/spack/spack/labels/buildcache",
            "name": "buildcache",
            "color": "bf354c",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2020-07-14T22:38:34Z",
    "updated_at": "2020-08-19T22:46:00Z",
    "closed_at": "2020-07-17T18:13:37Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/17536",
        "html_url": "https://github.com/spack/spack/pull/17536",
        "diff_url": "https://github.com/spack/spack/pull/17536.diff",
        "patch_url": "https://github.com/spack/spack/pull/17536.patch"
    },
    "body": "This PR fixes an issue I (and others) have seen when running compiler bootstrapping pipelines using the `spack ci` sub-commands.  The first commit here adds a test that mimics what we do in pipelines, where the bootstrapped compiler is installed and put into a binary mirror in some stage of the pipeline, and then in a later stage, we attempt to use `install-missing-compilers: true` to have that compiler installed from the binary mirror during installation of the spec that needs it.\r\n\r\nWithout the fix in the second commit, the test in the first commit fails with the message:\r\n\r\n```console\r\nspack.installer.InstallError: Cannot proceed with b: 1 uninstalled dependency: gcc\r\n```\r\n\r\n... which corresponds to the issue I've seen in pipeline logs.",
    "performed_via_github_app": null
}