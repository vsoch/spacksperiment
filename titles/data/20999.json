{
    "url": "https://api.github.com/repos/spack/spack/issues/20999",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/20999/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/20999/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/20999/events",
    "html_url": "https://github.com/spack/spack/issues/20999",
    "id": 787330689,
    "node_id": "MDU6SXNzdWU3ODczMzA2ODk=",
    "number": 20999,
    "title": "Installation issue: util-linux-uuid",
    "user": {
        "login": "jamesETsmith",
        "id": 11277676,
        "node_id": "MDQ6VXNlcjExMjc3Njc2",
        "avatar_url": "https://avatars.githubusercontent.com/u/11277676?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesETsmith",
        "html_url": "https://github.com/jamesETsmith",
        "followers_url": "https://api.github.com/users/jamesETsmith/followers",
        "following_url": "https://api.github.com/users/jamesETsmith/following{/other_user}",
        "gists_url": "https://api.github.com/users/jamesETsmith/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jamesETsmith/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jamesETsmith/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesETsmith/orgs",
        "repos_url": "https://api.github.com/users/jamesETsmith/repos",
        "events_url": "https://api.github.com/users/jamesETsmith/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jamesETsmith/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2021-01-16T02:45:56Z",
    "updated_at": "2021-01-16T03:00:10Z",
    "closed_at": "2021-01-16T03:00:09Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hello again!\r\n\r\nI'm running into trouble trying to build python on a cluster I use. One of the dependencies `util-linux-uuid` is trying to install in a directory that require root permission. @adamjstewart or other spack devs, are there some flags that I can pass to get it to install somewhere else? (I have also tried this python@3.8.7 and gotten the same error).\r\n\r\nThanks!\r\n\r\n### Steps to reproduce the issue\r\n\r\n<!-- Fill in the exact spec you are trying to build and the relevant part of the error message -->\r\n```console\r\n$ spack install python@3.9.0%gcc@10.2.0\r\n...\r\n==> Installing util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy\r\n==> No binary for util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy found: installing from source\r\n==> Using cached archive: /mnt/home/jsmith/apps/spack/var/spack/cache/_source-cache/archive/82/82942cd877a989f6d12d4ce2c757fb67ec53d8c5cd9af0537141ec5f84a2eea3.tar.gz\r\n==> util-linux-uuid: Executing phase: 'autoreconf'\r\n==> util-linux-uuid: Executing phase: 'configure'\r\n==> util-linux-uuid: Executing phase: 'build'\r\n==> util-linux-uuid: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16' 'install'\r\n\r\n5 errors found in build log:\r\n     643     /usr/bin/mkdir -p '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/share/man/man5'\r\n     644     /usr/bin/mkdir -p '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/share/man/man8'\r\n     645     /usr/bin/install -c -m 644 bash-completion/uuidgen '/usr/share/bash-completion/completions'\r\n     646     /usr/bin/mkdir -p '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/lib/pkgconfig'\r\n     647     /usr/bin/mkdir -p '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/include/uuid'\r\n     648     /usr/bin/mkdir -p '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/lib'\r\n  >> 649    /usr/bin/install: cannot remove '/usr/share/bash-completion/completions/uuidgen': Permission denied\r\n  >> 650    make[3]: *** [install-dist_bashcompletionDATA] Error 1\r\n     651    make[3]: *** Waiting for unfinished jobs....\r\n     652     /bin/sh ./libtool   --mode=install /usr/bin/install -c   libuuid.la '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/lib'\r\n     653     /usr/bin/install -c -m 644 libuuid/uuid.pc '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/lib/pkgconfig'\r\n     654     /usr/bin/install -c -m 644 libuuid/src/uuid.h '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/include/uuid'\r\n     655     /usr/bin/install -c -m 644 libuuid/man/uuid.3 libuuid/man/uuid_clear.3 libuuid/man/uuid_compare.3 libuuid/man/uuid_copy.3 libuuid/man/uuid_generate.3 libuuid/man/uuid_is_null.3 libuuid/man/uuid_p\r\n            arse.3 libuuid/man/uuid_time.3 libuuid/man/uuid_unparse.3 libuuid/man/uuid_generate_random.3 libuuid/man/uuid_generate_time.3 libuuid/man/uuid_generate_time_safe.3 '/mnt/home/jsmith/apps/spack/opt\r\n            /spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/share/man/man3'\r\n     656     /usr/bin/install -c -m 644 lib/terminal-colors.d.5 '/mnt/home/jsmith/apps/spack/opt/spack/linux-centos7-zen2/gcc-10.2.0/util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/share/man/man5'\r\n\r\n     ...\r\n\r\n     678       - have your system administrator add LIBDIR to '/etc/ld.so.conf'\r\n     679\r\n     680    See any operating system documentation about shared libraries for\r\n     681    more information, such as the ld(1) and ld.so(8) manual pages.\r\n     682    ----------------------------------------------------------------------\r\n     683    make[3]: Leaving directory `/tmp/jsmith/spack-stage/spack-stage-util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/spack-src'\r\n  >> 684    make[2]: *** [install-am] Error 2\r\n     685    make[2]: Leaving directory `/tmp/jsmith/spack-stage/spack-stage-util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/spack-src'\r\n  >> 686    make[1]: *** [install-recursive] Error 1\r\n     687    make[1]: Leaving directory `/tmp/jsmith/spack-stage/spack-stage-util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/spack-src'\r\n  >> 688    make: *** [install] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/jsmith/spack-stage/spack-stage-util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of python-3.9.0-vwvts7ettp2mx5s2kpi6ivvikvw2zpi6 since util-linux-uuid-2.36-nnpr5umpmkxnf5trps6vooajkhgbrspy failed\r\n...\r\n```\r\n\r\n### Information on your system\r\n\r\n```\r\n* **Spack:** 0.16.0-576-03f6717\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos7-zen2\r\n* **Concretizer:** original\r\n```\r\n\r\n### Additional information\r\n* [spack-build-out.txt](https://github.com/spack/spack/files/5823711/spack-build-out.txt)\r\n* [spack-build-env.txt](https://github.com/spack/spack/files/5823712/spack-build-env.txt)\r\n\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}