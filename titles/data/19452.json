{
    "url": "https://api.github.com/repos/spack/spack/issues/19452",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/19452/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/19452/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/19452/events",
    "html_url": "https://github.com/spack/spack/pull/19452",
    "id": 726842523,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTA3ODQ2MDk5",
    "number": 19452,
    "title": "Enable packages to use the NVIDIA HPC SDK",
    "user": {
        "login": "samcmill",
        "id": 18687225,
        "node_id": "MDQ6VXNlcjE4Njg3MjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/18687225?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/samcmill",
        "html_url": "https://github.com/samcmill",
        "followers_url": "https://api.github.com/users/samcmill/followers",
        "following_url": "https://api.github.com/users/samcmill/following{/other_user}",
        "gists_url": "https://api.github.com/users/samcmill/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/samcmill/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/samcmill/subscriptions",
        "organizations_url": "https://api.github.com/users/samcmill/orgs",
        "repos_url": "https://api.github.com/users/samcmill/repos",
        "events_url": "https://api.github.com/users/samcmill/events{/privacy}",
        "received_events_url": "https://api.github.com/users/samcmill/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2431484299,
            "node_id": "MDU6TGFiZWwyNDMxNDg0Mjk5",
            "url": "https://api.github.com/repos/spack/spack/labels/nvhpc",
            "name": "nvhpc",
            "color": "e0641d",
            "default": false,
            "description": ""
        },
        {
            "id": 620268714,
            "node_id": "MDU6TGFiZWw2MjAyNjg3MTQ=",
            "url": "https://api.github.com/repos/spack/spack/labels/patch",
            "name": "patch",
            "color": "5319e7",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "scheibelp",
        "id": 1659704,
        "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scheibelp",
        "html_url": "https://github.com/scheibelp",
        "followers_url": "https://api.github.com/users/scheibelp/followers",
        "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
        "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
        "organizations_url": "https://api.github.com/users/scheibelp/orgs",
        "repos_url": "https://api.github.com/users/scheibelp/repos",
        "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/scheibelp/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "scheibelp",
            "id": 1659704,
            "node_id": "MDQ6VXNlcjE2NTk3MDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1659704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scheibelp",
            "html_url": "https://github.com/scheibelp",
            "followers_url": "https://api.github.com/users/scheibelp/followers",
            "following_url": "https://api.github.com/users/scheibelp/following{/other_user}",
            "gists_url": "https://api.github.com/users/scheibelp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scheibelp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scheibelp/subscriptions",
            "organizations_url": "https://api.github.com/users/scheibelp/orgs",
            "repos_url": "https://api.github.com/users/scheibelp/repos",
            "events_url": "https://api.github.com/users/scheibelp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scheibelp/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 8,
    "created_at": "2020-10-21T20:31:33Z",
    "updated_at": "2020-11-01T01:39:55Z",
    "closed_at": "2020-10-22T21:42:49Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
        "url": "https://api.github.com/repos/spack/spack/pulls/19452",
        "html_url": "https://github.com/spack/spack/pull/19452",
        "diff_url": "https://github.com/spack/spack/pull/19452.diff",
        "patch_url": "https://github.com/spack/spack/pull/19452.patch"
    },
    "body": "Enable multiple Spack packages to build using the NVIDIA HPC SDK.\r\n\r\nSome test cases (x86, Power, or Arm):\r\n\r\n```\r\n$ spack install amber%nvhpc\r\n$ spack install lammps%nvhpc ^cmake%gcc ^ffmpeg%gcc\r\n$ spack install namd%nvhpc\r\n$ spack install qmcpack%nvhpc ^nvhpc ^cmake%gcc ^python%gcc\r\n$ spack install qmcpack+cuda%nvhpc cuda_arch=70 ^nvhpc ^cmake%gcc ^python%gcc\r\n$ spack install quantum-espresso@6.5%nvhpc ^nvhpc ^cmake%gcc\r\n```\r\n\r\nThe `qmcpack+cuda` example demonstrates how the NVIDIA HPC SDK can be used with an external CUDA.\r\n\r\nThis PR is mostly package fixes and workarounds specific to the HPC SDK.  This exercise uncovered issues with the NVIDIA compilers that will be fixed in future versions.  When those fixes are available, some of these changes can be modified to be conditional on the `nvhpc` version.\r\n\r\nThe default version of the `numactl` package was bumped to the latest release.\r\n\r\ncc @scheibelp ",
    "performed_via_github_app": null
}