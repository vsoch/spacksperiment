{
    "url": "https://api.github.com/repos/spack/spack/issues/20566",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/20566/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/20566/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/20566/events",
    "html_url": "https://github.com/spack/spack/issues/20566",
    "id": 774982330,
    "node_id": "MDU6SXNzdWU3NzQ5ODIzMzA=",
    "number": 20566,
    "title": "Using spack packages in CMake projects",
    "user": {
        "login": "JeffR1992",
        "id": 32366551,
        "node_id": "MDQ6VXNlcjMyMzY2NTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/32366551?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JeffR1992",
        "html_url": "https://github.com/JeffR1992",
        "followers_url": "https://api.github.com/users/JeffR1992/followers",
        "following_url": "https://api.github.com/users/JeffR1992/following{/other_user}",
        "gists_url": "https://api.github.com/users/JeffR1992/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/JeffR1992/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JeffR1992/subscriptions",
        "organizations_url": "https://api.github.com/users/JeffR1992/orgs",
        "repos_url": "https://api.github.com/users/JeffR1992/repos",
        "events_url": "https://api.github.com/users/JeffR1992/events{/privacy}",
        "received_events_url": "https://api.github.com/users/JeffR1992/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 508566016,
            "node_id": "MDU6TGFiZWw1MDg1NjYwMTY=",
            "url": "https://api.github.com/repos/spack/spack/labels/cmake",
            "name": "cmake",
            "color": "c2e0c6",
            "default": false,
            "description": null
        },
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 9,
    "created_at": "2020-12-27T05:52:23Z",
    "updated_at": "2020-12-31T20:10:21Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I've installed OpenCV with spack using `spack install opencv`, and am now trying to use this spack version of OpenCV in a CMake project.\r\n\r\nIn my current CMake project, I'm using OpenCV version 3.2, that comes with Ubuntu 18.04, as follows:\r\n```\r\nfind_package(OpenCV REQUIRED)\r\ninclude_directories(${OpenCV_INCLUDE_DIRS})\r\ntarget_link_libraries(main ${OpenCV_LIBS})\r\n```\r\n\r\nHowever, I'm a little uncertain as to how I can instead use the newer spack version of OpenCV in my CMake project. One attempt I tried was to find out where spack installed OpenCV, and then use this hard coded path to include header files and gain access to the OpenCV shared libraries. \r\n\r\nSpack installed OpenCV into\r\n```\r\n~/spack/opt/spack/linux-ubuntu18.04-skylake/gcc-10.1.0/opencv-4.5.0-bgg64urfqe7473kwszrujfmqzrn3d7xw/\r\n```\r\nwith `bin, include, lib` and `share` directories contained within this directory. As such, I tried using the spack version of OpenCV in my CMake project as follows:\r\n```\r\ninclude_directories(~/spack/opt/spack/linux-ubuntu18.04-skylake/gcc-10.1.0/opencv-4.5.0-\r\nbgg64urfqe7473kwszrujfmqzrn3d7xw/include)\r\nlink_directories(~/spack/opt/spack/linux-ubuntu18.04-skylake/gcc-10.1.0/opencv-4.5.0-bgg64urfqe7473kwszrujfmqzrn3d7xw/lib)\r\ntarget_link_libraries(main opencv_core)\r\n```\r\nHowever, when compiling my code I receive linking errors, and as such I was wondering if there's a cleaner way of using spack packages in CMake projects. Any help would be appreciated.\r\n",
    "performed_via_github_app": null
}