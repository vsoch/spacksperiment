{
    "url": "https://api.github.com/repos/spack/spack/issues/21551",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/21551/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/21551/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/21551/events",
    "html_url": "https://github.com/spack/spack/issues/21551",
    "id": 804056359,
    "node_id": "MDU6SXNzdWU4MDQwNTYzNTk=",
    "number": 21551,
    "title": "Installation issue: lua",
    "user": {
        "login": "fluidnumerics-joe",
        "id": 11430768,
        "node_id": "MDQ6VXNlcjExNDMwNzY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/11430768?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fluidnumerics-joe",
        "html_url": "https://github.com/fluidnumerics-joe",
        "followers_url": "https://api.github.com/users/fluidnumerics-joe/followers",
        "following_url": "https://api.github.com/users/fluidnumerics-joe/following{/other_user}",
        "gists_url": "https://api.github.com/users/fluidnumerics-joe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fluidnumerics-joe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fluidnumerics-joe/subscriptions",
        "organizations_url": "https://api.github.com/users/fluidnumerics-joe/orgs",
        "repos_url": "https://api.github.com/users/fluidnumerics-joe/repos",
        "events_url": "https://api.github.com/users/fluidnumerics-joe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fluidnumerics-joe/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 446616547,
            "node_id": "MDU6TGFiZWw0NDY2MTY1NDc=",
            "url": "https://api.github.com/repos/spack/spack/labels/build-error",
            "name": "build-error",
            "color": "ff3300",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-02-08T23:34:25Z",
    "updated_at": "2021-07-01T21:49:38Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install lua@5.3.5%gcc@8.3.0+shared\r\n...\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j4' 'INSTALL_TOP=/home/joe/spack/opt/spack/linux-debian10-haswell/gcc-8.3.0/lua-5.3.5-4wo4eijeii2m4mkthvrtbiiponlqjo3s' 'MYLDFLAGS=-L/home/joe/spack/opt/spack/linux-debian10-haswell/gcc-8.3.0/readline-8.0-attqxu4bt7rbke4bqhlbedsn5pux3xeu/lib -L/usr/lib' 'MYLIBS=-lncursesw -ltinfow' 'CC=/home/joe/spack/lib/spack/env/gcc/gcc -std=gnu99 -fPIC' 'linux'\r\n\r\n4 errors found in build log:\r\n     41    /home/joe/spack/lib/spack/env/gcc/gcc -std=gnu99 -fPIC -O2 -Wall -Wextra -DLUA_COMPAT_5_2 -DLUA_USE_LINUX    -c -o luac.o luac.c\r\n     42    ar rcu liblua.a lapi.o lcode.o lctype.o ldebug.o ldo.o ldump.o lfunc.o lgc.o llex.o lmem.o lobject.o lopcodes.o lparser.o lstate.o lstring.o ltable.o ltm.o lundump.o lvm.o lzio.o lauxlib.o lb\r\n           aselib.o lbitlib.o lcorolib.o ldblib.o liolib.o lmathlib.o loslib.o lstrlib.o ltablib.o lutf8lib.o loadlib.o linit.o\r\n     43    ar: `u' modifier ignored since `D' is the default (see `U')\r\n     44    ranlib liblua.a\r\n     45    /home/joe/spack/lib/spack/env/gcc/gcc -std=gnu99 -fPIC -o lua  -L/home/joe/spack/opt/spack/linux-debian10-haswell/gcc-8.3.0/readline-8.0-attqxu4bt7rbke4bqhlbedsn5pux3xeu/lib -L/usr/lib lua.o \r\n           liblua.a -lm -Wl,-E -ldl -lreadline -lncursesw -ltinfow\r\n     46    /home/joe/spack/lib/spack/env/gcc/gcc -std=gnu99 -fPIC -o luac  -L/home/joe/spack/opt/spack/linux-debian10-haswell/gcc-8.3.0/readline-8.0-attqxu4bt7rbke4bqhlbedsn5pux3xeu/lib -L/usr/lib luac.\r\n           o liblua.a -lm -Wl,-E -ldl -lreadline -lncursesw -ltinfow\r\n  >> 47    /usr/bin/ld: cannot find -ltinfow\r\n  >> 48    collect2: error: ld returned 1 exit status\r\n  >> 49    /usr/bin/ld: cannot find -ltinfow\r\n     50    make[2]: *** [Makefile:66: luac] Error 1\r\n     51    make[2]: *** Waiting for unfinished jobs....\r\n  >> 52    collect2: error: ld returned 1 exit status\r\n     53    make[2]: *** [Makefile:63: lua] Error 1\r\n     54    make[2]: Leaving directory '/tmp/joe/spack-stage/spack-stage-lua-5.3.5-4wo4eijeii2m4mkthvrtbiiponlqjo3s/spack-src/src'\r\n     55    make[1]: *** [Makefile:110: linux] Error 2\r\n     56    make[1]: Leaving directory '/tmp/joe/spack-stage/spack-stage-lua-5.3.5-4wo4eijeii2m4mkthvrtbiiponlqjo3s/spack-src/src'\r\n     57    make: *** [Makefile:55: linux] Error 2\r\n```\r\n\r\n### Information on your system\r\n\r\n```\r\n$ spack debug report\r\n* **Spack:** 0.16.0-1202-94a9e511cb\r\n* **Python:** 3.7.3\r\n* **Platform:** linux-debian10-haswell\r\n* **Concretizer:** original\r\n```\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\nspack-build-out.txt and spack-build-env.txt cannot be found in the stage directory\r\n\r\nNo maintainers found for lua\r\n\r\nMannually editing line 57 of the lua package so that\r\n```\r\nMYLIBS=-lncurses -ltinfo\r\n```\r\nresults in a working build.\r\n\r\n### General information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [ x ] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [ x ] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers\r\n- [ ] I have uploaded the build log and environment files\r\n- [ x ] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "performed_via_github_app": null
}