{
    "url": "https://api.github.com/repos/spack/spack/issues/2251",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/2251/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/2251/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/2251/events",
    "html_url": "https://github.com/spack/spack/issues/2251",
    "id": 187488922,
    "node_id": "MDU6SXNzdWUxODc0ODg5MjI=",
    "number": 2251,
    "title": "`spack test`: ~5x slowdown in tests involving `MockDatabase`?",
    "user": {
        "login": "alalazo",
        "id": 4199709,
        "node_id": "MDQ6VXNlcjQxOTk3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4199709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alalazo",
        "html_url": "https://github.com/alalazo",
        "followers_url": "https://api.github.com/users/alalazo/followers",
        "following_url": "https://api.github.com/users/alalazo/following{/other_user}",
        "gists_url": "https://api.github.com/users/alalazo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alalazo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alalazo/subscriptions",
        "organizations_url": "https://api.github.com/users/alalazo/orgs",
        "repos_url": "https://api.github.com/users/alalazo/repos",
        "events_url": "https://api.github.com/users/alalazo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alalazo/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 460427403,
            "node_id": "MDU6TGFiZWw0NjA0Mjc0MDM=",
            "url": "https://api.github.com/repos/spack/spack/labels/performance",
            "name": "performance",
            "color": "c2e0c6",
            "default": false,
            "description": null
        },
        {
            "id": 73908758,
            "node_id": "MDU6TGFiZWw3MzkwODc1OA==",
            "url": "https://api.github.com/repos/spack/spack/labels/question",
            "name": "question",
            "color": "cc317c",
            "default": true,
            "description": null
        },
        {
            "id": 456341797,
            "node_id": "MDU6TGFiZWw0NTYzNDE3OTc=",
            "url": "https://api.github.com/repos/spack/spack/labels/tests",
            "name": "tests",
            "color": "b60205",
            "default": false,
            "description": "General test capability(ies)"
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2016-11-05T10:24:37Z",
    "updated_at": "2016-11-07T04:50:14Z",
    "closed_at": "2016-11-07T04:50:14Z",
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Information on where I am working:\r\n```console\r\n$ uname -a \r\nLinux nuvolari 4.4.0-45-generic #66~14.04.1-Ubuntu SMP Wed Oct 19 15:05:38 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\nIf I run any test involving `MockDatabase` from the latest develop:\r\n```console\r\n$ git checkout develop\r\nAlready on 'develop'\r\nYour branch is up-to-date with 'origin/develop'.\r\n\r\n$ git branch -v\r\n* develop a260e7e Bugfix in concretize_compiler (#2196)\r\n\r\n$ spack test cmd.uninstall\r\n==> Installing mpileaks\r\n==> Installing mpich\r\n==> Building mpich [Package]\r\n...\r\n----------------------------------------------------------------------\r\nRan 1 test in 40.622s\r\n\r\nOK\r\n==> Tests Complete.\r\n      1 tests run\r\n      0 failures\r\n      0 errors\r\n==> OK\r\n```\r\nGoing back over the last commits, the first one at which I get the old performance is:\r\n```console\r\n$ git checkout 4e6d535\r\nNote: checking out '4e6d535'.\r\n\r\nYou are in 'detached HEAD' state. You can look around, make experimental\r\nchanges and commit them, and you can discard any commits you make in this\r\nstate without impacting any branches by performing another checkout.\r\n\r\nIf you want to create a new branch to retain commits you create, you may\r\ndo so (now or later) by using -b with the checkout command again. Example:\r\n\r\n  git checkout -b new_branch_name\r\n\r\nHEAD is now at 4e6d535... Set Clang as the default compiler on macOS (#2225)\r\n\r\n$ spack test cmd.uninstall\r\n==> Installing mpileaks\r\n==> Installing mpich\r\n==> Building mpich [Package]\r\n...\r\n----------------------------------------------------------------------\r\nRan 1 test in 7.855s\r\n\r\nOK\r\n==> Tests Complete.\r\n      1 tests run\r\n      0 failures\r\n      0 errors\r\n==> OK\r\n```\r\nThis seems to point to #1822 as the source of this slowdown. Can anybody else reproduce the issue ?",
    "performed_via_github_app": null
}