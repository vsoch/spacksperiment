{
    "url": "https://api.github.com/repos/spack/spack/issues/7448",
    "repository_url": "https://api.github.com/repos/spack/spack",
    "labels_url": "https://api.github.com/repos/spack/spack/issues/7448/labels{/name}",
    "comments_url": "https://api.github.com/repos/spack/spack/issues/7448/comments",
    "events_url": "https://api.github.com/repos/spack/spack/issues/7448/events",
    "html_url": "https://github.com/spack/spack/issues/7448",
    "id": 304015330,
    "node_id": "MDU6SXNzdWUzMDQwMTUzMzA=",
    "number": 7448,
    "title": "Installing xz fails with SSL/cert error, even when using http://....",
    "user": {
        "login": "hartzell",
        "id": 312978,
        "node_id": "MDQ6VXNlcjMxMjk3OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/312978?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hartzell",
        "html_url": "https://github.com/hartzell",
        "followers_url": "https://api.github.com/users/hartzell/followers",
        "following_url": "https://api.github.com/users/hartzell/following{/other_user}",
        "gists_url": "https://api.github.com/users/hartzell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hartzell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hartzell/subscriptions",
        "organizations_url": "https://api.github.com/users/hartzell/orgs",
        "repos_url": "https://api.github.com/users/hartzell/repos",
        "events_url": "https://api.github.com/users/hartzell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hartzell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-03-09T23:45:25Z",
    "updated_at": "2018-03-10T00:03:53Z",
    "closed_at": "2018-03-10T00:03:52Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Installing xz fails due to a certificate issue, which is weird because it's using an `http` URL.\r\n\r\nI'm learning my way around a new system.  It lacks things (no emacs, the horror!) and I'm using Spack to spin them up.\r\n\r\nThe system is:\r\n\r\n```\r\n$ cat /etc/lsb-release\r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=14.04\r\nDISTRIB_CODENAME=trusty\r\nDISTRIB_DESCRIPTION=\"Ubuntu 14.04.1 LTS\"\r\n```\r\n\r\nand I'm using the system compilers and etc...., looks like `v4.8.2`.\r\n\r\nIt's entirely possible that this system has an old set of CA certs or ...  I'll keep digging.\r\n\r\n### Expected Result\r\n\r\nI tried to `spack install git`, which in turn tried to install `xz`.  I expected it to succeed.\r\n\r\n### Actual Result\r\n\r\n```\r\n==> Installing xz\r\n==> Fetching http://tukaani.org/xz/xz-5.2.3.tar.bz2\r\n######################################################################## 100.0%\r\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\r\nMore details here: http://curl.haxx.se/docs/sslcerts.html\r\n\r\ncurl performs SSL certificate verification by default, using a \"bundle\"\r\n of Certificate Authority (CA) public keys (CA certs). If the default\r\n bundle file isn't adequate, you can specify an alternate file\r\n using the --cacert option.\r\nIf this HTTPS server uses a certificate signed by a CA represented in\r\n the bundle, the certificate verification probably failed due to a\r\n problem with the certificate (it might be expired, or the name might\r\n not match the domain name in the URL).\r\nIf you'd like to turn off curl's verification of the certificate, use\r\n the -k (or --insecure) option.\r\n==> Fetching from http://tukaani.org/xz/xz-5.2.3.tar.bz2 failed.\r\n==> Warning: Spack will not check SSL certificates. You need to update your Python to enable certificate verification.\r\n==> Warning: Spack will not check SSL certificates. You need to update your Python to enable certificate verification.\r\n==> Fetching https://tukaani.org/xz/xz-5.2.3.tar.bz2\r\n######################################################################## 100.0%\r\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\r\nMore details here: http://curl.haxx.se/docs/sslcerts.html\r\n\r\ncurl performs SSL certificate verification by default, using a \"bundle\"\r\n of Certificate Authority (CA) public keys (CA certs). If the default\r\n bundle file isn't adequate, you can specify an alternate file\r\n using the --cacert option.\r\nIf this HTTPS server uses a certificate signed by a CA represented in\r\n the bundle, the certificate verification probably failed due to a\r\n problem with the certificate (it might be expired, or the name might\r\n not match the domain name in the URL).\r\nIf you'd like to turn off curl's verification of the certificate, use\r\n the -k (or --insecure) option.\r\n==> Fetching from https://tukaani.org/xz/xz-5.2.3.tar.bz2 failed.\r\n==> Error: FetchError: All fetchers failed for xz-5.2.3-ekob74s54rmah2oph3p6tjo6dxa73vf7\r\nFetchError: FetchError: All fetchers failed for xz-5.2.3-ekob74s54rmah2oph3p6tjo6dxa73vf7\r\n\r\n/home/hartzell/spack/lib/spack/spack/package.py:1002, in do_fetch:\r\n     25                                     self.spec.format('$_$@'), ck_msg)\r\n     26\r\n     27            self.stage.create()\r\n  >> 28            self.stage.fetch(mirror_only)\r\n     29            self._fetch_time = time.time() - start_time\r\n     30\r\n     31            if spack.do_checksum and self.version in self.versions:\r\n\r\n```\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install xz\r\n```\r\n\r\n### Information on your system\r\n\r\nSee above.\r\n",
    "performed_via_github_app": null
}